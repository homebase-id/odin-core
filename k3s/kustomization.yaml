# =============================================================================
# KUSTOMIZATION - Base (includes everything)
# =============================================================================
# Apply everything (including database):
#   kubectl apply -k .
#
# Restart all deployments to pick up changes in configmaps/secrets:
#   kubectl rollout restart deployment identity-host redis -n odin && kubectl rollout restart statefulset postgres -n odin
#
# Delete everything (INCLUDING database files!!!!!!):
#   kubectl delete -k .
# =============================================================================

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Default namespace for all resources (can be overridden per-resource)
namespace: odin

# List of YAML files to include (order matters for dependencies)
resources:
  - namespace.yaml
  - postgres.yaml
  - redis.yaml
  - identity-host.yaml
