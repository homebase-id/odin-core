"use strict";(self.webpackChunkpublic_app=self.webpackChunkpublic_app||[]).push([[729],{5918:function(e,t,n){var a=n(9631),r=n(3504),i=n(1824),o=n(706),s=n(4990),l=n(8602),c=n(2170),u=n(7764),d=n(3990),h=n(184);t.Z=function(e){var t,n,f=e.className,m=e.postFile,p=m.content,v=m.previewThumbnail,g=e.isSingleCol,x=e.hideImageWhenNone,y=e.showChannel,b=(0,u.Z)({channelId:p.channelId}).data;return(0,h.jsx)("div",{className:"w-full ".concat(null!==f&&void 0!==f?f:""),children:(0,h.jsx)(r.rU,{to:"/home/posts/".concat(null===b||void 0===b?void 0:b.slug,"/").concat(null!==(t=p.slug)&&void 0!==t?t:"#"),className:"contents",children:(0,h.jsxs)("div",{className:"relative h-full overflow-hidden rounded-lg border border-gray-200 border-opacity-60 transition-colors hover:shadow-md dark:border-gray-800 hover:dark:shadow-slate-600 ",children:[(!x||p.primaryImageFileId)&&(0,h.jsx)("div",{className:"relative ".concat(g?"sm:p-6 sm:pb-2":""),children:p.primaryImageFileId?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.Z,{className:"".concat(g&&"sm:rounded-lg"," ").concat("Image"===p.type||"Video"===p.type?"h-full max-h-[30rem] w-auto":"h-64 w-full md:h-36 lg:h-48"," ").concat("Image"===p.type&&""," ").concat("Video"===p.type&&"aspect-video"),fileId:p.primaryImageFileId,targetDrive:(0,a.V7)(p.channelId),alt:"blog",fit:"cover",previewThumbnail:v}),"Video"===p.type&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l.Z,{className:"absolute top-[calc(50%-2.5rem)] left-[calc(50%-2.5rem)] h-20 w-20 text-white"})})]}):x?null:(0,h.jsx)("div",{className:"max-w-full overflow-hidden text-ellipsis whitespace-nowrap bg-slate-50 text-slate-200 dark:bg-slate-700 dark:text-slate-600 ".concat(g&&"sm:rounded-lg"," ").concat("Image"===p.type||"Video"===p.type?"h-full max-h-[30rem] w-auto":"h-64 w-full md:h-36 lg:h-48"," ").concat("Video"===p.type&&"aspect-video"),children:(0,h.jsx)("p",{className:"p-2 text-9xl ",children:p.caption})})}),(0,h.jsxs)("div",{className:"px-6 py-4",children:[(0,h.jsxs)("div",{className:"flex flex-row text-foreground text-opacity-40",children:[(0,h.jsx)("span",{className:"my-auto text-xs",children:new Date(p.dateUnixTime).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),(0,h.jsxs)("h2",{className:"my-auto ml-2 border-l pl-2 text-xs font-medium uppercase tracking-wide dark:border-slate-500",children:[p.type,y&&null!==b&&void 0!==b&&b.name?" - ".concat(null===b||void 0===b?void 0:b.name):""]})]}),(0,h.jsx)("h1",{className:"text-lg font-medium text-foreground text-opacity-90",children:p.caption}),"Article"===p.type?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("p",{className:"my-3 leading-relaxed",children:[(0,d.iL)(p.abstract,240),(null===p||void 0===p||null===(n=p.abstract)||void 0===n?void 0:n.length)>240?(0,h.jsx)("span",{className:"text-button",children:(0,s.t)("Read more")}):null]}),(0,h.jsx)("div",{className:"flex flex-wrap items-center ",children:(0,h.jsxs)("span",{className:"inline-flex items-center text-button md:mb-2 lg:mb-0",children:[(0,s.t)("Read more"),(0,h.jsx)(o.Z,{className:"ml-2 h-4 w-4"})]})})]}):null]}),(0,h.jsx)("div",{className:"absolute bottom-0 right-0 flex items-center p-5 text-sm text-gray-300",children:(0,h.jsxs)("span",{className:"inline-flex items-center",children:[(0,h.jsx)(c.Z,{className:"mr-1 inline-block h-4 w-4"})," 6"]})})]})})})}},2744:function(e,t,n){var a=n(5918),r=n(184);t.Z=function(e){var t=e.blogPosts,n=e.showChannel;return(0,r.jsx)("div",{className:"-my-4 max-w-4xl",children:null===t||void 0===t?void 0:t.map((function(e){return(0,r.jsx)(a.Z,{postFile:e,className:"my-4",isSingleCol:!0,hideImageWhenNone:!0,showChannel:n},e.content.id)}))})}},706:function(e,t,n){var a=n(184);t.Z=function(e){var t=e.className;return(0,a.jsxs)("svg",{className:t,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M5 12h14"}),(0,a.jsx)("path",{d:"M12 5l7 7-7 7"})]})}},2170:function(e,t,n){var a=n(184);t.Z=function(e){var t=e.className;return(0,a.jsx)("svg",{className:t,stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"})})}},8602:function(e,t,n){var a=n(184);t.Z=function(e){var t=e.className;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",className:t,children:(0,a.jsx)("path",{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"})})}},4999:function(e,t,n){var a=n(4165),r=n(5861),i=n(7858),o=n(9631),s=n(7686);t.Z=function(e){var t=e.channelId,n=e.pageSize,l=void 0===n?30:n,c=e.enabled,u=void 0===c||c,d=(0,s.Z)(),h=d.getSharedSecret,f=d.getApiType,m=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n,r,i,s,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.channelId,r=t.pageParam,i=new o.pt({api:f(),sharedSecret:h()}),!n){e.next=9;break}return e.next=5,i.blogPostReadonlyProvider.getPosts(n,void 0,"string"===typeof r?r:void 0,l);case 5:return s=e.sent,e.abrupt("return",{results:s.results.filter((function(e){return!e.isDraft})),cursorState:s.cursorState});case 9:return e.next=11,i.blogPostReadonlyProvider.getRecentPosts(void 0,l,"object"===typeof r?r:void 0);case 11:return c=e.sent,e.abrupt("return",{results:c.results.filter((function(e){return!e.isDraft})),cursorState:c.cursorState});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,i.N)(["blogs",t],(function(e){var n=e.pageParam;return m({channelId:t,pageParam:n})}),{getNextPageParam:function(e){var t,n;return null!==(t=(null===e||void 0===e||null===(n=e.results)||void 0===n?void 0:n.length)>=l&&(null===e||void 0===e?void 0:e.cursorState))&&void 0!==t?t:void 0},refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0,enabled:u})}},7764:function(e,t,n){var a=n(4165),r=n(1413),i=n(5861),o=n(5439),s=n(9631),l=n(7686),c=n(805);t.Z=function(e){var t=e.channelSlug,n=e.channelId,u=(0,l.Z)(),d=u.getSharedSecret,h=u.getApiType,f=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var n,i,o,l,u,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.channelSlug,i=t.channelId,n||i){e.next=3;break}return e.abrupt("return");case 3:return o=new s.pt({api:h(),sharedSecret:d()}),l=void 0,e.next=7,o.fileReadOnlyProvider.GetFile("blogs.json");case 7:if((u=e.sent)&&u.forEach((function(e){var t=e.find((function(e){return e.header.fileMetadata.appData.fileType===s.Hm.ChannelDefinitionFileType&&(n?e.payload.slug===n:e.payload.channelId===i)}));t&&(l=t.payload)})),l){e.next=25;break}if(!n){e.next=16;break}return e.next=13,o.blogPostReadonlyProvider.getChannelDefinitionBySlug(n);case 13:e.t0=e.sent,e.next=24;break;case 16:if(!i){e.next=22;break}return e.next=19,o.blogPostReadonlyProvider.getChannelDefinition(i);case 19:e.t1=e.sent,e.next=23;break;case 22:e.t1=void 0;case 23:e.t0=e.t1;case 24:l=e.t0;case 25:if(!l){e.next=27;break}return e.abrupt("return",(0,r.Z)((0,r.Z)({},l),{},{template:(0,c.B)(null===(f=l)||void 0===f?void 0:f.templateId)}));case 27:return e.abrupt("return");case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,o.a)(["channel",t||n],(function(){return f({channelSlug:t,channelId:n})}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})}},805:function(e,t,n){n.d(t,{B:function(){return u}});var a=n(4165),r=n(1413),i=n(2982),o=n(5861),s=n(5439),l=n(9631),c=n(7686),u=function(e){return parseInt(e+"")===l.rJ.LargeCards?l.rJ.LargeCards:parseInt(e+"")===l.rJ.MasonryLayout?l.rJ.MasonryLayout:l.rJ.ClassicBlog};t.Z=function(){var e=(0,c.Z)(),t=e.getSharedSecret,n=e.getApiType,d=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var o,s,c,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new l.pt({api:n(),sharedSecret:t()}),c=[],e.next=4,s.fileReadOnlyProvider.GetFile("blogs.json");case 4:if((d=e.sent)&&d.forEach((function(e){var t=e.filter((function(e){return e.header.fileMetadata.appData.fileType===l.Hm.ChannelDefinitionFileType}));c=[].concat((0,i.Z)(c),(0,i.Z)(t.map((function(e){return(0,r.Z)({},e.payload)}))))})),null!==(o=c)&&void 0!==o&&o.length){e.next=10;break}return e.next=9,s.blogPostReadonlyProvider.getChannels();case 9:c=e.sent;case 10:return e.abrupt("return",c.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{template:u(null===e||void 0===e?void 0:e.templateId)})})));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.a)(["channels"],(function(){return d()}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})}},9729:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var a=n(6907),r=n(3504),i=n(6871),o=n(184),s=function(e){var t=e.className,n=e.items,a=(0,i.s0)(),s=(null===n||void 0===n?void 0:n.length)>=6;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"hidden flex-col flex-wrap ".concat(s?"":"sm:flex"," sm:flex-row ").concat(null!==t&&void 0!==t?t:""),children:n.map((function(e){return(0,o.jsx)(r.OL,{className:function(t){var n,a=t.isActive;return"flex-grow cursor-pointer border-b-2 py-2 px-1 text-lg ".concat(a?"border-button text-button":"border-gray-300 transition-colors duration-300 hover:border-button hover:border-opacity-50 dark:border-gray-800"," ").concat(null!==(n=e.className)&&void 0!==n?n:"")},to:e.path,end:!0,children:e.title},e.key)}))}),(0,o.jsx)("select",{className:"".concat(s?"":"sm:hidden"," mb-8 w-full rounded border border-gray-300 bg-white py-4 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100"),onChange:function(e){return a(e.target.value)},defaultValue:window.location.pathname,children:n.map((function(e){return(0,o.jsx)("option",{value:e.path,children:e.text||e.title},e.key)}))})]})},l=n(9631),c=n(2791),u=n(805),d=n(4990),h=n(4999),f=n(5918),m=function(e){var t=e.blogPosts;return(0,o.jsx)("div",{className:"-m-4 flex flex-wrap",children:null===t||void 0===t?void 0:t.map((function(e){return(0,o.jsx)(f.Z,{postFile:e,className:"p-4 md:w-1/2 lg:w-1/3"},e.content.id)}))})},p=n(2744),v=n(885),g=function(e){var t=e.blogPosts,n=(0,c.useState)(1),a=(0,v.Z)(n,2),r=a[0],i=a[1],s=(0,c.useCallback)((function(){var e=document.documentElement.clientWidth;i(e>=1280?4:e>=1024?3:e>=640?2:1)}),[]);return(0,c.useEffect)((function(){return window.addEventListener("resize",s),s(),function(){window.removeEventListener("resize",s)}}),[s]),(0,o.jsx)("div",{className:"-my-4 gap-4 sm:columns-2 lg:columns-3 xl:columns-4",children:function(e,t){for(var n=t,a=[],r=0;r<n;){for(var i=0;i<e.length;i+=n){var o=e[i+r];void 0!==o&&a.push(o)}r++}return a}(t,r).map((function(e){return(0,o.jsx)(f.Z,{className:"py-2",postFile:e,hideImageWhenNone:!0},e.content.id)}))})},x=n(6430),y=n(7764),b=n(3990),w=function(){var e=(0,i.UO)().channelKey,t=(0,u.Z)().data,n=(0,y.Z)(e?{channelSlug:e}:{channelId:l.Hm.PublicChannel.channelId}).data,r=(0,h.Z)({channelId:null===n||void 0===n?void 0:n.channelId,pageSize:10}),f=r.data,v=r.hasNextPage,w=r.fetchNextPage,Z=(0,c.useRef)(null);(0,x.s)(v?Z:void 0,(function(){w()}),!0);var N=n?n.template===l.rJ.LargeCards?m:n.template===l.rJ.MasonryLayout?g:p.Z:p.Z,j=(0,b.bJ)(f,10,(function(e,t){return t.content.dateUnixTime-e.content.dateUnixTime}));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.ql,{children:(0,o.jsxs)("title",{children:[(0,d.t)("Blog")," | Youniverse"]})}),(0,o.jsx)("section",{className:"py-5",children:(0,o.jsx)("div",{className:"container mx-auto px-5",children:(0,o.jsxs)("section",{className:"body-font text-gray-600 dark:text-gray-400",children:[t&&t.length>1?(0,o.jsx)(s,{className:"mb-8",items:t.map((function(e){return{key:e.channelId,title:e.name,path:"/home/posts/".concat(e.slug)}}))}):null,null!==j&&void 0!==j&&j.length?(0,o.jsx)(N,{blogPosts:j}):(0,o.jsx)(o.Fragment,{children:(0,d.t)("No posts found")}),(0,o.jsx)("div",{ref:Z,className:"h-1 w-full"})]})})})]})}},7858:function(e,t,n){n.d(t,{N:function(){return x}});var a=n(4925),r=n(1413),i=n(5671),o=n(3144),s=n(1752),l=n(1120),c=n(9340),u=n(1129),d=n(1135),h=n(2806),f=["pageParam"],m=["pageParam"],p=function(e){(0,c.Z)(n,e);var t=(0,u.Z)(n);function n(e,a){return(0,i.Z)(this,n),t.call(this,e,a)}return(0,o.Z)(n,[{key:"bindMethods",value:function(){(0,s.Z)((0,l.Z)(n.prototype),"bindMethods",this).call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}},{key:"setOptions",value:function(e,t){(0,s.Z)((0,l.Z)(n.prototype),"setOptions",this).call(this,(0,r.Z)((0,r.Z)({},e),{},{behavior:(0,h.Gm)()}),t)}},{key:"getOptimisticResult",value:function(e){return e.behavior=(0,h.Gm)(),(0,s.Z)((0,l.Z)(n.prototype),"getOptimisticResult",this).call(this,e)}},{key:"fetchNextPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageParam,n=(0,a.Z)(e,f);return this.fetch((0,r.Z)((0,r.Z)({},n),{},{meta:{fetchMore:{direction:"forward",pageParam:t}}}))}},{key:"fetchPreviousPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageParam,n=(0,a.Z)(e,m);return this.fetch((0,r.Z)((0,r.Z)({},n),{},{meta:{fetchMore:{direction:"backward",pageParam:t}}}))}},{key:"createResult",value:function(e,t){var a,i,o,c,u,d,f=e.state,m=(0,s.Z)((0,l.Z)(n.prototype),"createResult",this).call(this,e,t),p=m.isFetching,v=m.isRefetching,g=p&&"forward"===(null==(a=f.fetchMeta)||null==(i=a.fetchMore)?void 0:i.direction),x=p&&"backward"===(null==(o=f.fetchMeta)||null==(c=o.fetchMore)?void 0:c.direction);return(0,r.Z)((0,r.Z)({},m),{},{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,h.Qy)(t,null==(u=f.data)?void 0:u.pages),hasPreviousPage:(0,h.ZF)(t,null==(d=f.data)?void 0:d.pages),isFetchingNextPage:g,isFetchingPreviousPage:x,isRefetching:v&&!g&&!x})}}]),n}(d.z),v=n(3734),g=n(8560);function x(e,t,n){var a=(0,v._v)(e,t,n);return(0,g.r)(a,p)}}}]);
//# sourceMappingURL=729.afbc8da5.chunk.js.map