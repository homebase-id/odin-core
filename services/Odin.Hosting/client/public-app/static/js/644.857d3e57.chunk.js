"use strict";(self.webpackChunkpublic_app=self.webpackChunkpublic_app||[]).push([[644],{2161:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(885),a=n(2791),s=n(4990),i=n(7686),o=n(4164),c=n(3412),l=n(8930),u=n(8034),d=n(184),h=function(e){var t=e.isOpen,n=e.title,r=e.onCancel,a=(0,c.Z)("modal-container");if(!t)return null;var s=(0,d.jsx)(l.Z,{title:n,onClose:r,children:(0,d.jsx)(u.K,{})});return(0,o.createPortal)(s,a)},f=function(e){var t=e.className,n=(0,i.Z)(),o=n.isAuthenticated,c=n.getIdentity,l=n.isOwner,u=(0,a.useState)(!1),f=(0,r.Z)(u,2),p=f[0],m=f[1];return l?null:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("a",{className:"block flex-grow cursor-pointer rounded-md bg-button px-3 py-2 text-center text-button-text hover:grayscale-[20%] hover:filter sm:flex-grow-0 md:text-left ".concat(null!==t&&void 0!==t?t:""),href:o&&!l?"https://".concat(c(),"/owner/connections/").concat(window.location.host):void 0,onClick:o?void 0:function(){return m(!0)},children:(0,s.t)("Connect")}),(0,d.jsx)(h,{isOpen:p,onCancel:function(){return m(!1)},title:(0,s.t)("Login required")})]})}},9662:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(885),a=n(2791),s=n(4990),i=n(7686),o=n(4164),c=n(3412),l=n(7324),u=n(8930),d=n(3243),h=n(184),f=function(e){var t=e.title,n=e.children,r=e.confirmText,a=e.isOpen,i=e.onConfirm,f=e.onCancel,p=(0,c.Z)("modal-container");if(!a)return null;var m=(0,h.jsxs)(u.Z,{title:(0,h.jsxs)("div",{className:"flex flex-row items-center",children:[(0,h.jsx)(d.Z,{className:"mr-2 h-6 w-6"})," ",t]}),onClose:f,isSidePanel:!1,children:[n,(0,h.jsx)("div",{className:"-m-2 flex flex-row-reverse py-3",children:(0,h.jsx)(l.Z,{className:"m-2",onClick:i,children:r||(0,s.t)("Ok")})})]});return(0,o.createPortal)(m,p)},p=function(e){var t=e.className,n=(0,i.Z)().isOwner,o=(0,a.useState)(!1),c=(0,r.Z)(o,2),l=c[0],u=c[1];return n?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("a",{className:"block flex-grow cursor-pointer rounded-md bg-button px-3 py-2 text-center text-button-text hover:bg-button hover:grayscale-[20%] hover:filter sm:flex-grow-0 md:text-left ".concat(null!==t&&void 0!==t?t:""),onClick:function(){return u(!0)},children:(0,s.t)("Follow")}),(0,h.jsx)(f,{isOpen:l,onConfirm:function(){return u(!1)},onCancel:function(){return u(!1)},title:(0,s.t)("Coming soon"),children:(0,h.jsx)("p",{children:(0,s.t)("Unfortunately it is not possible yet to follow someone. This feature will come soon")}),confirmText:(0,s.t)("Ok")})]})}},3111:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(4165),a=n(5861),s=n(5439),i=n(9631),o=n(7686),c=function(){var e=(0,o.Z)(),t=e.getSharedSecret,n=e.getApiType,c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var a,s,o,c,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new i.pt({api:n(),sharedSecret:t()}),e.next=3,a.fileReadOnlyProvider.GetFile("sitedata.json");case 3:if(!(s=e.sent).has("link")){e.next=8;break}if(null===(c=null===(o=s.get("link"))||void 0===o?void 0:o.sort((function(e,t){return t.payload.priority-e.payload.priority})).map((function(e){var t=e.payload;return{text:t.data[i.fG.LinkText],target:t.data[i.fG.LinkTarget],id:t.id}})))||void 0===c||!c.length){e.next=8;break}return e.abrupt("return",c);case 8:return e.next=10,a.profileDataProvider.getAttributeVersions(i.P.StandardProfileId,void 0,[i.H1.Link.type]);case 10:return l=e.sent,e.abrupt("return",null===l||void 0===l?void 0:l.sort((function(e,t){return t.priority-e.priority})).map((function(e){return{text:e.data[i.fG.LinkText],target:e.data[i.fG.LinkTarget],id:e.id}})));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.a)(["link"],c,{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})},l=n(1607),u=n(6991),d=n(184),h=function(e){var t=e.className;return(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:t,fill:"currentColor",children:(0,d.jsx)("path",{d:"M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 21 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"})})},f=n(302),p=n(2981),m=n(9644),v=n(2680),x=n(8670),g=function(e){var t=e.className,n=e.style,r=e.includeSocials,a=e.direction,s=(0,l.Z)().data,i=c().data;if(!i)return null;var o="secondary"===n?"border-gray border-[1px] ".concat("col"===a?"py-3 px-4":"py-2 px-3"," hover:bg-gray-100 rounded"):"rounded border-0 bg-button ".concat("col"===a?"py-3 px-4":"py-2 px-3"," text-white hover:bg-button-hover"),g="col"===a?"flex-col":"flex-row";return(0,d.jsxs)("div",{className:"-m-2 flex ".concat(g," flex-wrap ").concat(t),children:[r&&(0,d.jsx)(d.Fragment,{children:null===s||void 0===s?void 0:s.social.map((function(e,t){return(0,d.jsxs)("a",{href:"dotyouid"!==e.type?"https://".concat(e.type,".com/").concat(e.username):"https://".concat(e.username),className:"m-2 flex flex-row focus:outline-none ".concat(o),target:"_blank",rel:"noopener noreferrer",children:["facebook"===e.type?(0,d.jsx)(u.Z,{className:"my-auto mr-5 h-4 w-4"}):"twitter"===e.type?(0,d.jsx)(x.Z,{className:"my-auto mr-5 h-4 w-4"}):"linkedin"===e.type?(0,d.jsx)(p.Z,{className:"my-auto mr-5 h-4 w-4"}):"instagram"===e.type?(0,d.jsx)(f.Z,{className:"my-auto mr-5 h-4 w-4"}):"tiktok"===e.type?(0,d.jsx)(v.Z,{className:"my-auto mr-5 h-4 w-4"}):"dotyouid"===e.type?(0,d.jsx)(m.Z,{className:"my-auto mr-5 h-4 w-4"}):(0,d.jsx)(h,{className:"my-auto mr-5 h-4 w-4"}),e.username]},t)}))}),i.map((function(e){return(0,d.jsxs)("a",{href:e.target,className:"m-2 flex flex-row focus:outline-none ".concat(o),target:"_blank",rel:"noopener noreferrer",children:[(0,d.jsx)(h,{className:"my-auto mr-5 h-4 w-4"}),e.text]},e.target)}))]})}},5223:function(e,t,n){var r=n(184);t.Z=function(e){var t=e.className,n=e.items,a=e.onChange,s=e.disallowWrap;return(0,r.jsx)("ul",{className:"-m-2 flex flex-row ".concat(s?"":"flex-wrap"," ").concat(null!==t&&void 0!==t?t:""," "),children:n.map((function(e){return(0,r.jsx)("li",{className:"p-2",children:(0,r.jsx)("a",{className:"block cursor-pointer select-none rounded-lg px-4 py-2 ".concat(e.isActive?"bg-button text-white":"hover:bg-button hover:bg-opacity-20"),onClick:function(){return a(e.key)},children:e.title})},e.key)}))})}},4257:function(e,t,n){var r=n(4165),a=n(5861),s=n(5439),i=n(9631),o=n(7686);t.Z=function(e){var t=e.pageSize,n=(0,o.Z)(),c=n.getSharedSecret,l=n.getApiType,u=c(),d=new i.pt({api:l(),sharedSecret:u}),h=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.pageSize,u){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,d.circleNetworkReadOnlyProvider.getConnections({pageNumber:1,pageSize:null!==n&&void 0!==n?n:10});case 6:return e.abrupt("return",e.sent.results);case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,s.a)(["connections",t],(function(){return h({pageSize:t})}),{enabled:!!u,refetchOnMount:!1,refetchOnWindowFocus:!1,retry:!1})}}},4636:function(e,t,n){var r=n(9631),a=n(1607),s=n(1824),i=n(3111),o=n(190),c=n(2161),l=n(9662),u=n(4362),d=n(184);t.Z=function(e){var t,n=e.hideLinks,h=null!==(t=(0,a.Z)().data)&&void 0!==t?t:{},f=h.owner,p=h.home,m=h.social,v=(0,r.H3)(r.P.StandardProfileId),x=(null===f||void 0===f?void 0:f.profileImageId)&&v;return(0,d.jsxs)("section",{className:"bg-slate-500 bg-opacity-10 dark:bg-slate-500 dark:bg-opacity-10",children:[(0,d.jsxs)("div",{className:"relative h-[27vh] min-h-[330px]",children:[(0,d.jsx)(s.Z,{fileId:null===p||void 0===p?void 0:p.headerImageFileId,targetDrive:r.Ib.HomepageTargetDrive,className:"absolute inset-0",fit:"cover"}),(0,d.jsx)("div",{className:"container absolute top-0 left-0 right-0 bottom-0 mx-auto flex justify-center px-5 md:block",children:x?(0,d.jsx)("div",{className:"absolute bottom-[-4.5rem] h-60 w-60 overflow-hidden rounded-full border-8 border-neutral-200 md:bottom-[-7.5rem] ",children:(0,d.jsx)(s.Z,{fileId:null===f||void 0===f?void 0:f.profileImageId,targetDrive:v,className:"h-full w-full",fit:"cover"})}):null})]}),(0,d.jsx)("div",{className:"container mx-auto flex min-h-[8.5rem] px-5 xl:h-[8.5rem]",children:(0,d.jsx)("div",{className:"my-auto w-full ".concat(x?"pt-[5rem] md:py-4 md:pl-60":""),children:(0,d.jsxs)("div",{className:"flex flex-col ".concat(x?"md:pl-10":""," lg:flex-row"),children:[(0,d.jsxs)("div",{className:"text-center md:text-left",children:[(0,d.jsx)("h1",{className:"text-2xl",children:(0,d.jsx)(u.N,{})}),(0,d.jsx)("small",{className:"block text-base",children:null===p||void 0===p?void 0:p.tagLine})]}),(0,d.jsxs)("div",{className:"my-3 flex flex-col justify-center md:my-auto md:ml-auto",children:[(0,d.jsx)("div",{className:"hidden md:contents",children:(0,d.jsx)(o.Z,{socialHandles:m,className:"mt-4 justify-center sm:mt-0 md:ml-auto md:justify-start"})}),(0,d.jsxs)("div",{className:"flex flex-row ".concat(n?"":"flex-wrap"," -my-1 justify-center md:ml-4 md:mt-3"),children:[(0,d.jsx)(l.Z,{className:"my-1 mr-3"}),(0,d.jsx)(c.Z,{className:"my-1"}),!n&&(0,d.jsx)("div",{className:"my-1",children:(0,d.jsx)(i.Z,{className:"ml-1",direction:"row"})})]})]})]})})})]})}},7563:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(1413),a=n(885),s=n(4165),i=n(5861),o=n(7858),c=n(5671),l=n(3144),u=n(1752),d=n(1120),h=n(9340),f=n(1129),p=n(9631),m=n(2008),v=n(2826),x=new Map,g=function(e){(0,h.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).transitProvider=void 0,r.transitProvider=v.Z.getInstance(e),r}return(0,l.Z)(n,[{key:"getRecentsFromConnections",value:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var a,o,c,l,h,f,m,v,x=this,g=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.length>1&&void 0!==g[1]?g[1]:10,o=g.length>2?g[2]:void 0,c=g.length>3?g[3]:void 0,l=new p.pt({api:(0,u.Z)((0,d.Z)(n.prototype),"getType",this).call(this),sharedSecret:(0,u.Z)((0,d.Z)(n.prototype),"getSharedSecret",this).call(this)}),h={},e.next=7,Promise.all(t.map(function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getChannels(t);case 2:return n=e.sent,h[t]={},e.next=6,Promise.all(n.map(function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getRecents(t,a,null===o||void 0===o||null===(r=o[t])||void 0===r?void 0:r[n.channelId],n.channelId);case 2:return i=e.sent,h[t][n.channelId]=i.cursorState,e.abrupt("return",i.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:if(f=e.sent,!c){e.next=15;break}return m=window.location.hostname,e.next=12,l.blogPostReadonlyProvider.getRecentPosts(void 0,a,null===o||void 0===o?void 0:o[m]);case 12:v=e.sent,h[m]=v.cursorState,f.push([v.results.filter((function(e){return!e.isDraft})).map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{dotYouId:m})}))]);case 15:return e.abrupt("return",{results:f.flat(2),cursorState:h});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannels",value:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var n,r,a,o,c,l=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="".concat(t),!x.has(n)){e.next=7;break}return e.next=4,x.get(n);case 4:if(!(r=e.sent)){e.next=7;break}return e.abrupt("return",r);case 7:return e.next=9,this.transitProvider.GetDrivesByType(p.Hm.DriveType,1,1e3,t);case 9:return a=e.sent,o=a.results.map((function(e){return{id:e.targetDriveInfo.alias,name:e.name}})),c=(0,i.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(o.map(function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.getChannel(t,n.id);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent.filter((function(e){return void 0!==e})));case 3:case"end":return e.stop()}}),e)})))(),x.set(n,c),e.next=15,c;case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecents",value:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var n,r,a,o,c,l,u,d,h=this,f=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:10,r=f.length>2?f[2]:void 0,a=f.length>3?f[3]:void 0,o=a?(0,p.V7)(a):p.Hm.PublicChannelDrive,c={targetDrive:o,fileType:[p.Hm.PostFileType]},l={cursorState:r,maxRecords:n,includeMetadataHeader:!0},e.next=8,this.transitProvider.QueryBatch(t,c,l);case 8:return u=e.sent,e.next=11,Promise.all(u.searchResults.map(function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.fileId,e.t1=null===(r=n.serverMetadata)||void 0===r?void 0:r.accessControlList,e.next=4,h.transitProvider.GetPayload(t,o,n.fileId,n.fileMetadata,n.sharedSecretEncryptedKeyHeader,u.includeMetadataHeader);case 4:return e.t2=e.sent,e.t3=t,e.t4=n.fileMetadata.appData.previewThumbnail,e.t5=n.fileMetadata.Thumbnails,e.abrupt("return",{fileId:e.t0,acl:e.t1,content:e.t2,dotYouId:e.t3,previewThumbnail:e.t4,additionalThumbnails:e.t5});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return d=e.sent.filter((function(e){return!!e})),e.abrupt("return",{cursorState:u.cursorState,results:d});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannel",value:function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var r,a,i,o,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,p.V7)(n),a={targetDrive:r,fileType:[p.Hm.ChannelDefinitionFileType]},i={cursorState:void 0,maxRecords:1,includeMetadataHeader:!0},e.next=5,this.transitProvider.QueryBatch(t,a,i);case 5:if(o=e.sent,e.prev=6,1!=o.searchResults.length){e.next=12;break}return c=o.searchResults[0],e.next=11,this.transitProvider.GetPayload(t,r,c.fileId,c.fileMetadata,c.sharedSecretEncryptedKeyHeader,o.includeMetadataHeader);case 11:return e.abrupt("return",e.sent);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(e){if(!e)throw new Error("Shared Secret not set for OwnerProvider");return n.instance||(n.instance=new n(e)),n.instance}}]),n}(m.$);g.instance=void 0;var y=n(7686),b=n(4257),Z=function(e){var t=e.pageSize,n=void 0===t?10:t,r=(0,y.Z)().getSharedSecret,a=(0,b.Z)({pageSize:100}).fetch,c=a.data,l=a.isFetched,u=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var a,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.pageParam,i=g.getInstance(r()),e.next=4,i.getRecentsFromConnections(null===c||void 0===c?void 0:c.map((function(e){return e.dotYouId})).filter(Boolean),n,a,!0);case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetchAll:(0,o.N)(["social-feeds"],(function(e){var t=e.pageParam;return u({pageParam:t})}),{getNextPageParam:function(e){var t,n;return null!==(t=(null===e||void 0===e||null===(n=e.results)||void 0===n?void 0:n.length)>=1&&(null===e||void 0===e?void 0:e.cursorState))&&void 0!==t?t:void 0},refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0,enabled:l})}},w=n(2791),j=n(6430),N=n(3990),k=n(316),P=n(6871),I=n(2667),S=n(5223),C=n(4636),R=n(3434),M=n(7764),O=n(5439),T=function(e){var t=e.dotYouId,n=e.channelId,r=(0,y.Z)().getSharedSecret,a=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var n,a,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dotYouId,a=t.channelId,n&&a){e.next=3;break}return e.abrupt("return");case 3:return i=g.getInstance(r()),e.next=6,i.getChannel(n,a);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,O.a)(["channel",t,n],(function(){return a({dotYouId:t,channelId:n})}),{enabled:!!t&&!!n,refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})}},F=n(2170),H=n(8602),z=n(2475),D=n(7939),L=n(2407),Y=n(4362),E=n(9492),A=n(8100),G=n(4990),V=n(184),U=function(e){var t,n,r,a=e.className,s=e.dotYouId,i=e.postFile,o=i.content,c=i.previewThumbnail,l=!s||s!==window.location.hostname,u=T({dotYouId:l?s:void 0,channelId:o.channelId}).fetch.data,d=(0,M.Z)({channelId:o.channelId}).data,h=u||d,f=o.imageFileIds,p=l?"https://".concat(s,"/home/posts/").concat(h?h.slug:"public-posts","/").concat(null!==(t=o.slug)&&void 0!==t?t:o.id):"/home/posts/".concat(h?h.slug:"public-posts","/").concat(null!==(n=o.slug)&&void 0!==n?n:o.id);return(0,V.jsx)("div",{className:"w-full rounded-lg ".concat(null!==a&&void 0!==a?a:""),children:(0,V.jsxs)(D.Z,{href:p,target:"__blank",rel:"nofollow noreferrer",className:"relative flex h-full flex-col rounded-lg border border-gray-200 border-opacity-60 transition-colors hover:shadow-md dark:border-gray-800 hover:dark:shadow-slate-600 sm:flex-row",children:[(0,V.jsx)("div",{className:"py-4 pl-4",children:(0,V.jsx)(L.ZP,{dotYouId:s,className:"h-[5rem] w-[5rem] rounded-full"})}),(0,V.jsxs)("div",{className:"flex max-w-lg flex-grow flex-col py-3 px-4",children:[(0,V.jsxs)("div",{className:"pr-6",children:[(0,V.jsxs)("div",{className:"mb-1 flex flex-col text-foreground text-opacity-60 md:flex-row md:items-center",children:[(0,V.jsx)("h2",{children:(0,V.jsx)(Y.Z,{dotYouId:s})}),(0,V.jsx)("span",{className:"hidden px-2 leading-4 md:block",children:"\xb7"}),h&&o?(0,V.jsx)(z.Z,{post:o,channel:h}):null]}),"Article"===o.type?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("h1",{className:"text-foreground text-opacity-80",children:o.caption}),(0,V.jsxs)("p",{className:"leading-relaxed text-foreground text-opacity-70",children:[(0,N.iL)(o.abstract,140)," ",(null===o||void 0===o||null===(r=o.abstract)||void 0===r?void 0:r.length)>140?(0,V.jsx)("span",{className:"text-button",children:(0,G.t)("Read more")}):null]})]}):(0,V.jsx)("h1",{className:"text-foreground text-opacity-70",children:o.caption})]}),o.primaryImageFileId&&(f&&f.length>1?(0,V.jsx)(A.Z,{dotYouId:s,channelId:o.channelId,fileIds:f,className:"my-4",postUrl:p,previewThumbnail:c}):(0,V.jsxs)("div",{className:"relative py-4 pr-6",children:[(0,V.jsx)(E.Z,{post:o,dotYouId:s,className:"sm:rounded-lg".concat(" ","Image"===o.type||"Video"===o.type?"h-full max-h-[30rem] w-auto":"h-64 w-full md:h-36 lg:h-48"," ").concat("Video"===o.type?"aspect-video":""),postUrl:p,previewThumbnail:c}),"Video"===o.type&&(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(H.Z,{className:"text-color absolute top-[calc(50%-2.5rem)] left-[calc(50%-2.5rem)] h-20 w-20"})})]})),(0,V.jsx)("div",{className:"mt-auto flex items-center pr-6 text-sm text-foreground text-opacity-10",children:(0,V.jsxs)("span",{className:"inline-flex items-center",children:[(0,V.jsx)(F.Z,{className:"mr-1 inline-block h-4 w-4"})," 6"]})})]})]})})},_=function(e){var t=e.className,n=(0,I.Z)(),s=n.tabs,i=n.isTabs,o=(0,P.s0)(),c=(0,w.useState)(!1),l=(0,a.Z)(c,2),u=l[0],d=l[1],h=Z({pageSize:10}).fetchAll,f=h.data,p=h.hasNextPage,m=h.isLoading,v=h.fetchNextPage,x=(0,w.useRef)(null);(0,j.s)(p?x:void 0,(function(){v()}),!0);var g=(0,N.bJ)(f,10,(function(e,t){var n,r;return(null===(n=t.content)||void 0===n?void 0:n.dateUnixTime)-(null===(r=e.content)||void 0===r?void 0:r.dateUnixTime)}));return(0,w.useEffect)((function(){u&&d(!1)}),[u]),(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(C.Z,{hideLinks:!0}),(0,V.jsx)("section",{className:"body-font text-gray-600 dark:text-gray-400",children:(0,V.jsxs)(V.Fragment,{children:[i?(0,V.jsx)("div",{className:"bg-slate-500 bg-opacity-5 dark:bg-slate-500 dark:bg-opacity-5",children:(0,V.jsx)("div",{className:"container mx-auto overflow-auto px-5 py-4",children:(0,V.jsx)(S.Z,{onChange:function(e){return o("/home/".concat(e))},items:s.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{isActive:"feed"===e.key})})),disallowWrap:!0})})}):null,(0,V.jsx)("div",{className:"container mx-auto px-5",children:(0,V.jsx)("div",{className:"py-10",children:(0,V.jsx)("div",{className:t,children:(0,V.jsx)("div",{className:"-mx-2 flex max-w-6xl flex-col lg:flex-row xl:-mx-4",children:(0,V.jsxs)("div",{className:"py-2 px-2 lg:w-2/3 xl:px-4",children:[(0,V.jsx)(R.ZP,{onPost:function(){return d(!0)}}),m?(0,V.jsxs)("div",{className:"-mx-4",children:[(0,V.jsx)(k.Z,{className:"m-4 h-10"}),(0,V.jsx)(k.Z,{className:"m-4 h-10"}),(0,V.jsx)(k.Z,{className:"m-4 h-10"})]}):null!==g&&void 0!==g&&g.length?(0,V.jsxs)(V.Fragment,{children:[g.map((function(e){return(0,V.jsx)(U,{postFile:e,dotYouId:e.dotYouId,className:"my-2 ".concat(e.fileId?"":"overflow-hidden bg-slate-100 dark:bg-slate-600")},e.fileId||e.content.id)})),(0,V.jsx)("div",{ref:x,className:"h-1 w-full"})]}):null]})})})})})]})})]})}},7858:function(e,t,n){n.d(t,{N:function(){return g}});var r=n(4925),a=n(1413),s=n(5671),i=n(3144),o=n(1752),c=n(1120),l=n(9340),u=n(1129),d=n(1135),h=n(2806),f=["pageParam"],p=["pageParam"],m=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){return(0,s.Z)(this,n),t.call(this,e,r)}return(0,i.Z)(n,[{key:"bindMethods",value:function(){(0,o.Z)((0,c.Z)(n.prototype),"bindMethods",this).call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}},{key:"setOptions",value:function(e,t){(0,o.Z)((0,c.Z)(n.prototype),"setOptions",this).call(this,(0,a.Z)((0,a.Z)({},e),{},{behavior:(0,h.Gm)()}),t)}},{key:"getOptimisticResult",value:function(e){return e.behavior=(0,h.Gm)(),(0,o.Z)((0,c.Z)(n.prototype),"getOptimisticResult",this).call(this,e)}},{key:"fetchNextPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageParam,n=(0,r.Z)(e,f);return this.fetch((0,a.Z)((0,a.Z)({},n),{},{meta:{fetchMore:{direction:"forward",pageParam:t}}}))}},{key:"fetchPreviousPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageParam,n=(0,r.Z)(e,p);return this.fetch((0,a.Z)((0,a.Z)({},n),{},{meta:{fetchMore:{direction:"backward",pageParam:t}}}))}},{key:"createResult",value:function(e,t){var r,s,i,l,u,d,f=e.state,p=(0,o.Z)((0,c.Z)(n.prototype),"createResult",this).call(this,e,t),m=p.isFetching,v=p.isRefetching,x=m&&"forward"===(null==(r=f.fetchMeta)||null==(s=r.fetchMore)?void 0:s.direction),g=m&&"backward"===(null==(i=f.fetchMeta)||null==(l=i.fetchMore)?void 0:l.direction);return(0,a.Z)((0,a.Z)({},p),{},{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,h.Qy)(t,null==(u=f.data)?void 0:u.pages),hasPreviousPage:(0,h.ZF)(t,null==(d=f.data)?void 0:d.pages),isFetchingNextPage:x,isFetchingPreviousPage:g,isRefetching:v&&!x&&!g})}}]),n}(d.z),v=n(3734),x=n(8560);function g(e,t,n){var r=(0,v._v)(e,t,n);return(0,x.r)(r,m)}},3418:function(e,t,n){n.d(t,{D:function(){return g}});var r=n(1413),a=n(885),s=n(2791),i=n(7413),o=n(5671),c=n(3144),l=n(9340),u=n(1129),d=n(9054),h=n(9538),f=n(5511),p=n(3734),m=function(e){(0,l.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){var a;return(0,o.Z)(this,n),(a=t.call(this)).client=e,a.setOptions(r),a.bindMethods(),a.updateResult(),a}return(0,c.Z)(n,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(e){var t=this.options;this.options=this.client.defaultMutationOptions(e),(0,p.VS)(t,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}},{key:"onUnsubscribe",value:function(){var e;this.listeners.length||(null==(e=this.currentMutation)||e.removeObserver(this))}},{key:"onMutationUpdate",value:function(e){this.updateResult();var t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"reset",value:function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}},{key:"mutate",value:function(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,r.Z)((0,r.Z)({},this.options),{},{variables:"undefined"!==typeof e?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}},{key:"updateResult",value:function(){var e=this.currentMutation?this.currentMutation.state:(0,d.R)(),t=(0,r.Z)((0,r.Z)({},e),{},{isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset});this.currentResult=t}},{key:"notify",value:function(e){var t=this;h.V.batch((function(){var n,r,a,s;if(t.mutateOptions)if(e.onSuccess)null==(n=(r=t.mutateOptions).onSuccess)||n.call(r,t.currentResult.data,t.currentResult.variables,t.currentResult.context),null==(a=(s=t.mutateOptions).onSettled)||a.call(s,t.currentResult.data,null,t.currentResult.variables,t.currentResult.context);else if(e.onError){var i,o,c,l;null==(i=(o=t.mutateOptions).onError)||i.call(o,t.currentResult.error,t.currentResult.variables,t.currentResult.context),null==(c=(l=t.mutateOptions).onSettled)||c.call(l,void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context)}e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)}))}))}}]),n}(f.l),v=n(6403),x=n(9608);function g(e,t,n){var o=(0,p.lV)(e,t,n),c=(0,v.NL)({context:o.context}),l=s.useState((function(){return new m(c,o)})),u=(0,a.Z)(l,1)[0];s.useEffect((function(){u.setOptions(o)}),[u,o]);var d=(0,i.$)(s.useCallback((function(e){return u.subscribe(h.V.batchCalls(e))}),[u]),(function(){return u.getCurrentResult()}),(function(){return u.getCurrentResult()})),f=s.useCallback((function(e,t){u.mutate(e,t).catch(y)}),[u]);if(d.error&&(0,x.L)(u.options.useErrorBoundary,[d.error]))throw d.error;return(0,r.Z)((0,r.Z)({},d),{},{mutate:f,mutateAsync:d.mutate})}function y(){}}}]);
//# sourceMappingURL=644.857d3e57.chunk.js.map