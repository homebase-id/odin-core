{"version":3,"file":"static/js/53.81fcaf4e.chunk.js","mappings":"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","sources":["components/ui/CharacterHighlighter/CharacterHighlighter.tsx","components/ui/Layout/UrlNotifier/UrlNotifier.tsx","templates/Login/Login.tsx"],"sourcesContent":["const CharacterHighlighter = ({ children }: { children: string }) => {\n  return (\n    <>\n      {\n        children.split('').map((char) => {\n          const charCode = char.charCodeAt(0);\n          if (charCode <= 32 || charCode >= 127) {\n            return <span className=\"text-orange-400 underline\">{char}</span>;\n          }\n          return char;\n        })\n        // .join('')\n      }\n    </>\n  );\n};\n\nexport default CharacterHighlighter;\n","import { t } from '../../../../helpers/i18n/dictionary';\nimport Arrow from '../../Icons/Arrow/Arrow';\nimport Shield from '../../Icons/Shield/Shield';\n\nconst UrlNotifier = () => {\n  return (\n    <div className=\"border-b border-slate-100 bg-slate-50 py-8 pt-4 pb-8 dark:bg-slate-700 dark:text-slate-100\">\n      <div className=\"container mx-auto px-5 sm:px-10\">\n        <div className=\"mb-4 hidden flex-row sm:flex\">\n          <Arrow className=\"left-[16rem] mx-auto mr-auto h-16 w-16 -rotate-90 animate-pulse md:relative md:mx-0\" />\n        </div>\n        <div className=\"mx-auto max-w-[30rem] sm:mx-0\">\n          <div className=\"mb-4 flex flex-row\">\n            <Shield className=\"mr-2 h-8 w-8\" />\n            <p className=\"my-auto text-4xl\">{t('Check the Url')}</p>\n          </div>\n          <p className=\"dark:text-slate-400\">\n            {t(\n              'Please confirm that the browser url matches your identity to avoid unauthorized access to your identity'\n            )}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UrlNotifier;\n","import { FormEventHandler, useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { t } from '../../helpers/i18n/dictionary';\nimport useAuth from '../../hooks/auth/useAuth';\nimport ActionButton from '../../components/ui/Buttons/ActionButton';\nimport Input from '../../components/Form/Input';\nimport Label from '../../components/Form/Label';\nimport Loader from '../../components/ui/Icons/Loader/Loader';\nimport { MinimalLayout } from '../../components/ui/Layout/Layout';\nimport UrlNotifier from '../../components/ui/Layout/UrlNotifier/UrlNotifier';\nimport CharacterHighlighter from '../../components/ui/CharacterHighlighter/CharacterHighlighter';\n\nconst Login = () => {\n  const [password, setPassword] = useState('a');\n  const [passwordState, setPasswordState] = useState<'unknown' | 'pending' | 'ready'>('unknown');\n  const [state, setState] = useState<'loading' | 'error' | 'success' | undefined>();\n  const { authenticate, forceSetPassword_temp, isMasterPasswordSet } = useAuth();\n\n  const doLogin: FormEventHandler = async (e) => {\n    e.preventDefault();\n    setState('loading');\n    try {\n      await authenticate(password);\n      setState('success');\n    } catch (ex) {\n      // Todo show message what failed\n      console.error(ex);\n      setState('error');\n    }\n    return false;\n  };\n\n  useEffect(() => {\n    if (passwordState === 'unknown') {\n      (async () => {\n        if (!(await isMasterPasswordSet())) {\n          setPasswordState('pending');\n\n          console.debug('forcing demo password');\n          await forceSetPassword_temp('a');\n        }\n\n        setPasswordState('ready');\n      })();\n    }\n  }, []);\n\n  if (passwordState === 'unknown' || passwordState === 'pending') {\n    return (\n      <MinimalLayout>\n        <div className=\"h-screen\">\n          <div className=\"mx-auto flex min-h-full w-full max-w-3xl flex-col p-5\">\n            <div className=\"my-auto flex flex-col\">\n              <Loader className=\"mx-auto mb-10 h-20 w-20\" />\n              <div className=\"text-center\">{t('Configuring...')}</div>\n            </div>\n          </div>\n        </div>\n      </MinimalLayout>\n    );\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Login | Owner console</title>\n      </Helmet>\n      <MinimalLayout>\n        <UrlNotifier />\n        <section className=\"body-font flex h-full pt-24 \">\n          <div className=\"container m-auto h-full max-w-[35rem] p-5\">\n            <div className=\"\">\n              <form onSubmit={doLogin}>\n                <h1 className=\"mb-5 text-4xl dark:text-white\">\n                  YouAuth | Login\n                  <small className=\"block break-all text-slate-400 dark:text-slate-500 sm:break-normal\">\n                    <CharacterHighlighter>{window.location.hostname}</CharacterHighlighter>\n                  </small>\n                </h1>\n\n                <div className=\"mb-4\">\n                  <Label htmlFor=\"youniverse-id\" className=\"text-sm leading-7  dark:text-gray-400\">\n                    Youniverse id\n                  </Label>\n\n                  <Input\n                    type=\"text\"\n                    name=\"youniverse-id\"\n                    id=\"youniverse-id\"\n                    required\n                    defaultValue={window.location.hostname}\n                    disabled={true}\n                    readOnly={true}\n                  />\n                </div>\n                <div className=\"mb-4\">\n                  <Label htmlFor=\"password\" className=\"text-sm leading-7  dark:text-gray-400\">\n                    Password\n                  </Label>\n                  <Input\n                    type=\"text\"\n                    name=\"password\"\n                    id=\"password\"\n                    required\n                    onChange={(e) => setPassword(e.target.value)}\n                    defaultValue={password}\n                  />\n                </div>\n                <ActionButton\n                  className=\"mt-10 w-full\"\n                  type=\"primary\"\n                  icon=\"send\"\n                  state={state}\n                  size=\"large\"\n                >\n                  {t('login')}\n                </ActionButton>\n              </form>\n            </div>\n          </div>\n        </section>\n      </MinimalLayout>\n    </>\n  );\n};\n\nexport default Login;\n"],"names":["children","split","map","char","charCode","charCodeAt","className","Arrow","Shield","t","useState","password","setPassword","passwordState","setPasswordState","state","setState","useAuth","authenticate","forceSetPassword_temp","isMasterPasswordSet","doLogin","e","preventDefault","console","error","useEffect","debug","Loader","onSubmit","CharacterHighlighter","window","location","hostname","Label","htmlFor","Input","type","name","id","required","defaultValue","disabled","readOnly","onChange","target","value","ActionButton","icon","size"],"sourceRoot":""}