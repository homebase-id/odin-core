"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[500],{3756:function(e,t,n){var r=n(9439),a=n(2791),s=n(4990),i=n(9747),c=n(184);t.Z=function(e){var t=e.className,n=e.state,o=e.error,l=(0,a.useState)(null),u=(0,r.Z)(l,2),d=u[0],f=u[1],m=(0,a.useState)(new Date),h=(0,r.Z)(m,2),x=h[0],p=h[1];if((0,a.useEffect)((function(){"success"===n&&f(new Date)}),[n]),(0,a.useEffect)((function(){var e=setTimeout((function(){p(new Date)}),3e4);return function(){clearTimeout(e)}}),[x]),"loading"===n)return(0,c.jsx)("p",{className:"".concat(t," text-sm"),children:"Saving..."});if("error"===n)return(0,c.jsx)(i.Z,{type:"critical",className:t,children:o instanceof Error?o.message:(0,s.t)("Something went wrong")});if(!d)return null;var v=x.getTime()-d.getTime(),g=d?v<=6e4?"a few seconds ago":v<=6e5?"a few minutes ago":d.toLocaleString():"";return g?(0,c.jsxs)("p",{className:"".concat(t," text-sm"),children:["Last saved ",g]}):null}},9080:function(e,t,n){var r=n(6907),a=n(3504),s=n(3756),i=n(184);t.Z=function(e){var t=e.title,n=e.actions,c=e.saveStatus,o=e.breadCrumbs,l=e.icon;return(0,i.jsx)("section",{className:"-mx-5 -mt-4 mb-10 border-b-2 border-gray-100 bg-slate-50 py-4 pr-5 pl-10 dark:border-gray-700 dark:bg-slate-800 sm:-mx-10 sm:-mt-8 sm:py-8 sm:px-10",children:(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,i.jsxs)("div",{className:"flex-col",children:[o&&(0,i.jsx)("ul",{className:"mb-2 hidden flex-row sm:flex",children:o.map((function(e,t){return(0,i.jsx)("li",{className:"mr-2",children:e.href?(0,i.jsxs)(a.rU,{to:e.href,className:"",children:[e.title,(0,i.jsx)("span",{className:"ml-2",children:">"})]}):(0,i.jsx)("span",{className:"text-slate-500",children:e.title})},t)}))}),t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h1",{className:"mb-5 flex flex-row text-4xl dark:text-white",children:[l&&l({className:"h-8 w-8 my-auto mr-4"})," ",t]}),(0,i.jsx)(r.ql,{children:(0,i.jsxs)("title",{children:["object"!==typeof t&&"".concat(t)||window.location.pathname.split("/").pop()," ","| Owner console"]})})]})]}),(0,i.jsxs)("div",{className:"ml-auto",children:[(0,i.jsx)("div",{className:"-m-2 flex flex-col flex-wrap justify-end sm:flex-row sm:items-center",children:n}),c&&(0,i.jsx)(s.Z,{className:"mt-1",state:c})]})]})})}},1434:function(e,t,n){var r=n(2791),a=n(184),s=r.forwardRef((function(e,t){var n=e.title,r=e.actions,s=e.className,i=e.children,c=e.isOpaqueBg,o=void 0!==c&&c,l=e.isBorderLess,u=void 0!==l&&l;return(0,a.jsxs)("section",{ref:t,className:"my-5 rounded-md ".concat(o?u?"":"rounded-lg border-[1px] border-gray-200 border-opacity-80 px-5 dark:border-gray-700":"bg-slate-50 px-5 dark:bg-slate-800"," dark:text-slate-300 ").concat(null!==s&&void 0!==s?s:""),children:[n||r?(0,a.jsxs)("div",{className:"relative flex flex-row items-center border-b-[1px] border-gray-200 border-opacity-80 py-5 transition-all duration-300 dark:border-gray-700",children:[(0,a.jsx)("h3",{className:"text-2xl dark:text-white",children:n}),(0,a.jsx)("div",{className:"ml-auto",children:(0,a.jsx)("div",{className:"-m-2 flex flex-col flex-wrap justify-end sm:flex-row sm:items-center",children:r})})]}):null,(0,a.jsx)("div",{className:"py-5 ",children:i})]})}));t.Z=s},6839:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(4165),a=n(5861),s=n(7408),i=n(5671),c=n(3144),o=n(1752),l=n(1120),u=n(9340),d=n(1129),f=function(e){(0,u.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;if((0,i.Z)(this,n),!e)throw"[SettingsProvider] Shared Secret is required";return(r=t.call(this,e)).root="/config",r}return(0,c.Z)(n,[{key:"getFlags",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,o.Z)((0,l.Z)(n.prototype),"createAxiosClient",this).call(this),a=this.root+"/system/flags",e.next=4,t.post(a).then((function(e){return e.data}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateFlag",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,a){var s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,o.Z)((0,l.Z)(n.prototype),"createAxiosClient",this).call(this),i=this.root+"/system/updateflag",e.next=4,s.post(i,{flagName:t,value:a?"true":"false"}).then((function(e){return e.data}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSettings",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,o.Z)((0,l.Z)(n.prototype),"createAxiosClient",this).call(this),a=this.root+"/ownerapp/settings/list",e.next=4,t.post(a).then((function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.settings,r={};return Object.keys(n).forEach((function(e){r[e]=JSON.parse(n[e])})),r}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSettings",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,o.Z)((0,l.Z)(n.prototype),"createAxiosClient",this).call(this),s=this.root+"/ownerapp/settings/update",i={},Object.keys(t).forEach((function(e){i[e]=JSON.stringify(t[e])})),e.next=6,a.post(s,{settings:i}).then((function(e){return e.data}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(e){return n.instance||(n.instance=new n(e)),n.instance}}]),n}(n(2008).$);f.instance=void 0,f.DriveInfo=void 0;var m=n(8609),h=function(){var e=(0,m.ZP)().getSharedSecret,t=f.getInstance(e()),n=(0,s.useQueryClient)(),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getFlags());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.name,s=n.value,e.abrupt("return",t.updateFlag(a,s));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getSettings());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.updateSettings(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetchFlags:(0,s.useQuery)(["systemFlags"],(function(){return i()}),{refetchOnWindowFocus:!1}),updateFlag:(0,s.useMutation)(c,{onSuccess:function(){n.invalidateQueries(["systemFlags"])}}),fetchUiSettings:(0,s.useQuery)(["uiSettings"],(function(){return o()}),{refetchOnWindowFocus:!1}),updateUiSetting:(0,s.useMutation)(l,{onSuccess:function(){n.invalidateQueries(["uiSettings"])}})}}},6500:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(1413),a=n(4990),s=n(6839),i=n(2042),c=n(184),o=function(e){return(0,c.jsx)("input",(0,r.Z)((0,r.Z)({},e),{},{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600 ".concat(e.className)}))},l=n(3147),u=n(3233),d=n(9080),f=n(1434),m=function(){var e=(0,s.Z)(),t=e.fetchFlags,n=t.data,m=t.isLoading,h=e.updateFlag,x=h.mutate,p=h.error,v=e.fetchUiSettings,g=v.data,y=v.isLoading,w=e.updateUiSetting,Z=w.mutate,b=w.error;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.Z,{error:p}),(0,c.jsx)(i.Z,{error:b}),(0,c.jsx)(d.Z,{icon:u.Z,title:"".concat((0,a.t)("Settings"))}),n&&!m&&(0,c.jsxs)(f.Z,{title:(0,c.jsxs)("div",{className:"flex flex-col",children:[(0,a.t)("Who can view your connections?"),(0,c.jsx)("small",{className:"text-sm text-gray-400",children:(0,a.t)("People that are member of a circle that has access to view your connections will always be able to see your connections")})]}),children:[(0,c.jsxs)("div",{className:"mb-5 flex flex-row",children:[(0,c.jsxs)(l.Z,{htmlFor:"name",className:"my-auto mr-2 flex flex-col",children:[(0,a.t)("Everyone"),(0,c.jsx)("small",{className:"text-sm text-gray-400",children:(0,a.t)("Everyone that visits your homepage will see an overview of your connections")})]}),(0,c.jsx)(o,{className:"ml-auto",name:"AnonymousVisitorsCanViewConnections",defaultChecked:null===n||void 0===n?void 0:n.anonymousVisitorsCanViewConnections,onChange:function(e){return x({name:e.target.name,value:e.target.checked})}})]}),(0,c.jsxs)("div",{className:"mb-5 flex flex-row",children:[(0,c.jsxs)(l.Z,{htmlFor:"name",className:"my-auto mr-2 flex flex-col",children:[(0,a.t)("Authenticated"),(0,c.jsx)("small",{className:"text-sm text-gray-400",children:(0,a.t)("Only authenticated people that visit your public site will see an overview of your connections")})]}),(0,c.jsx)(o,{className:"ml-auto",name:"AuthenticatedIdentitiesCanViewConnections",defaultChecked:null===n||void 0===n?void 0:n.authenticatedIdentitiesCanViewConnections,onChange:function(e){return x({name:e.target.name,value:e.target.checked})}})]}),(0,c.jsxs)("div",{className:"mb-5 flex flex-row",children:[(0,c.jsxs)(l.Z,{htmlFor:"name",className:"my-auto mr-2 flex flex-col",children:[(0,a.t)("Connected"),(0,c.jsx)("small",{className:"text-sm text-gray-400",children:(0,a.t)("Only connected people that visit your public site will see an overview of your connections")})]}),(0,c.jsx)(o,{className:"ml-auto",name:"ConnectedIdentitiesCanViewConnections",defaultChecked:null===n||void 0===n?void 0:n.allConnectedIdentitiesCanViewConnections,onChange:function(e){return x({name:e.target.name,value:e.target.checked})}})]})]}),g&&!y&&(0,c.jsx)(f.Z,{title:(0,a.t)("Ui Settings"),children:(0,c.jsxs)("div",{className:"mb-5 flex flex-row",children:[(0,c.jsxs)(l.Z,{htmlFor:"name",className:"my-auto mr-2 flex flex-col",children:[(0,a.t)("Automatically load the profile pictures of connection requests"),(0,c.jsx)("small",{className:"text-sm text-gray-400",children:(0,a.t)("If enabled, connection requests will automatically load the corresponding profile picture if available. Otherwise you need to click to load the profile picture")})]}),(0,c.jsx)(o,{className:"ml-auto",name:"automaticallyLoadProfilePicture",defaultChecked:null===g||void 0===g?void 0:g.automaticallyLoadProfilePicture,onChange:function(e){var t=(0,r.Z)({},g);t[e.target.name]=e.target.checked,Z(t)}})]})})]})}}}]);
//# sourceMappingURL=500.6e15cc7d.chunk.js.map