"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[362],{9835:function(e,n,t){var r=t(8522),a=t(184);n.Z=function(e){var n=e.dotYouId,t=e.href,s=e.isChecked,i=e.className,o=e.children,c=e.onClick,l=e.onlyLoadAfterClick;return(0,a.jsx)("a",{className:"".concat(i),href:t,children:(0,a.jsxs)("div",{className:"h-full rounded-md border bg-white transition-colors  ".concat(s?"border-4 border-indigo-500 dark:border-indigo-700":!1===s?"border-4":"border-gray-200 border-opacity-60 dark:border-gray-800 dark:bg-gray-800","\n        ").concat(t?"cursor-pointer hover:shadow-md hover:dark:shadow-slate-600":""),onClick:c,children:[(0,a.jsx)(r.Z,{dotYouId:n,onlyLoadAfterClick:l}),(0,a.jsx)("div",{className:"p-2",children:o})]})})}},7585:function(e,n,t){var r=t(4165),a=t(5861),s=t(9439),i=t(2791),o=t(4990),c=t(3072),l=t(6839),u=t(2042),d=t(2851),p=t(4325),f=t(8532),h=t(9835),m=t(184);n.Z=function(e){var n=e.senderDotYouId,t=e.pendingConnection,v=e.children,x=e.className,g=(0,c.Z)({}).ignoreRequest,y=g.mutateAsync,w=g.status,Z=g.error,j=(0,l.Z)().fetchUiSettings.data,b=(0,i.useState)(!1),N=(0,s.Z)(b,2),k=N[0],C=N[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.Z,{error:Z}),(0,m.jsxs)(h.Z,{className:x,dotYouId:n,onlyLoadAfterClick:!(null!==j&&void 0!==j&&j.automaticallyLoadProfilePicture),children:[(0,m.jsx)("h2",{className:"font-thiner mb-6 dark:text-white",children:(0,m.jsx)(p.Z,{children:n})}),v,(0,m.jsxs)(d.Z,{type:"primary",className:"mb-2 w-full",onClick:function(e){return e.preventDefault(),C(!0),!1},icon:"check",children:[(0,o.t)("Confirm request"),"..."]}),(0,m.jsx)(d.Z,{type:"secondary",className:"mb-2 w-full",onClick:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y({senderDotYouId:n});case 3:return e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),confirmOptions:{title:(0,o.t)("Ignore request"),body:"".concat((0,o.t)("Are you sure you want to ignore the request from")," ").concat(n),buttonText:(0,o.t)("Ignore")},state:w,icon:"times",children:(0,o.t)("Ignore request")})]},n),(0,m.jsx)(f.Z,{isOpen:k,senderDotYouId:n,confirmText:(0,o.t)("Connect"),onConfirm:(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(!1);case 1:case"end":return e.stop()}}),e)}))),onCancel:function(){C(!1)},pendingConnection:t})]})}},6009:function(e,n,t){var r=t(9439),a=t(2791),s=t(6430),i=t(9779),o=t(184);n.Z=function(e){var n=e.targetDrive,t=e.fileId,c=e.className,l=e.alt,u=e.title,d=(0,a.useState)(!1),p=(0,r.Z)(d,2),f=p[0],h=p[1],m=(0,a.useRef)(null),v=(0,i.Z)(f?t:void 0,n).fetch.data;return(0,s.s)(m,(function(){h(!0)})),(0,o.jsx)("img",{src:v,alt:f&&v?l:" ",className:"".concat(c," ").concat((!f||!v)&&"h-full w-full animate-pulse bg-slate-100"),title:u,ref:m})}},2405:function(e,n,t){var r=t(3504),a=t(4990),s=t(9205),i=t(184);n.Z=function(e){var n=e.appDef,t=e.permissionLevel,o=e.className;return n?(0,i.jsx)("div",{className:"".concat(null!==o&&void 0!==o?o:""," ").concat(n.isRevoked&&"opacity-50"),children:(0,i.jsx)(r.rU,{to:"/owner/apps/".concat(n.appId),children:(0,i.jsxs)("h2",{className:"mb-2 flex flex-row text-xl",children:[(0,i.jsx)(s.Z,{className:"my-auto mr-2 h-4 w-4"})," ",(0,i.jsxs)("span",{className:"my-auto",children:[n.isRevoked&&"".concat((0,a.t)("Revoked"),": "),n.name]}),t&&(0,i.jsxs)("span",{className:"my-auto",children:[": ",t]})]})})}):(0,i.jsx)(i.Fragment,{})}},144:function(e,n,t){var r=t(4165),a=t(5861),s=t(7408),i=t(4180),o=t(8609);n.Z=function(){var e=(0,o.ZP)().getSharedSecret,n=i.Z.getInstance(e()),t=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.GetAppRegistrations();case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.sort((function(e,n){return(e.isRevoked?1:0)-(n.isRevoked?1:0)})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetchRegistered:(0,s.useQuery)(["registeredApps"],(function(){return t()}),{refetchOnWindowFocus:!1})}}},6430:function(e,n,t){t.d(n,{s:function(){return l}});var r,a=t(2791),s=new WeakMap,i=new WeakMap,o=function(e){e.forEach((function(e){if(s.has(e.target)){var n=s.get(e.target),t=i.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(t&&(r.unobserve(e.target),s.delete(e.target)),n())}}))},c=function(){return void 0===r&&(r=new IntersectionObserver(o,{rootMargin:"100px",threshold:.15})),r},l=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,a.useEffect)((function(){var r=null===e||void 0===e?void 0:e.current,a=c();if(r)return s.set(r,n),i.set(r,!t),a.observe(r),function(){s.delete(r),a.unobserve(r)}}),[e])}},4180:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(4165),a=t(5861),s=t(5671),i=t(3144),o=t(9340),c=t(1129),l=function(e){(0,o.Z)(t,e);var n=(0,c.Z)(t);function t(e){return(0,s.Z)(this,t),n.call(this,e)}return(0,i.Z)(t,[{key:"RegisterAppClient",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.createAxiosClient(),e.next=3,t.post("appmanagement/register/client",n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"RegisterChatAppClient_temp",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.createAxiosClient(),e.next=3,t.post("appmanagement/register/chatclient_temp",n);case 3:return a=e.sent,console.log("RegisterChatAppClient_temp returning response"),console.log(a),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"RegisterApp",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.createAxiosClient(),e.next=3,t.post("appmanagement/register/app",n);case 3:return a=e.sent,console.log("RegisterApp returning response"),console.log(a),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"GetAppRegistration",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.createAxiosClient(),e.next=3,t.post("appmanagement/app",n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"GetAppRegistrations",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createAxiosClient(),e.next=3,n.get("appmanagement/list");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"RevokeApp",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.createAxiosClient(),e.next=3,t.post("appmanagement/revoke",n);case 3:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"AllowApp",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.createAxiosClient(),e.next=3,t.post("appmanagement/allow",n);case 3:a=e.sent,console.log(a);case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}}]),t}(t(2008).$);l.instance=void 0},4362:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(3504),a=t(9747),s=t(7585),i=t(2405),o=t(8808),c=t(9388),l=t(9080),u=t(1434),d=t(4990),p=t(144),f=t(4395),h=t(4257),m=t(9631),v=t(470),x=t(6009),g=t(184),y=function(){var e,n,t,r=(0,v.Z)({profileId:m.Ib.DefaultDriveId,type:m.Dg.HomePage}).fetchVersions.data,a=(0,v.Z)({profileId:m.P.StandardProfileId,type:m.H1.Photo.type}).fetchVersions.data;return(0,g.jsx)("a",{href:"https://".concat(window.location.hostname,"/home"),className:"block hover:shadow-md hover:dark:shadow-slate-600",children:(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)(x.Z,{targetDrive:(0,m.H3)(m.Ib.DefaultDriveId),fileId:null===r||void 0===r||null===(e=r[0])||void 0===e?void 0:e.data[m.Gj.HeaderImageId],className:"min-h-[34rem] object-cover"}),(0,g.jsx)("div",{className:"absolute inset-0 mx-auto max-w-[18rem]",children:(0,g.jsx)("div",{className:"flex h-full items-center",children:(0,g.jsx)(x.Z,{targetDrive:(0,m.H3)(m.P.StandardProfileId),fileId:null===a||void 0===a||null===(n=a[0])||void 0===n||null===(t=n.data)||void 0===t?void 0:t.profileImageId,className:"aspect-square max-h-[18rem] w-full max-w-[18rem] rounded-full border-8 border-neutral-200 object-cover"})})})]})})},w={drives:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("p",{children:["Drives are the center of your identity. They contain your data in their many different forms. Drives hold the data of your profile(s), drafted and published blogs."," "]}),(0,g.jsxs)("p",{className:"mt-2",children:["Data on these drives can be accessed by you, one of your approved connections, one of your approved apps and the ",(0,g.jsx)("span",{className:"line-through",children:"YouFoundation"}),". No scratch that, it is your data you are always in control. We will never access your data, because we promise not to... And because it is technically impossible."]})]}),circles:(0,g.jsx)("p",{children:"Circles are groups of members that share the same permissions. You can name them based on which social circle your connections belong (eg: family, friends, co-workers, ...). Or anything else that works for you"}),apps:(0,g.jsx)("p",{children:"Apps are applications that have been granted access to one or more of your drives. They are able to access that information on your behalf so do make sure when registering new apps on your identity that they don't request any drive access that you don't feel comfortable with."})},Z=function(){var e,n,t=(0,h.Z)({pending:{pageSize:5,pageNumber:1},sent:{pageSize:5,pageNumber:1}}).fetchPending,m=t.data,v=t.isLoading,x=(0,f.Z)().fetch,Z=x.data,j=x.isLoading,b=(0,p.Z)().fetchRegistered,N=b.data,k=b.isLoading;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.Z,{title:(0,d.t)("Dashboard")}),(0,g.jsxs)("p",{className:"max-w-md",children:["Welcome to your owner console. Here you will be able to edit your"," ",(0,g.jsx)(r.rU,{className:"underline",to:"/owner/profile",children:"profile"}),", manage your"," ",(0,g.jsx)(r.rU,{className:"underline",to:"/owner/connections",children:"connections"}),", manage permissions within"," ",(0,g.jsx)(r.rU,{className:"underline",to:"/owner/circles",children:"circles"})," ","and"," ",(0,g.jsx)(r.rU,{className:"underline",to:"/owner/apps",children:"apps"}),"."]}),!v&&null!==m&&void 0!==m&&null!==(e=m.results)&&void 0!==e&&e.length?(0,g.jsx)(u.Z,{isOpaqueBg:!0,title:(0,d.t)("Connection requests"),className:"mb-4",children:(0,g.jsx)("div",{className:"-m-1 flex flex-row flex-wrap",children:null===m||void 0===m||null===(n=m.results)||void 0===n?void 0:n.map((function(e){return(0,g.jsx)(s.Z,{className:"w-full p-1 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6",senderDotYouId:e.senderDotYouId,pendingConnection:e,children:(0,g.jsx)("div",{className:"-mt-3",children:(0,g.jsx)("p",{className:"mb-3 text-sm",children:e.message})})},e.senderDotYouId)}))})}):null,(0,g.jsxs)("div",{className:"-mx-4 lg:flex lg:flex-row",children:[(0,g.jsx)("div",{className:"px-4 lg:w-1/3",children:(0,g.jsx)(u.Z,{title:(0,d.t)("Your Homepage"),isOpaqueBg:!0,className:"h-full",children:(0,g.jsx)(y,{})})}),(0,g.jsx)("div",{className:"px-4 lg:w-1/3",children:(0,g.jsx)(u.Z,{className:"h-full",isOpaqueBg:!0,title:(0,g.jsxs)("div",{className:"flex flex-row",children:[(0,d.t)("Circles")," ",(0,g.jsx)(c.Z,{title:(0,d.t)("About Circles"),className:"ml-2",children:w.circles})]}),children:(0,g.jsx)("ul",{className:"-my-4",children:null!==Z&&void 0!==Z&&Z.length||j?null===Z||void 0===Z?void 0:Z.map((function(e){return(0,g.jsx)(o.Z,{circleDef:e,className:"my-4"},e.id)})):(0,g.jsx)(a.Z,{className:"my-2",type:"info",isCompact:!0,children:w.circles})})})}),(0,g.jsx)("div",{className:"px-4 lg:w-1/3",children:(0,g.jsx)(u.Z,{className:"h-full",isOpaqueBg:!0,title:(0,g.jsxs)("div",{className:"flex flex-row",children:[(0,d.t)("Apps")," ",(0,g.jsx)(c.Z,{title:(0,d.t)("About Apps"),className:"ml-2",children:w.apps})]}),children:(0,g.jsx)("ul",{className:"-my-4",children:null!==N&&void 0!==N&&N.length||k?null===N||void 0===N?void 0:N.map((function(e){return(0,g.jsx)(i.Z,{className:"my-4",appDef:e},e.appId)})):(0,g.jsx)(a.Z,{className:"my-2",type:"info",isCompact:!0,children:w.apps})})})})]})]})},j=function(){return(0,g.jsx)("section",{children:(0,g.jsx)(Z,{})})}}}]);
//# sourceMappingURL=362.0ee2d5e8.chunk.js.map