"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[682],{8522:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(9439),a=t(2791),s=t(5713),i=t(9779),o=t(9006),c=t(365),u=t(184),l=function(e){var n=e.className;return(0,u.jsxs)("svg",{className:n,stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[(0,u.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,u.jsx)("circle",{cx:"12",cy:"12",r:"3"})]})},d=t(4411),f=function(e){var n,t=e.dotYouId,f=e.onlyLoadAfterClick,v=(0,a.useState)(!1),p=(0,r.Z)(v,2),m=p[0],h=p[1],x=(0,s.Z)({dotYouId:t,loadPendingProfilePicture:!f||m}).fetch,g=x.data,Z=x.isLoading,y=("pending"===(null===g||void 0===g?void 0:g.source)||"public"===(null===g||void 0===g?void 0:g.source))&&f,b=(0,i.Z)(y?m&&(null===g||void 0===g?void 0:g.imageFileId)||void 0:null===g||void 0===g?void 0:g.imageFileId,o.F.ContactTargetDrive).fetch.data,w=null===g||void 0===g?void 0:g.name;return(0,u.jsxs)("div",{className:"relative aspect-square",children:[Z?(0,u.jsx)(d.Z,{className:"aspect-square"}):null!==g&&void 0!==g&&g.imageUrl||b?(0,u.jsx)("figure",{className:"relative overflow-hidden",children:(0,u.jsx)("img",{src:null!==(n=g.imageUrl)&&void 0!==n?n:b,className:"aspect-square w-full object-cover"})}):(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(c.Z,{initials:function(){var e,n;if(w)return(null===(e=w.givenName)||void 0===e?void 0:e[0])+(null===(n=w.surname)||void 0===n?void 0:n[0])+"";var r=null===t||void 0===t?void 0:t.split(".");return(null===r||void 0===r?void 0:r.length)>=2?r[0][0]+r[1][0]+"":"--"}()})}),!0===y&&(0,u.jsxs)("button",{className:"absolute bottom-2 right-2 bg-white bg-opacity-60 p-2 hover:bg-opacity-100 dark:bg-black dark:bg-opacity-60 hover:dark:bg-opacity-100",onClick:function(e){return e.preventDefault(),h(!m),!1},children:[(0,u.jsx)(l,{className:"h-4 w-4"}),m&&(0,u.jsx)("span",{className:"absolute bottom-[0.9rem] right-[0.2rem] block w-[1.5rem] rotate-45 border-b-[2px] border-black dark:border-white"})]})]})}},2145:function(e,n,t){var r=t(5274),a=t(2791),s=t(3504),i=t(4990),o=t(9779),c=t(470),u=t(9747),l=t(365),d=t(7369),f=t(4498),v=t(6554),p=t(3779),m=t(9388),h=t(4411),x=t(184),g=function(e,n){var t,a;return null===e||void 0===e||null===(t=e.filter((function(e){var n;return void 0!==e.data&&0!==(null===(n=Object.keys(e.data))||void 0===n?void 0:n.length)&&e.acl.requiredSecurityGroup!==r.hh.Owner})))||void 0===t||null===(a=t.sort((function(e,n){return e.priority-n.priority})))||void 0===a?void 0:a.filter((function(e){var t,a;return null===(t=e.acl)||void 0===t||null===(a=t.circleIdList)||void 0===a||!a.length||e.acl.circleIdList.some((function(e){return null===n||void 0===n?void 0:n.some((function(n){return r.j4.stringGuidsEqual(n,e)}))}))}))};n.Z=function(e){var n,t,Z,y,b,w,j,N,k,I,C,S,D,q,P,Q=e.circleGrants,F=e.className,O=e.onChange,L=(0,c.Z)({profileId:r.P.StandardProfileId.toString(),type:r.H1.Name.type}).fetchVersions,M=L.data,Y=L.isLoading,R=L.isFetchedAfterMount,V=g(M,Q),A=(0,c.Z)({profileId:r.P.StandardProfileId.toString(),type:r.H1.Photo.type}).fetchVersions,E=A.data,U=A.isLoading,z=g(E,Q),G=(0,o.Z)(null===z||void 0===z||null===(n=z[0])||void 0===n||null===(t=n.data)||void 0===t?void 0:t[r.mA.ProfileImageId],(0,r.H3)(r.P.StandardProfileId.toString())).fetch.data,H=(0,c.Z)({profileId:r.P.StandardProfileId.toString(),type:r.H1.PhoneNumber.type}).fetchVersions,B=H.data,W=H.isLoading,T=g(B,Q),J=(0,c.Z)({profileId:r.P.StandardProfileId.toString(),type:r.H1.Location.type}).fetchVersions,K=J.data,_=J.isLoading,$=g(K,Q),X=(0,c.Z)({profileId:r.P.StandardProfileId.toString(),type:r.H1.Birthday.type}).fetchVersions,ee=X.data,ne=X.isLoading,te=g(ee,Q),re={givenName:null===V||void 0===V||null===(Z=V[0])||void 0===Z?void 0:Z.data[r.mA.GivenNameId],surname:null===V||void 0===V||null===(y=V[0])||void 0===y?void 0:y.data[r.mA.SurnameId],imageFileId:null===z||void 0===z||null===(b=z[0])||void 0===b?void 0:b.data[r.mA.ProfileImageId],phone:null===T||void 0===T||null===(w=T[0])||void 0===w?void 0:w.data[r.T2.PhoneNumber],city:null===$||void 0===$||null===(j=$[0])||void 0===j?void 0:j.data[r.Jz.City],country:null===$||void 0===$||null===(N=$[0])||void 0===N?void 0:N.data[r.Jz.Country],birthday:null===te||void 0===te||null===(k=te[0])||void 0===k?void 0:k.data[r.GJ.Date]};return(0,a.useEffect)((function(){null!==V&&void 0!==V&&V.length&&O&&"function"===typeof O&&O(re)}),[R]),(0,x.jsxs)("div",{className:"relative border border-slate-100 dark:border-slate-800 ".concat(null!==F&&void 0!==F?F:""),children:[Y||re.givenName&&re.surname?null:(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(u.Z,{type:"warning",isCompact:!0,className:"mb-4",children:(0,x.jsxs)("p",{children:[(0,i.t)("Without a name, you cannot connect to other people. Please fill in your name on")," ",(0,x.jsx)(s.rU,{to:"/owner/profile/standard-info",className:"underline",children:(0,i.t)("the profile page")})]})})}),(0,x.jsxs)("div",{className:"-mr-6 flex flex-row ",children:[(0,x.jsx)("div",{className:"aspect-square w-1/4 max-w-[10rem]",children:U?(0,x.jsx)(h.Z,{className:"aspect-square"}):G?(0,x.jsx)("img",{src:G,className:"aspect-square object-cover object-top"}):(0,x.jsx)(l.Z,{initials:(null!==(I=null===(C=re.givenName)||void 0===C?void 0:C[0])&&void 0!==I?I:"")+(null!==(S=null===(D=re.surname)||void 0===D?void 0:D[0])&&void 0!==S?S:""),className:"aspect-square h-[8rem] w-[8rem] sm:text-4xl"})}),(0,x.jsxs)("div",{className:"flex-grow px-6 py-4",children:[Y?(0,x.jsx)(h.Z,{className:"h-6 w-full max-w-xs"}):(0,x.jsx)("h2",{className:"mb-4 text-lg",children:"".concat(null!==(q=re.givenName)&&void 0!==q?q:""," ").concat(null!==(P=re.surname)&&void 0!==P?P:"")}),W?(0,x.jsx)(h.Z,{className:"h-6 w-full max-w-xs"}):(0,x.jsxs)("div",{className:"my-1 flex flex-row",children:[(0,x.jsx)(v.Z,{className:"mr-2",children:(0,x.jsx)(p.Z,{className:"h-3 w-3"})})," ",re.phone?re.phone:(0,x.jsx)("span",{className:"font-light text-slate-400",children:(0,i.t)("unknown")})]}),_?(0,x.jsx)(h.Z,{className:"h-6 w-full max-w-xs"}):(0,x.jsxs)("div",{className:"my-1 flex flex-row",children:[(0,x.jsx)(v.Z,{className:"mr-2",children:(0,x.jsx)(f.Z,{className:"h-3 w-3"})})," ",re.city||re.country?(0,x.jsxs)(x.Fragment,{children:[re.city,re.city&&", ",re.country]}):(0,x.jsx)("span",{className:"font-light text-slate-400",children:(0,i.t)("unknown")})]}),ne?(0,x.jsx)(h.Z,{className:"h-6 w-full max-w-xs"}):(0,x.jsxs)("div",{className:"my-1 flex flex-row",children:[(0,x.jsx)(v.Z,{className:"mr-2",children:(0,x.jsx)(d.Z,{className:"h-3 w-3"})})," ",re.birthday?re.birthday:(0,x.jsx)("span",{className:"font-light text-slate-400",children:(0,i.t)("unknown")})]})]}),(0,x.jsxs)(m.Z,{title:(0,i.t)("Why am I seeing this?"),className:"absolute bottom-1 right-1",children:[(0,x.jsx)("p",{className:"mb-4",children:(0,i.t)("Based on the list of circles that a connection belongs to, certain access to your profile attributes (as you can specifiy yourself) are provided.")}),(0,x.jsx)("p",{className:"",children:(0,i.t)("The contact info shown here is just a sample of the data the conection will be able to access.")})]})]})]})}},8532:function(e,n,t){var r=t(4165),a=t(5861),s=t(9439),i=t(2791),o=t(4164),c=t(4990),u=t(3072),l=t(7148),d=t(3412),f=t(6839),v=t(2042),p=t(2851),m=t(4325),h=t(8522),x=t(2145),g=t(8845),Z=t(8930),y=t(184);n.Z=function(e){var n=e.confirmText,t=e.senderDotYouId,b=e.pendingConnection,w=e.isOpen,j=e.onConfirm,N=e.onCancel,k=(0,d.Z)("modal-container"),I=(0,u.Z)({}).acceptRequest,C=I.mutateAsync,S=I.status,D=I.error,q=(0,f.Z)().fetchUiSettings.data,P=(0,l.Z)(),Q=(0,i.useState)(!1),F=(0,s.Z)(Q,2),O=F[0],L=F[1],M=(0,i.useState)(),Y=(0,s.Z)(M,2),R=Y[0],V=Y[1],A=(0,i.useState)(null),E=(0,s.Z)(A,2),U=E[0],z=E[1],G=(0,i.useState)([]),H=(0,s.Z)(G,2),B=H[0],W=H[1];if(!w)return null;var T=(0,y.jsx)(Z.Z,{title:(0,y.jsxs)(y.Fragment,{children:[(0,c.t)("Connection request from")," ",(0,y.jsx)(m.Z,{children:t})]}),onClose:function(){L(!1),N()},keepOpenOnBlur:!0,size:"2xlarge",children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v.Z,{error:D}),O?(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("form",{onSubmit:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,C({senderDotYouId:t,name:R,photoFileId:U,circleIds:B});case 3:P("Approved"),j();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:[(0,y.jsxs)("div",{className:"mb-4 pb-4",children:[(0,y.jsxs)("h2",{className:"mb-2 text-lg leading-tight",children:[(0,c.t)("Add as member to one or more circles"),":",(0,y.jsxs)("small",{className:"block text-slate-400 dark:text-slate-600",children:[t," ",(0,c.t)("will be added as member to the selected circles")]})]}),(0,y.jsx)(g.Z,{defaultValue:B,onChange:function(e){return W(e.target.value)}})]}),(0,y.jsxs)("h2",{className:"mb-6 text-lg leading-tight",children:[(0,c.t)("Your contact details"),(0,y.jsxs)("small",{className:"block text-slate-400 dark:text-slate-600",children:[t," ",(0,c.t)("will get access to these contact details")]})]}),(0,y.jsx)(x.Z,{circleGrants:B,onChange:function(e){var n=e.givenName,t=e.surname,r=e.imageFileId;V({givenName:n,surname:t}),z(r)},className:"mb-4"}),(0,y.jsxs)("div",{className:"-m-2 flex flex-col py-3 sm:flex-row-reverse",children:[(0,y.jsx)(p.Z,{className:"m-2",icon:"send",state:S,isDisabled:!R,children:null!==n&&void 0!==n?n:(0,c.t)("Accept")}),(0,y.jsx)(p.Z,{className:"m-2",type:"secondary",onClick:function(){L(!1),P("Canceled"),N()},children:(0,c.t)("Cancel")})]})]})}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"mb-4 pb-4",children:[(0,y.jsxs)("h2",{className:"mb-8",children:[(0,c.t)("The user with the identity"),":"," ",(0,y.jsx)("span",{className:"rounded-lg bg-slate-200 p-1 tracking-wide dark:bg-slate-600",children:(0,y.jsx)(m.Z,{children:t})})," ",(0,c.t)("would like to connect with you and sent you a personal message"),":"]}),(0,y.jsxs)("div",{className:"-m-4 flex flex-row flex-wrap sm:flex-nowrap",children:[(0,y.jsx)("div",{className:"w-full p-4 md:w-2/5",children:(0,y.jsx)(h.Z,{dotYouId:t,onlyLoadAfterClick:!(null!==q&&void 0!==q&&q.automaticallyLoadProfilePicture)})}),(0,y.jsxs)("div",{className:"w-full p-4 text-gray-600 dark:text-gray-400 md:w-3/5",children:[(0,y.jsx)("p",{children:b.message}),(0,y.jsxs)("p",{className:"mt-2",children:["-- ",b.contactData.givenName," ",b.contactData.surname]})]})]})]}),(0,y.jsxs)("div",{className:"-m-2 flex flex-col py-3 sm:flex-row-reverse",children:[(0,y.jsx)(p.Z,{className:"m-2",icon:"send",onClick:function(){return L(!0)},children:(0,c.t)("Continue")}),(0,y.jsx)(p.Z,{className:"m-2",type:"mute",onClick:function(){P("Canceled"),N()},children:(0,c.t)("Cancel")}),(0,y.jsx)(p.Z,{className:"m-2 sm:mr-auto",type:"secondary",onClick:function(){P("Ignored"),N()},children:(0,c.t)("Ignore request")})]})]})]})});return(0,o.createPortal)(T,k)}},596:function(e,n,t){var r=t(1413),a=t(4925),s=t(184),i=["className"];n.Z=function(e){var n=e.className,t=(0,a.Z)(e,i);return(0,s.jsxs)("label",{className:"relative inline-flex cursor-pointer items-center ".concat(null!==n&&void 0!==n?n:""),children:[(0,s.jsx)("input",(0,r.Z)({type:"checkbox",className:"peer sr-only"},t)),(0,s.jsx)("div",{className:"peer h-6 w-11 rounded-full bg-gray-200 after:absolute after:top-[2px] after:left-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-indigo-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-indigo-800"})]})}},8845:function(e,n,t){var r=t(3433),a=t(9439),s=t(5274),i=t(2791),o=t(4990),c=t(4395),u=t(8808),l=t(596),d=t(184);n.Z=function(e){var n=e.defaultValue,t=e.onChange,f=e.name,v=(0,c.Z)().fetch,p=v.data,m=v.isLoading,h=(0,i.useState)((0,r.Z)(null!==n&&void 0!==n?n:[])),x=(0,a.Z)(h,2),g=x[0],Z=x[1];return(0,i.useEffect)((function(){t({target:{name:f,value:(0,r.Z)(g)}})}),[g]),(0,i.useEffect)((function(){null!==g&&void 0!==g&&g.length&&0===(null===n||void 0===n?void 0:n.length)&&Z([])}),[n]),(0,d.jsxs)(d.Fragment,{children:[!(null!==p&&void 0!==p&&p.length)&&!m&&(0,d.jsx)("p",{children:(0,o.t)("No circles found")}),(0,d.jsx)("div",{className:"-mb-4",children:null===p||void 0===p?void 0:p.map((function(e,n){var t,a=g.some((function(n){return s.j4.stringGuidsEqual(n,e.id)})),i=function(){g.some((function(n){return s.j4.stringGuidsEqual(n,e.id)}))?Z(g.filter((function(n){return!s.j4.stringGuidsEqual(n,e.id)}))):Z([].concat((0,r.Z)(g),[e.id]))};return(0,d.jsxs)("div",{className:"my-2 flex w-full cursor-pointer select-none flex-row rounded-lg border px-4 py-3 dark:border-slate-800 ".concat(a&&"bg-slate-50 dark:bg-slate-700"),onClick:i,children:[(0,d.jsx)(u.Z,{circleDef:e,isChecked:a,onClick:i,hideMembers:!0},null!==(t=e.id)&&void 0!==t?t:n),(0,d.jsx)("label",{className:"sr-only",htmlFor:e.id,children:e.name}),(0,d.jsx)(l.Z,{id:e.id,checked:a,className:"pointer-events-none my-auto ml-auto",readOnly:!0})]},e.id)}))})]})}},8808:function(e,n,t){var r=t(3504),a=t(4990),s=t(4075),i=t(706),o=t(9205),c=t(4411),u=t(184);n.Z=function(e){var n=e.circleDef,t=e.permissionDetails,l=e.className,d=e.isChecked,f=e.onClick,v=e.hideMembers,p=(0,s.Z)({circleId:!v&&(null===n||void 0===n?void 0:n.id)}).fetchMembers,m=p.data,h=p.isLoading;if(!n)return(0,u.jsx)(u.Fragment,{});var x=function(e){var t=e.children,a=e.className;return f?(0,u.jsx)("a",{onClick:function(){return f&&f()},className:null!==a&&void 0!==a?a:"",children:t}):(0,u.jsx)(r.rU,{to:"/owner/circles/".concat(encodeURIComponent(n.id)),className:"hover:text-slate-700 hover:underline dark:hover:text-slate-400 ".concat(null!==a&&void 0!==a?a:""),children:t})},g=d?"border-indigo-500 dark:border-indigo-800":!1===d?"border-slate-100 dark:border-slate-800":"";return(0,u.jsxs)(x,{className:"flex flex-row ".concat(null!==l&&void 0!==l?l:""," ").concat(n.disabled&&"opacity-50"," ").concat(f&&"cursor-pointer"," ").concat(g),children:[(0,u.jsx)(o.Z,{className:"mt-1 mb-auto mr-3 h-6 w-6"}),(0,u.jsxs)("div",{className:"mr-2 flex flex-col",children:[(0,u.jsxs)("p",{className:"my-auto leading-none",children:[n.disabled&&(0,a.t)("Disabled:")," ",null===n||void 0===n?void 0:n.name,t&&": ".concat(t)]}),v?null:h?(0,u.jsx)(c.Z,{className:"mt-1 h-4 w-full"}):(0,u.jsx)("small",{className:"block",children:m?"".concat(m.length," ").concat(1===m.length?(0,a.t)("member"):(0,a.t)("members")):null})]}),!f&&(0,u.jsx)(i.Z,{className:"my-auto ml-2 h-5 w-5"})]})}},4325:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.children;return(0,r.jsx)(r.Fragment,{children:n.split("").map((function(e){var n=e.charCodeAt(0);return n<=32||n>=127?(0,r.jsx)("span",{className:"text-orange-400 underline",children:e}):e}))})}},365:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.initials,t=e.className;return(0,r.jsx)("div",{className:"flex h-full w-full bg-slate-200 text-4xl font-light text-white dark:bg-slate-700 dark:text-black sm:text-6xl ".concat(null!==t&&void 0!==t?t:""),children:(0,r.jsx)("span",{className:"m-auto uppercase",children:n})})}},7369:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.className;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"currentColor",className:n,children:(0,r.jsx)("path",{d:"M86.4 5.5L61.8 47.6C58 54.1 56 61.6 56 69.2V72c0 22.1 17.9 40 40 40s40-17.9 40-40V69.2c0-7.6-2-15-5.8-21.6L105.6 5.5C103.6 2.1 100 0 96 0s-7.6 2.1-9.6 5.5zm128 0L189.8 47.6c-3.8 6.5-5.8 14-5.8 21.6V72c0 22.1 17.9 40 40 40s40-17.9 40-40V69.2c0-7.6-2-15-5.8-21.6L233.6 5.5C231.6 2.1 228 0 224 0s-7.6 2.1-9.6 5.5zM317.8 47.6c-3.8 6.5-5.8 14-5.8 21.6V72c0 22.1 17.9 40 40 40s40-17.9 40-40V69.2c0-7.6-2-15-5.8-21.6L361.6 5.5C359.6 2.1 356 0 352 0s-7.6 2.1-9.6 5.5L317.8 47.6zM128 176c0-17.7-14.3-32-32-32s-32 14.3-32 32v48c-35.3 0-64 28.7-64 64v71c8.3 5.2 18.1 9 28.8 9c13.5 0 27.2-6.1 38.4-13.4c5.4-3.5 9.9-7.1 13-9.7c1.5-1.3 2.7-2.4 3.5-3.1c.4-.4 .7-.6 .8-.8l.1-.1 0 0 0 0s0 0 0 0s0 0 0 0c3.1-3.2 7.4-4.9 11.9-4.8s8.6 2.1 11.6 5.4l0 0 0 0 .1 .1c.1 .1 .4 .4 .7 .7c.7 .7 1.7 1.7 3.1 3c2.8 2.6 6.8 6.1 11.8 9.5c10.2 7.1 23 13.1 36.3 13.1s26.1-6 36.3-13.1c5-3.5 9-6.9 11.8-9.5c1.4-1.3 2.4-2.3 3.1-3c.3-.3 .6-.6 .7-.7l.1-.1c3-3.5 7.4-5.4 12-5.4s9 2 12 5.4l.1 .1c.1 .1 .4 .4 .7 .7c.7 .7 1.7 1.7 3.1 3c2.8 2.6 6.8 6.1 11.8 9.5c10.2 7.1 23 13.1 36.3 13.1s26.1-6 36.3-13.1c5-3.5 9-6.9 11.8-9.5c1.4-1.3 2.4-2.3 3.1-3c.3-.3 .6-.6 .7-.7l.1-.1c2.9-3.4 7.1-5.3 11.6-5.4s8.7 1.6 11.9 4.8l0 0 0 0 0 0 .1 .1c.2 .2 .4 .4 .8 .8c.8 .7 1.9 1.8 3.5 3.1c3.1 2.6 7.5 6.2 13 9.7c11.2 7.3 24.9 13.4 38.4 13.4c10.7 0 20.5-3.9 28.8-9V288c0-35.3-28.7-64-64-64V176c0-17.7-14.3-32-32-32s-32 14.3-32 32v48H256V176c0-17.7-14.3-32-32-32s-32 14.3-32 32v48H128V176zM448 394.6c-8.5 3.3-18.2 5.4-28.8 5.4c-22.5 0-42.4-9.9-55.8-18.6c-4.1-2.7-7.8-5.4-10.9-7.8c-2.8 2.4-6.1 5-9.8 7.5C329.8 390 310.6 400 288 400s-41.8-10-54.6-18.9c-3.5-2.4-6.7-4.9-9.4-7.2c-2.7 2.3-5.9 4.7-9.4 7.2C201.8 390 182.6 400 160 400s-41.8-10-54.6-18.9c-3.7-2.6-7-5.2-9.8-7.5c-3.1 2.4-6.8 5.1-10.9 7.8C71.2 390.1 51.3 400 28.8 400c-10.6 0-20.3-2.2-28.8-5.4V480c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32V394.6z"})})}},6554:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.children,t=e.className;return(0,r.jsx)("div",{className:"mr-2 flex justify-center bg-slate-200 p-2 align-middle dark:bg-slate-800 ".concat(null!==t&&void 0!==t?t:""),children:n})}},3779:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.className;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",className:n,children:(0,r.jsx)("path",{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"})})}},1434:function(e,n,t){var r=t(2791),a=t(184),s=r.forwardRef((function(e,n){var t=e.title,r=e.actions,s=e.className,i=e.children,o=e.isOpaqueBg,c=void 0!==o&&o,u=e.isBorderLess,l=void 0!==u&&u;return(0,a.jsxs)("section",{ref:n,className:"my-5 rounded-md ".concat(c?l?"":"rounded-lg border-[1px] border-gray-200 border-opacity-80 px-5 dark:border-gray-700":"bg-slate-50 px-5 dark:bg-slate-800"," dark:text-slate-300 ").concat(null!==s&&void 0!==s?s:""),children:[t||r?(0,a.jsxs)("div",{className:"relative flex flex-row items-center border-b-[1px] border-gray-200 border-opacity-80 py-5 transition-all duration-300 dark:border-gray-700",children:[(0,a.jsx)("h3",{className:"text-2xl dark:text-white",children:t}),(0,a.jsx)("div",{className:"ml-auto",children:(0,a.jsx)("div",{className:"-m-2 flex flex-col flex-wrap justify-end sm:flex-row sm:items-center",children:r})})]}):null,(0,a.jsx)("div",{className:"py-5 ",children:i})]})}));n.Z=s},4395:function(e,n,t){var r=t(4165),a=t(5861),s=t(7408),i=t(3766),o=t(8609);n.Z=function(){var e=(0,o.ZP)().getSharedSecret,n=i.k.getInstance(e()),t=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getCircles();case 2:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.sort((function(e,n){return(e.disabled?1:0)-(n.disabled?1:0)})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["circles"],(function(){return t()}),{refetchOnWindowFocus:!1})}}},3072:function(e,n,t){var r=t(3433),a=t(4165),s=t(5861),i=t(7408),o=t(7186),c=t(5144),u=t(8609);n.Z=function(e){var n=e.dotYouId,t=(0,i.useQueryClient)(),l=(0,u.ZP)().getSharedSecret,d=o.I.getInstance(l()),f=c.e.getInstance(l()),v=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var t,r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.dotYouId){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d.getConnectionInfo(t);case 5:if(!(r=e.sent)||"none"===r.status.toLowerCase()){e.next=8;break}return e.abrupt("return",r);case 8:return e.next=10,f.getPendingRequest(t);case 10:if(!(s=e.sent)){e.next=13;break}return e.abrupt("return",s);case 13:return e.next=15,f.getSentRequest(t);case 15:return i=e.sent,e.abrupt("return",null!==i&&void 0!==i?i:r);case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.connectionDotYouId,e.next=3,d.disconnectFromContact(null!==r&&void 0!==r?r:n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var t,r,s,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.targetDotYouId,r=n.message,s=n.name,i=n.photoFileId,o=n.circleIds,e.next=3,f.sendRequest(t,r,s,i,o);case 3:return e.abrupt("return",{targetDotYouId:t});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.targetDotYouId,e.next=3,f.deleteSentRequest(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var t,r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.senderDotYouId,r=n.name,s=n.photoFileId,i=n.circleIds,e.next=3,f.acceptConnectionRequest(t,r,s,i);case 3:return e.abrupt("return",{senderDotYouId:t});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.senderDotYouId,e.next=3,f.deletePendingRequest(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.blockDotYouId(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.unblockDotYouId(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetch:(0,i.useQuery)(["connectionInfo",n],(function(){return v({dotYouId:n})}),{refetchOnWindowFocus:!1}),disconnect:(0,i.useMutation)(p,{onSuccess:function(e,n){t.invalidateQueries(["activeConnections"]),t.invalidateQueries(["connectionInfo",n])},onError:function(e){console.error(e)}}),sendConnectionRequest:(0,i.useMutation)(m,{onMutate:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cancelQueries(["sentRequests"]);case 2:return s=t.getQueryData(["sentRequests"]),i=[{status:"sent",recipient:n.targetDotYouId}].concat((0,r.Z)(null!==s&&void 0!==s?s:[])),t.setQueryData(["sentRequests"],i),e.abrupt("return",{previousRequests:s,newRequest:n});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(e,n,r){console.error(e),t.setQueryData(["sentRequests"],r.previousRequests)},onSettled:function(e){t.invalidateQueries(["sentRequests"]),t.invalidateQueries(["connectionInfo",e.targetDotYouId])}}),revokeConnectionRequest:(0,i.useMutation)(h,{onSuccess:function(e,n){t.invalidateQueries(["sentRequests"]),t.invalidateQueries(["connectionInfo",n.targetDotYouId])},onError:function(e){console.error(e)}}),acceptRequest:(0,i.useMutation)(x,{onMutate:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cancelQueries(["activeConnections"]);case 2:return s=t.getQueryData(["activeConnections"]),i=[{status:"pending",dotYouId:n.senderDotYouId}].concat((0,r.Z)(null!==s&&void 0!==s?s:[])),t.setQueryData(["activeConnections"],i),e.abrupt("return",{previousConnections:s,newRequest:n});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onError:function(e,n,r){console.error(e),t.setQueryData(["activeConnections"],r.previousConnections)},onSettled:function(e){t.invalidateQueries(["pendingConnections"]),t.invalidateQueries(["activeConnections"]),t.invalidateQueries(["connectionInfo",null===e||void 0===e?void 0:e.senderDotYouId])}}),ignoreRequest:(0,i.useMutation)(g,{onSuccess:function(e,n){t.invalidateQueries(["pendingConnections"]),t.invalidateQueries(["connectionInfo",n.senderDotYouId])},onError:function(e){console.error(e)}}),block:(0,i.useMutation)(Z,{onSettled:function(e,n,r){t.invalidateQueries(["pendingConnections"]),t.invalidateQueries(["activeConnections"]),t.invalidateQueries(["connectionInfo",r])}}),unblock:(0,i.useMutation)(y,{onSettled:function(e,n,r){t.invalidateQueries(["pendingConnections"]),t.invalidateQueries(["activeConnections"]),t.invalidateQueries(["connectionInfo",r])}})}}},7148:function(e,n,t){var r=t(9439),a=t(3504);n.Z=function(){var e=(0,a.lr)(),n=(0,r.Z)(e,1)[0];return function(e){if("focus"===n.get("ui")||"minimal"===n.get("ui")){var t=n.get("return");e&&(-1!==t.indexOf("?")?t+="&status=".concat(e):t+="?status=".concat(e)),window.location.href=t}}}},9779:function(e,n,t){var r=t(4165),a=t(5861),s=t(7408),i=t(5274),o=t(8609),c={alias:i.Ib.BlogMainContentDriveId.toString(),type:i.Hm.DriveType.toString()};n.Z=function(e,n){var t=(0,o.ZP)().getSharedSecret,u=(0,s.useQueryClient)(),l=new i.KU({api:i.Ii.Owner,sharedSecret:t()}),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l.mediaProvider.getDecryptedImageUrl(null!==t&&void 0!==t?t:c,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a,s,o,u,d,f,v;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.bytes,a=n.type,s=n.targetDrive,o=void 0===s?c:s,u=n.acl,d=void 0===u?{requiredSecurityGroup:i.hh.Anonymous}:u,f=n.fileId,v=void 0===f?void 0:f,e.next=3,l.mediaProvider.uploadImage(o,void 0,d,t,v,a);case 3:return e.abrupt("return",e.sent.fileId);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.targetDrive,a=void 0===t?c:t,s=n.fileId,e.next=3,l.mediaProvider.removeImage(s,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["image",e,n],(function(){return d(e,n)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0,enabled:!!e}),save:(0,s.useMutation)(f,{onSuccess:function(e,n){var t;n.fileId?u.invalidateQueries(["image",n.fileId,null!==(t=n.targetDrive)&&void 0!==t?t:c]):u.removeQueries(["image"])}}),remove:(0,s.useMutation)(v)}}},470:function(e,n,t){var r=t(4165),a=t(5861),s=t(7408),i=t(5274),o=t(8609);n.Z=function(e){var n=e.profileId,t=e.type,c=(0,o.ZP)().getSharedSecret,u=new i.KU({api:i.Ii.Owner,sharedSecret:c()}),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.profileId,a=n.type,e.next=3,u.profileDataProvider.getAttributeVersions(t,void 0,[a]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetchVersions:(0,s.useQuery)(["attributeVersions",n,t],(function(){return l({profileId:n,type:t})}),{refetchOnWindowFocus:!1})}}},6839:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(4165),a=t(5861),s=t(7408),i=t(5671),o=t(3144),c=t(1752),u=t(1120),l=t(9340),d=t(1129),f=function(e){(0,l.Z)(t,e);var n=(0,d.Z)(t);function t(e){var r;if((0,i.Z)(this,t),!e)throw"[SettingsProvider] Shared Secret is required";return(r=n.call(this,e)).root="/config",r}return(0,o.Z)(t,[{key:"getFlags",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.Z)((0,u.Z)(t.prototype),"createAxiosClient",this).call(this),a=this.root+"/system/flags",e.next=4,n.post(a).then((function(e){return e.data}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateFlag",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n,a){var s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,c.Z)((0,u.Z)(t.prototype),"createAxiosClient",this).call(this),i=this.root+"/system/updateflag",e.next=4,s.post(i,{flagName:n,value:a?"true":"false"}).then((function(e){return e.data}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"getSettings",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.Z)((0,u.Z)(t.prototype),"createAxiosClient",this).call(this),a=this.root+"/ownerapp/settings/list",e.next=4,n.post(a).then((function(e){var n,t=null===(n=e.data)||void 0===n?void 0:n.settings,r={};return Object.keys(t).forEach((function(e){r[e]=JSON.parse(t[e])})),r}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSettings",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a,s,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,c.Z)((0,u.Z)(t.prototype),"createAxiosClient",this).call(this),s=this.root+"/ownerapp/settings/update",i={},Object.keys(n).forEach((function(e){i[e]=JSON.stringify(n[e])})),e.next=6,a.post(s,{settings:i}).then((function(e){return e.data}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(e){return t.instance||(t.instance=new t(e)),t.instance}}]),t}(t(2008).$);f.instance=void 0,f.DriveInfo=void 0;var v=t(8609),p=function(){var e=(0,v.ZP)().getSharedSecret,n=f.getInstance(e()),t=(0,s.useQueryClient)(),i=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.getFlags());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,s=t.value,e.abrupt("return",n.updateFlag(a,s));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.getSettings());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.updateSettings(t));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetchFlags:(0,s.useQuery)(["systemFlags"],(function(){return i()}),{refetchOnWindowFocus:!1}),updateFlag:(0,s.useMutation)(o,{onSuccess:function(){t.invalidateQueries(["systemFlags"])}}),fetchUiSettings:(0,s.useQuery)(["uiSettings"],(function(){return c()}),{refetchOnWindowFocus:!1}),updateUiSetting:(0,s.useMutation)(u,{onSuccess:function(){t.invalidateQueries(["uiSettings"])}})}}},4925:function(e,n,t){function r(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=682.003d8799.chunk.js.map