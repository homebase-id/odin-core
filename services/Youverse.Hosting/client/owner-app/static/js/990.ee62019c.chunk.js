"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[990],{3756:function(e,t,n){var r=n(9439),a=n(2791),s=n(4990),c=n(9747),i=n(184);t.Z=function(e){var t=e.className,n=e.state,o=e.error,u=(0,a.useState)(null),l=(0,r.Z)(u,2),p=l[0],m=l[1],d=(0,a.useState)(new Date),f=(0,r.Z)(d,2),h=f[0],x=f[1];if((0,a.useEffect)((function(){"success"===n&&m(new Date)}),[n]),(0,a.useEffect)((function(){var e=setTimeout((function(){x(new Date)}),3e4);return function(){clearTimeout(e)}}),[h]),"loading"===n)return(0,i.jsx)("p",{className:"".concat(t," text-sm"),children:"Saving..."});if("error"===n)return(0,i.jsx)(c.Z,{type:"critical",className:t,children:o instanceof Error?o.message:(0,s.t)("Something went wrong")});if(!p)return null;var v=h.getTime()-p.getTime(),g=p?v<=6e4?"a few seconds ago":v<=6e5?"a few minutes ago":p.toLocaleString():"";return g?(0,i.jsxs)("p",{className:"".concat(t," text-sm"),children:["Last saved ",g]}):null}},9080:function(e,t,n){var r=n(6907),a=n(3504),s=n(3756),c=n(184);t.Z=function(e){var t=e.title,n=e.actions,i=e.saveStatus,o=e.breadCrumbs,u=e.icon;return(0,c.jsx)("section",{className:"-mx-5 -mt-4 mb-10 border-b-2 border-gray-100 bg-slate-50 py-4 pr-5 pl-10 dark:border-gray-700 dark:bg-slate-800 sm:-mx-10 sm:-mt-8 sm:py-8 sm:px-10",children:(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,c.jsxs)("div",{className:"flex-col",children:[o&&(0,c.jsx)("ul",{className:"mb-2 hidden flex-row sm:flex",children:o.map((function(e,t){return(0,c.jsx)("li",{className:"mr-2",children:e.href?(0,c.jsxs)(a.rU,{to:e.href,className:"",children:[e.title,(0,c.jsx)("span",{className:"ml-2",children:">"})]}):(0,c.jsx)("span",{className:"text-slate-500",children:e.title})},t)}))}),t&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("h1",{className:"mb-5 flex flex-row text-4xl dark:text-white",children:[u&&u({className:"h-8 w-8 my-auto mr-4"})," ",t]}),(0,c.jsx)(r.ql,{children:(0,c.jsxs)("title",{children:["object"!==typeof t&&"".concat(t)||window.location.pathname.split("/").pop()," ","| Owner console"]})})]})]}),(0,c.jsxs)("div",{className:"ml-auto",children:[(0,c.jsx)("div",{className:"-m-2 flex flex-col flex-wrap justify-end sm:flex-row sm:items-center",children:n}),i&&(0,c.jsx)(s.Z,{className:"mt-1",state:i})]})]})})}},144:function(e,t,n){var r=n(4165),a=n(5861),s=n(7408),c=n(4180),i=n(8609);t.Z=function(){var e=(0,i.ZP)().getSharedSecret,t=c.Z.getInstance(e()),n=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.GetAppRegistrations();case 2:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.sort((function(e,t){return(e.isRevoked?1:0)-(t.isRevoked?1:0)})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetchRegistered:(0,s.useQuery)(["registeredApps"],(function(){return n()}),{refetchOnWindowFocus:!1})}}},4180:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(4165),a=n(5861),s=n(5671),c=n(3144),i=n(9340),o=n(1129),u=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,s.Z)(this,n),t.call(this,e)}return(0,c.Z)(n,[{key:"RegisterAppClient",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createAxiosClient(),e.next=3,n.post("appmanagement/register/client",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"RegisterChatAppClient_temp",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createAxiosClient(),e.next=3,n.post("appmanagement/register/chatclient_temp",t);case 3:return a=e.sent,console.log("RegisterChatAppClient_temp returning response"),console.log(a),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"RegisterApp",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createAxiosClient(),e.next=3,n.post("appmanagement/register/app",t);case 3:return a=e.sent,console.log("RegisterApp returning response"),console.log(a),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetAppRegistration",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createAxiosClient(),e.next=3,n.post("appmanagement/app",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetAppRegistrations",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.createAxiosClient(),e.next=3,t.get("appmanagement/list");case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"RevokeApp",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createAxiosClient(),e.next=3,n.post("appmanagement/revoke",t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"AllowApp",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createAxiosClient(),e.next=3,n.post("appmanagement/allow",t);case 3:a=e.sent,console.log(a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(e){return n.instance||(n.instance=new n(e)),n.instance}}]),n}(n(2008).$);u.instance=void 0},8005:function(e,t,n){n.r(t);var r=n(3504),a=n(4990),s=n(144),c=n(8990),i=n(9080),o=n(4411),u=n(184),l=function(e){var t=e.appRegistration,n=e.className;return(0,u.jsx)("div",{className:"".concat(n," ").concat(t.isRevoked?"opacity-50":""),children:(0,u.jsxs)(r.rU,{to:"/owner/apps/".concat(encodeURIComponent(t.appId)),className:"block h-full rounded-md border-[1px] border-gray-200 border-opacity-60 bg-white transition-colors hover:bg-slate-100 dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-slate-700",children:[(0,u.jsxs)("h2",{className:"bg-slate-100 p-4 text-xl dark:bg-slate-700 dark:text-slate-200",children:[t.isRevoked?"".concat((0,a.t)("Revoked")," "):"",t.name]}),(0,u.jsx)("div",{className:"p-4",children:(0,u.jsxs)("p",{className:"text-xs",children:["Created on: ",new Date(t.created).toLocaleDateString()]})})]})})};t.default=function(){var e=(0,s.Z)().fetchRegistered,t=e.data,n=e.isLoading;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("section",{children:(0,u.jsx)(i.Z,{icon:c.Z,title:"Apps"})}),n?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.Z,{className:"m-4 h-10"}),(0,u.jsx)(o.Z,{className:"m-4 h-10"}),(0,u.jsx)(o.Z,{className:"m-4 h-10"})]}):(0,u.jsx)(u.Fragment,{children:null!==t&&void 0!==t&&t.length?(0,u.jsx)("div",{className:"-my-4",children:t.map((function(e){return(0,u.jsx)(l,{appRegistration:e,className:"py-4"},e.appId)}))}):(0,u.jsx)(u.Fragment,{children:(0,a.t)("No apps currently registered")})})]})}}}]);
//# sourceMappingURL=990.ee62019c.chunk.js.map