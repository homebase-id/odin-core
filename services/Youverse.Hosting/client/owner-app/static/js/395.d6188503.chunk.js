"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[395],{395:function(e,t,r){r.d(t,{u:function(){return Z},Z:function(){return k}});var n=r(5274),a=r(3504),s=r(4990),c=r(4165),l=r(5861),i=r(7408),o=r(1715),d=r(8609),u=function(e){var t=e.dotYouId,r=e.channelId,n=(0,d.ZP)().getSharedSecret,a=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t){var r,a,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.dotYouId,a=t.channelId,r&&a){e.next=3;break}return e.abrupt("return");case 3:return s=o.Z.getInstance(n()),e.next=6,s.getChannel(r,a);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,i.useQuery)(["channel",t,r],(function(){return a({dotYouId:t,channelId:r})}),{enabled:!!t&&!!r})}},m=r(3692),h=r(184),f=function(e){var t=e.className;return(0,h.jsx)("svg",{className:t,stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{d:"M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"})})},v=r(8602),x=r(6009),p=r(9439),g=r(2791),w=r(6430),y=r(9189),j=function(e,t,r,n){var a=(0,d.ZP)().getSharedSecret,s=(0,i.useQueryClient)(),o=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,r,n,s){var l;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==r&&""!==r){e.next=2;break}return e.abrupt("return");case 2:return l=y.Q.getInstance(a()),e.next=5,l.getDecryptedImageUrl(t,n,r,s);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}();return{fetch:(0,i.useQuery)(["external-image",e,t,r,n],(function(){return o(e,t,r,n)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0,enabled:!!e&&!!t&&!!r}),testCache:function(e,t){return!!s.getQueryData(["image",e,t])}}},N=function(e,t,r){var n=(0,d.ZP)().getSharedSecret,a=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,r,a){var s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&void 0!==r&&""!==r&&a){e.next=2;break}return e.abrupt("return");case 2:return s=y.Q.getInstance(n()),e.next=5,s.getDecryptedThumbnailMeta(t,a,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return(0,i.useQuery)(["tinyThumb",e,t,r],(function(){return a(e,t,r)}),{enabled:!!e&&!!t&&!!r,refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0,onError:function(e){return console.error(e)}})},b=function(e){var t,r,n,a=e.dotYouId,s=e.targetDrive,c=e.fileId,l=e.cover,i=e.className,o=e.alt,d=e.title,u=(0,g.useState)(!1),m=(0,p.Z)(u,2),f=m[0],v=m[1],x=(0,g.useState)(void 0),y=(0,p.Z)(x,2),b=y[0],Z=y[1],k=(0,g.useRef)(null),I=N(a,f?c:void 0,s).data,C=j(a,void 0!==b?c:void 0,s,"full"!==b?b:void 0),S=C.fetch.data,D=C.testCache;(0,w.s)(k,(function(){c&&D(c,s)&&M(),v(!0)})),(0,g.useEffect)((function(){var e;I&&null!==(e=I.url)&&void 0!==e&&e.length&&setTimeout((function(){M()}),100)}),[I]);var M=function(){var e,t,r;if(null!==I&&void 0!==I&&null!==(e=I.sizes)&&void 0!==e&&e.length&&k.current){var n=null===(t=k.current)||void 0===t?void 0:t.clientWidth,a=null===(r=k.current)||void 0===r?void 0:r.clientHeight,s=I.sizes.find((function(e){return n<e.pixelWidth&&a<e.pixelHeight}));Z(null!==s&&void 0!==s?s:"full")}else Z("full")},V=b?S?"loaded":"loading-full":f?I&&null!==(t=I.url)&&void 0!==t&&t.length?"tiny":"loading-tiny":"idle";return(0,h.jsx)("figure",{className:"".concat(-1!==(null===i||void 0===i?void 0:i.indexOf("absolute"))?"":"relative"," overflow-hidden ").concat(i),children:"loading-tiny"!==V?(0,h.jsx)("img",{src:"loaded"===V?S:null===I||void 0===I?void 0:I.url,alt:f&&null!==I&&void 0!==I&&I.url?o:" ",className:"".concat("loaded"!==V?"blur-[50px]":""," ").concat(l?"h-full w-full object-cover":"h-auto w-full"),title:d||"".concat(c,"@").concat(void 0!==b&&"full"!==b?"".concat(b.pixelWidth,"x").concat(b.pixelHeight):b),ref:k,width:null===I||void 0===I||null===(r=I.naturalSize)||void 0===r?void 0:r.width,height:null===I||void 0===I||null===(n=I.naturalSize)||void 0===n?void 0:n.height}):null})},Z=function(e){var t,r=e.className,a=e.dotYouId,s=e.post,c=u({dotYouId:a,channelId:s.channelId}).fetch.data;return(0,h.jsx)("div",{className:"w-full ".concat(null!==r&&void 0!==r?r:""),children:(0,h.jsxs)("a",{href:"https://".concat(a,"/home/posts/").concat(c?c.slug:"public-posts","/").concat(null!==(t=s.slug)&&void 0!==t?t:s.id),target:"__blank",rel:"nofollow noreferrer",className:"relative flex h-full flex-col rounded-lg border border-gray-200 border-opacity-60 bg-white transition-colors hover:shadow-md dark:border-gray-800 dark:bg-gray-800 hover:dark:shadow-slate-600 sm:flex-row",children:[(0,h.jsx)("div",{className:"p-4",children:(0,h.jsx)(m.d,{dotYouId:a,className:"h-[5rem] w-[5rem] rounded-full"})}),(0,h.jsxs)("div",{className:"flex max-w-lg flex-grow flex-col py-3",children:[(0,h.jsxs)("div",{className:"pr-6",children:[(0,h.jsxs)("div",{className:"mb-1 flex flex-row items-center text-gray-400 dark:text-gray-400",children:[(0,h.jsx)("h2",{className:"mr-4 text-gray-900 dark:text-white",children:a}),(0,h.jsx)("span",{className:"text-xs",children:new Date(s.dateUnixTime).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),(0,h.jsx)("h2",{className:"ml-2 border-l pl-2 text-xs font-medium uppercase tracking-wide dark:border-slate-500",children:s.type})]}),"Article"===s.type?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h1",{className:"text-slate-900 dark:text-white",children:s.caption}),(0,h.jsx)("p",{className:"leading-relaxed text-slate-600",children:s.abstract})]}):(0,h.jsx)("h1",{className:"text-slate-700 dark:text-white",children:s.caption})]}),s.primaryImageFileId&&(0,h.jsxs)("div",{className:"relative pr-6 sm:py-4",children:[(0,h.jsx)(b,{className:"sm:rounded-lg".concat(" ","Image"===s.type||"Video"===s.type?"h-full max-h-[30rem] w-auto":"h-64 w-full md:h-36 lg:h-48"," ").concat("Video"===s.type?"aspect-video":""),dotYouId:a,fileId:s.primaryImageFileId,targetDrive:(0,n.V7)(s.channelId),alt:"post"}),"Video"===s.type&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(v.Z,{className:"absolute top-[calc(50%-2.5rem)] left-[calc(50%-2.5rem)] h-20 w-20 text-white"})})]}),(0,h.jsx)("div",{className:"mt-auto flex items-center pr-6 text-sm text-gray-300",children:(0,h.jsxs)("span",{className:"inline-flex items-center",children:[(0,h.jsx)(f,{className:"mr-1 inline-block h-4 w-4"})," 6"]})})]})]})})},k=function(e){var t,r=e.className,c=e.post,l=e.linkRoot,i=e.isDraft;return(0,h.jsx)("div",{className:"w-full ".concat(null!==r&&void 0!==r?r:""),children:(0,h.jsxs)(a.rU,{to:"".concat(l).concat(null!==(t=c.slug)&&void 0!==t?t:c.id),className:"relative flex h-full flex-col rounded-lg border border-gray-200 border-opacity-60 bg-white transition-colors hover:shadow-md dark:border-gray-800 dark:bg-gray-800 hover:dark:shadow-slate-600 sm:flex-row",children:[(0,h.jsxs)("div",{className:"order-2 flex flex-col py-4 sm:-order-none",children:[(0,h.jsxs)("div",{className:"px-6",children:[(0,h.jsxs)("div",{className:"flex flex-row items-center text-gray-400 dark:text-gray-400",children:[(0,h.jsx)("span",{className:"text-xs",children:new Date(c.dateUnixTime).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),(0,h.jsx)("h2",{className:"ml-2 border-l pl-2 text-xs font-medium uppercase tracking-wide dark:border-slate-500",children:c.type}),i?(0,h.jsx)("div",{className:"ml-2 border-l pl-2 text-xs font-medium uppercase tracking-wide dark:border-slate-500",children:(0,h.jsx)("p",{className:"bg-orange-100 py-1 px-2 dark:bg-orange-900",children:(0,s.t)("Draft")})}):null]}),(0,h.jsx)("h1",{className:"text-lg font-medium text-gray-900 dark:text-white",children:c.caption}),"Article"===c.type?(0,h.jsx)("p",{className:"my-3 leading-relaxed",children:c.abstract}):null]}),(0,h.jsx)("div",{className:"mt-auto flex items-center px-5 text-sm text-gray-300",children:(0,h.jsxs)("span",{className:"inline-flex items-center",children:[(0,h.jsx)(f,{className:"mr-1 inline-block h-4 w-4"})," 6"]})})]}),c.primaryImageFileId&&(0,h.jsx)("div",{className:"relative mx-auto max-w-[15rem] flex-shrink-0 flex-grow-0 sm:ml-auto sm:mr-0 sm:w-2/5 sm:p-3",children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x.Z,{className:"aspect-square object-cover sm:rounded-lg",fileId:c.primaryImageFileId,targetDrive:(0,n.V7)(c.channelId),alt:"post"}),"Video"===c.type&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(v.Z,{className:"absolute top-[calc(50%-2.5rem)] left-[calc(50%-2.5rem)] h-20 w-20 text-white"})})]})})]})})}},3692:function(e,t,r){r.d(t,{d:function(){return p}});var n=r(4990),a=r(5713),s=r(9779),c=r(9006),l=r(2042),i=r(2851),o=r(365),d=r(7369),u=r(4498),m=r(6554),h=r(9644),f=r(3779),v=r(1434),x=r(184),p=function(e){var t,r=e.dotYouId,n=e.contactId,l=e.className,i=(0,a.Z)(r?{dotYouId:r}:{id:n}).fetch.data,d=(0,s.Z)((null===i||void 0===i?void 0:i.imageFileId)||void 0,c.F.ContactTargetDrive).fetch.data;return(0,x.jsx)(x.Fragment,{children:null!==i&&void 0!==i&&i.imageUrl||d?(0,x.jsx)("figure",{className:"relative overflow-hidden ".concat(null!==l&&void 0!==l?l:""),children:(0,x.jsx)("img",{src:null!==(t=i.imageUrl)&&void 0!==t?t:d,className:"aspect-square w-full object-cover"})}):(0,x.jsx)(o.Z,{initials:null!==i&&void 0!==i&&i.name?"".concat(i.name.givenName[0]).concat(i.name.surname[0]):"",className:"".concat(null!==l&&void 0!==l?l:"")})})};t.Z=function(e){var t,r,s,c,o,g,w,y,j,N,b=e.dotYouId,Z=e.contactId,k=(0,a.Z)(b?{dotYouId:b}:{id:Z}),I=k.fetch.data,C=k.refresh,S=C.mutate,D=C.status,M=C.error;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(l.Z,{error:M}),(0,x.jsx)(v.Z,{isOpaqueBg:!0,title:(0,n.t)("Details"),actions:b&&I.id&&(0,x.jsx)(i.Z,{className:"m-2 text-base",state:D,onClick:function(){return S({contact:I})},confirmOptions:{title:(0,n.t)("Refresh data"),buttonText:(0,n.t)("Refresh"),body:(0,n.t)("Are you sure you want to refresh data, overwritten data cannot be recovered.")},children:(0,n.t)("Refresh")}),children:(0,x.jsxs)("div",{className:"-mx-4 sm:flex sm:flex-row",children:[(0,x.jsx)("div",{className:"flex flex-row px-4 sm:mx-0",children:(0,x.jsx)(p,{dotYouId:b,contactId:Z,className:"mx-auto h-[12rem] w-[12rem]"})}),(0,x.jsxs)("div",{className:"px-4",children:[(null===I||void 0===I?void 0:I.name)&&(0,x.jsxs)("div",{className:"my-3 flex flex-row",children:[(0,x.jsx)(m.Z,{className:"mr-2",children:(0,x.jsx)(h.Z,{className:"h-4 w-4"})}),null!==(t=I.name.givenName)&&void 0!==t?t:""," ",null!==(r=I.name.surname)&&void 0!==r?r:""]}),(0,x.jsxs)("div",{className:"my-3 flex flex-row",children:[(0,x.jsx)(m.Z,{className:"mr-2",children:(0,x.jsx)(f.Z,{className:"h-4 w-4"})})," ",null!==(s=null===(c=I.phone)||void 0===c?void 0:c.number)&&void 0!==s?s:""]}),(0,x.jsxs)("div",{className:"my-3 flex flex-row",children:[(0,x.jsx)(m.Z,{className:"mr-2",children:(0,x.jsx)(u.Z,{className:"h-4 w-4"})})," ",null!==(o=null===(g=I.location)||void 0===g?void 0:g.city)&&void 0!==o?o:""," ",null!==(w=null===(y=I.location)||void 0===y?void 0:y.country)&&void 0!==w?w:""]}),(0,x.jsxs)("div",{className:"my-3 flex flex-row",children:[(0,x.jsx)(m.Z,{className:"mr-2",children:(0,x.jsx)(d.Z,{className:"h-4 w-4"})})," ",null!==(j=null===(N=I.birthday)||void 0===N?void 0:N.date)&&void 0!==j?j:""]})]})]})})]})}},6009:function(e,t,r){var n=r(9439),a=r(2791),s=r(6430),c=r(9779),l=r(184);t.Z=function(e){var t=e.targetDrive,r=e.fileId,i=e.className,o=e.alt,d=e.title,u=(0,a.useState)(!1),m=(0,n.Z)(u,2),h=m[0],f=m[1],v=(0,a.useRef)(null),x=(0,c.Z)(h?r:void 0,t).fetch.data;return(0,s.s)(v,(function(){f(!0)})),(0,l.jsx)("img",{src:x,alt:h&&x?o:" ",className:"".concat(i," ").concat((!h||!x)&&"h-full w-full animate-pulse bg-slate-100"),title:d,ref:v})}},365:function(e,t,r){var n=r(184);t.Z=function(e){var t=e.initials,r=e.className;return(0,n.jsx)("div",{className:"flex h-full w-full bg-slate-200 text-4xl font-light text-white dark:bg-slate-700 dark:text-black sm:text-6xl ".concat(null!==r&&void 0!==r?r:""),children:(0,n.jsx)("span",{className:"m-auto uppercase",children:t})})}},7369:function(e,t,r){var n=r(184);t.Z=function(e){var t=e.className;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"currentColor",className:t,children:(0,n.jsx)("path",{d:"M86.4 5.5L61.8 47.6C58 54.1 56 61.6 56 69.2V72c0 22.1 17.9 40 40 40s40-17.9 40-40V69.2c0-7.6-2-15-5.8-21.6L105.6 5.5C103.6 2.1 100 0 96 0s-7.6 2.1-9.6 5.5zm128 0L189.8 47.6c-3.8 6.5-5.8 14-5.8 21.6V72c0 22.1 17.9 40 40 40s40-17.9 40-40V69.2c0-7.6-2-15-5.8-21.6L233.6 5.5C231.6 2.1 228 0 224 0s-7.6 2.1-9.6 5.5zM317.8 47.6c-3.8 6.5-5.8 14-5.8 21.6V72c0 22.1 17.9 40 40 40s40-17.9 40-40V69.2c0-7.6-2-15-5.8-21.6L361.6 5.5C359.6 2.1 356 0 352 0s-7.6 2.1-9.6 5.5L317.8 47.6zM128 176c0-17.7-14.3-32-32-32s-32 14.3-32 32v48c-35.3 0-64 28.7-64 64v71c8.3 5.2 18.1 9 28.8 9c13.5 0 27.2-6.1 38.4-13.4c5.4-3.5 9.9-7.1 13-9.7c1.5-1.3 2.7-2.4 3.5-3.1c.4-.4 .7-.6 .8-.8l.1-.1 0 0 0 0s0 0 0 0s0 0 0 0c3.1-3.2 7.4-4.9 11.9-4.8s8.6 2.1 11.6 5.4l0 0 0 0 .1 .1c.1 .1 .4 .4 .7 .7c.7 .7 1.7 1.7 3.1 3c2.8 2.6 6.8 6.1 11.8 9.5c10.2 7.1 23 13.1 36.3 13.1s26.1-6 36.3-13.1c5-3.5 9-6.9 11.8-9.5c1.4-1.3 2.4-2.3 3.1-3c.3-.3 .6-.6 .7-.7l.1-.1c3-3.5 7.4-5.4 12-5.4s9 2 12 5.4l.1 .1c.1 .1 .4 .4 .7 .7c.7 .7 1.7 1.7 3.1 3c2.8 2.6 6.8 6.1 11.8 9.5c10.2 7.1 23 13.1 36.3 13.1s26.1-6 36.3-13.1c5-3.5 9-6.9 11.8-9.5c1.4-1.3 2.4-2.3 3.1-3c.3-.3 .6-.6 .7-.7l.1-.1c2.9-3.4 7.1-5.3 11.6-5.4s8.7 1.6 11.9 4.8l0 0 0 0 0 0 .1 .1c.2 .2 .4 .4 .8 .8c.8 .7 1.9 1.8 3.5 3.1c3.1 2.6 7.5 6.2 13 9.7c11.2 7.3 24.9 13.4 38.4 13.4c10.7 0 20.5-3.9 28.8-9V288c0-35.3-28.7-64-64-64V176c0-17.7-14.3-32-32-32s-32 14.3-32 32v48H256V176c0-17.7-14.3-32-32-32s-32 14.3-32 32v48H128V176zM448 394.6c-8.5 3.3-18.2 5.4-28.8 5.4c-22.5 0-42.4-9.9-55.8-18.6c-4.1-2.7-7.8-5.4-10.9-7.8c-2.8 2.4-6.1 5-9.8 7.5C329.8 390 310.6 400 288 400s-41.8-10-54.6-18.9c-3.5-2.4-6.7-4.9-9.4-7.2c-2.7 2.3-5.9 4.7-9.4 7.2C201.8 390 182.6 400 160 400s-41.8-10-54.6-18.9c-3.7-2.6-7-5.2-9.8-7.5c-3.1 2.4-6.8 5.1-10.9 7.8C71.2 390.1 51.3 400 28.8 400c-10.6 0-20.3-2.2-28.8-5.4V480c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32V394.6z"})})}},6554:function(e,t,r){var n=r(184);t.Z=function(e){var t=e.children,r=e.className;return(0,n.jsx)("div",{className:"mr-2 flex justify-center bg-slate-200 p-2 align-middle dark:bg-slate-800 ".concat(null!==r&&void 0!==r?r:""),children:t})}},3779:function(e,t,r){var n=r(184);t.Z=function(e){var t=e.className;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",className:t,children:(0,n.jsx)("path",{d:"M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z"})})}},6430:function(e,t,r){r.d(t,{s:function(){return o}});var n,a=r(2791),s=new WeakMap,c=new WeakMap,l=function(e){e.forEach((function(e){if(s.has(e.target)){var t=s.get(e.target),r=c.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(r&&(n.unobserve(e.target),s.delete(e.target)),t())}}))},i=function(){return void 0===n&&(n=new IntersectionObserver(l,{rootMargin:"100px",threshold:.15})),n},o=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,a.useEffect)((function(){var n=null===e||void 0===e?void 0:e.current,a=i();if(n)return s.set(n,t),c.set(n,!r),a.observe(n),function(){s.delete(n),a.unobserve(n)}}),[e])}},1715:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(4165),a=r(5861),s=r(5671),c=r(3144),l=r(9340),i=r(1129),o=r(5274),d=r(7186),u=r(2008),m=r(2826),h=function(e){(0,l.Z)(r,e);var t=(0,i.Z)(r);function r(e){var n;return(0,s.Z)(this,r),(n=t.call(this,e)).transitProvider=void 0,n.circleNetworkProvider=void 0,n.transitProvider=m.Z.getInstance(e),n.circleNetworkProvider=d.I.getInstance(e),n}return(0,c.Z)(r,[{key:"getRecentsFromAllConnections",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r,s,c,l,i=this,o=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:10,r=o.length>1?o[1]:void 0,e.next=4,this.circleNetworkProvider.getConnections({pageNumber:1,pageSize:100});case 4:return s=e.sent,c={},e.next=8,Promise.all(s.results.map(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getRecents(a.dotYouId,t,null===r||void 0===r?void 0:r[a.dotYouId]);case 2:return s=e.sent,c[a.dotYouId]=s.cursorState,e.abrupt("return",s.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return l=e.sent,e.abrupt("return",{results:l.flat(1),cursorState:c});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRecents",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,s,c,l,i,d,u,m=this,h=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:10,s=h.length>2?h[2]:void 0,c=o.Hm.PublicChannelDrive,l={targetDrive:c,fileType:[o.Hm.PostFileType]},i={cursorState:s,maxRecords:r,includeMetadataHeader:!0},e.next=7,this.transitProvider.QueryBatch(t,l,i);case 7:return d=e.sent,e.next=10,Promise.all(d.searchResults.map(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r.fileId,e.t1=null===(a=r.serverMetadata)||void 0===a?void 0:a.accessControlList,e.next=4,m.transitProvider.GetPayload(t,c,r.fileId,r.fileMetadata,r.sharedSecretEncryptedKeyHeader,d.includeMetadataHeader);case 4:return e.t2=e.sent,e.t3=t,e.abrupt("return",{fileId:e.t0,acl:e.t1,content:e.t2,dotYouId:e.t3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:return u=e.sent.filter((function(e){return!!e})),e.abrupt("return",{cursorState:d.cursorState,results:u});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannel",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s,c,l,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,o.V7)(r),s={targetDrive:a,fileType:[o.Hm.ChannelDefinitionFileType]},c={cursorState:void 0,maxRecords:1,includeMetadataHeader:!0},e.next=5,this.transitProvider.QueryBatch(t,s,c);case 5:if(l=e.sent,e.prev=6,1!=l.searchResults.length){e.next=12;break}return i=l.searchResults[0],e.next=11,this.transitProvider.GetPayload(t,a,i.fileId,i.fileMetadata,i.sharedSecretEncryptedKeyHeader,l.includeMetadataHeader);case 11:return e.abrupt("return",e.sent);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(t,r){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(e){return r.instance||(r.instance=new r(e)),r.instance}}]),r}(u.$);h.instance=void 0}}]);
//# sourceMappingURL=395.d6188503.chunk.js.map