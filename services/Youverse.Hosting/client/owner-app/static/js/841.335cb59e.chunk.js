"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[841],{3756:function(e,r,t){var n=t(9439),a=t(2791),s=t(4990),i=t(9747),c=t(184);r.Z=function(e){var r=e.className,t=e.state,l=e.error,o=(0,a.useState)(null),u=(0,n.Z)(o,2),d=u[0],m=u[1],f=(0,a.useState)(new Date),x=(0,n.Z)(f,2),v=x[0],h=x[1];if((0,a.useEffect)((function(){"success"===t&&m(new Date)}),[t]),(0,a.useEffect)((function(){var e=setTimeout((function(){h(new Date)}),3e4);return function(){clearTimeout(e)}}),[v]),"loading"===t)return(0,c.jsx)("p",{className:"".concat(r," text-sm"),children:"Saving..."});if("error"===t)return(0,c.jsx)(i.Z,{type:"critical",className:r,children:l instanceof Error?l.message:(0,s.t)("Something went wrong")});if(!d)return null;var p=v.getTime()-d.getTime(),g=d?p<=6e4?"a few seconds ago":p<=6e5?"a few minutes ago":d.toLocaleString():"";return g?(0,c.jsxs)("p",{className:"".concat(r," text-sm"),children:["Last saved ",g]}):null}},8602:function(e,r,t){var n=t(184);r.Z=function(e){var r=e.className;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",className:r,children:(0,n.jsx)("path",{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"})})}},9080:function(e,r,t){var n=t(6907),a=t(3504),s=t(3756),i=t(184);r.Z=function(e){var r=e.title,t=e.actions,c=e.saveStatus,l=e.breadCrumbs,o=e.icon;return(0,i.jsx)("section",{className:"-mx-5 -mt-4 mb-10 border-b-2 border-gray-100 bg-slate-50 py-4 pr-5 pl-10 dark:border-gray-700 dark:bg-slate-800 sm:-mx-10 sm:-mt-8 sm:py-8 sm:px-10",children:(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,i.jsxs)("div",{className:"flex-col",children:[l&&(0,i.jsx)("ul",{className:"mb-2 hidden flex-row sm:flex",children:l.map((function(e,r){return(0,i.jsx)("li",{className:"mr-2",children:e.href?(0,i.jsxs)(a.rU,{to:e.href,className:"",children:[e.title,(0,i.jsx)("span",{className:"ml-2",children:">"})]}):(0,i.jsx)("span",{className:"text-slate-500",children:e.title})},r)}))}),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("h1",{className:"mb-5 flex flex-row text-4xl dark:text-white",children:[o&&o({className:"h-8 w-8 my-auto mr-4"})," ",r]}),(0,i.jsx)(n.ql,{children:(0,i.jsxs)("title",{children:["object"!==typeof r&&"".concat(r)||window.location.pathname.split("/").pop()," ","| Owner console"]})})]})]}),(0,i.jsxs)("div",{className:"ml-auto",children:[(0,i.jsx)("div",{className:"-m-2 flex flex-col flex-wrap justify-end sm:flex-row sm:items-center",children:t}),c&&(0,i.jsx)(s.Z,{className:"mt-1",state:c})]})]})})}},1434:function(e,r,t){var n=t(2791),a=t(184),s=n.forwardRef((function(e,r){var t=e.title,n=e.actions,s=e.className,i=e.children,c=e.isOpaqueBg,l=void 0!==c&&c,o=e.isBorderLess,u=void 0!==o&&o;return(0,a.jsxs)("section",{ref:r,className:"my-5 rounded-md ".concat(l?u?"":"rounded-lg border-[1px] border-gray-200 border-opacity-80 px-5 dark:border-gray-700":"bg-slate-50 px-5 dark:bg-slate-800"," dark:text-slate-300 ").concat(null!==s&&void 0!==s?s:""),children:[t||n?(0,a.jsxs)("div",{className:"relative flex flex-row items-center border-b-[1px] border-gray-200 border-opacity-80 py-5 transition-all duration-300 dark:border-gray-700",children:[(0,a.jsx)("h3",{className:"text-2xl dark:text-white",children:t}),(0,a.jsx)("div",{className:"ml-auto",children:(0,a.jsx)("div",{className:"-m-2 flex flex-col flex-wrap justify-end sm:flex-row sm:items-center",children:n})})]}):null,(0,a.jsx)("div",{className:"py-5 ",children:i})]})}));r.Z=s},9779:function(e,r,t){var n=t(4165),a=t(5861),s=t(7408),i=t(9631),c=t(8609),l={alias:i.Ib.BlogMainContentDriveId.toString(),type:i.Hm.DriveType.toString()};r.Z=function(e,r){var t=(0,c.ZP)().getSharedSecret,o=(0,s.useQueryClient)(),u=new i.KU({api:i.Ii.Owner,sharedSecret:t()}),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u.mediaProvider.getDecryptedImageUrl(null!==t&&void 0!==t?t:l,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,s,c,o,d,m,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.bytes,a=r.type,s=r.targetDrive,c=void 0===s?l:s,o=r.acl,d=void 0===o?{requiredSecurityGroup:i.hh.Anonymous}:o,m=r.fileId,f=void 0===m?void 0:m,e.next=3,u.mediaProvider.uploadImage(c,void 0,d,t,f,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.targetDrive,a=void 0===t?l:t,s=r.fileId,e.next=3,u.mediaProvider.removeImage(s,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["image",e,r],(function(){return d(e,r)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0,enabled:!!e}),save:(0,s.useMutation)(m,{onSuccess:function(e,r){var t;r.fileId?o.invalidateQueries(["image",r.fileId,null!==(t=r.targetDrive)&&void 0!==t?t:l]):o.removeQueries(["image"])}}),remove:(0,s.useMutation)(f)}}},3292:function(e,r,t){t.r(r),t.d(r,{default:function(){return p}});var n=t(4165),a=t(5861),s=t(7408),i=t(1715),c=t(8609),l=function(e){var r=e.pageSize,t=void 0===r?10:r,l=(0,c.ZP)().getSharedSecret,o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var a,s,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.pageParam,s=i.Z.getInstance(l()),e.next=4,s.getRecentsFromAllConnections(t,a);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return{fetchAll:(0,s.useInfiniteQuery)(["social-feeds"],(function(e){var r=e.pageParam;return o({pageParam:r})}),{getNextPageParam:function(e){var r,t;return null!==(r=(null===e||void 0===e||null===(t=e.results)||void 0===t?void 0:t.length)>=1&&(null===e||void 0===e?void 0:e.cursorState))&&void 0!==r?r:void 0},refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})}},o=t(395),u=t(184),d=function(e){var r=e.className;return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",className:r,children:(0,u.jsx)("path",{d:"M480 32c0-12.9-7.8-24.6-19.8-29.6s-25.7-2.2-34.9 6.9L381.7 53c-48 48-113.1 75-181 75H192 160 64c-35.3 0-64 28.7-64 64v96c0 35.3 28.7 64 64 64l0 128c0 17.7 14.3 32 32 32h64c17.7 0 32-14.3 32-32V352l8.7 0c67.9 0 133 27 181 75l43.6 43.6c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V300.4c18.6-8.8 32-32.5 32-60.4s-13.4-51.6-32-60.4V32zm-64 76.7V240 371.3C357.2 317.8 280.5 288 200.7 288H192V192h8.7c79.8 0 156.5-29.8 215.3-83.3z"})})},m=t(9080),f=t(4411),x=t(2791),v=t(6430),h=t(7385),p=function(){var e=l({pageSize:10}).fetchAll,r=e.data,t=e.hasNextPage,n=e.isLoading,a=e.fetchNextPage,s=(0,x.useRef)(null);(0,v.s)(t?s:void 0,(function(){a()}),!0);var i=(0,h.bJ)(r,10,(function(e,r){var t,n;return(null===(t=r.content)||void 0===t?void 0:t.dateUnixTime)-(null===(n=e.content)||void 0===n?void 0:n.dateUnixTime)}));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("section",{children:(0,u.jsx)(m.Z,{icon:d,title:"Feed"})}),n?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(f.Z,{className:"m-4 h-10"}),(0,u.jsx)(f.Z,{className:"m-4 h-10"}),(0,u.jsx)(f.Z,{className:"m-4 h-10"})]}):(0,u.jsx)(u.Fragment,{children:null!==i&&void 0!==i&&i.length?(0,u.jsxs)("ul",{children:[i.map((function(e){return(0,u.jsx)(o.u,{post:e.content,dotYouId:e.dotYouId,className:"my-2"},e.content.id)})),(0,u.jsx)("div",{ref:s,className:"h-1 w-full"})]}):null})]})}}}]);
//# sourceMappingURL=841.335cb59e.chunk.js.map