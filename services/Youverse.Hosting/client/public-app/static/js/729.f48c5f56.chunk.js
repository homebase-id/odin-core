"use strict";(self.webpackChunkpublic_app=self.webpackChunkpublic_app||[]).push([[729],{1364:function(e,n,t){var r=t(9631),a=t(3504),o=t(1824),s=t(706),l=t(4990),i=t(8602),c=t(2170),d=t(7764),u=t(184);n.Z=function(e){var n,t=e.className,h=e.blog,m=e.isSingleCol,p=e.hideImageWhenNone,f=e.showChannel,x=(0,d.Z)({channelId:h.channelId}).data;return(0,u.jsx)("div",{className:"w-full ".concat(null!==t&&void 0!==t?t:""),children:(0,u.jsx)(a.rU,{to:"/home/posts/".concat(null===x||void 0===x?void 0:x.slug,"/").concat(null!==(n=h.slug)&&void 0!==n?n:"#"),className:"contents",children:(0,u.jsxs)("div",{className:"relative h-full overflow-hidden rounded-lg border border-gray-200 border-opacity-60 transition-colors hover:shadow-md dark:border-gray-800 hover:dark:shadow-slate-600 ",children:[(!p||h.primaryImageFileId)&&(0,u.jsx)("div",{className:"relative ".concat(m?"sm:p-6 sm:pb-2":""),children:h.primaryImageFileId?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.Z,{className:"".concat(m&&"sm:rounded-lg"," ").concat("Image"===h.type||"Video"===h.type?"h-full max-h-[30rem] w-auto":"h-64 w-full md:h-36 lg:h-48"," ").concat("Image"===h.type&&""," ").concat("Video"===h.type&&"aspect-video"),fileId:h.primaryImageFileId,targetDrive:(0,r.V7)(h.channelId),alt:"blog",cover:!0}),"Video"===h.type&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(i.Z,{className:"absolute top-[calc(50%-2.5rem)] left-[calc(50%-2.5rem)] h-20 w-20 text-white"})})]}):p?null:(0,u.jsx)("div",{className:"max-w-full overflow-hidden text-ellipsis whitespace-nowrap bg-slate-50 text-slate-200 dark:bg-slate-700 dark:text-slate-600 ".concat(m&&"sm:rounded-lg"," ").concat("Image"===h.type||"Video"===h.type?"h-full max-h-[30rem] w-auto":"h-64 w-full md:h-36 lg:h-48"," ").concat("Video"===h.type&&"aspect-video"),children:(0,u.jsx)("p",{className:"p-2 text-9xl ",children:h.caption})})}),(0,u.jsxs)("div",{className:"px-6 py-4",children:[(0,u.jsxs)("div",{className:"flex flex-row text-foreground text-opacity-40",children:[(0,u.jsx)("span",{className:"my-auto text-xs",children:new Date(h.dateUnixTime).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),(0,u.jsxs)("h2",{className:"my-auto ml-2 border-l pl-2 text-xs font-medium uppercase tracking-wide dark:border-slate-500",children:[h.type,f&&null!==x&&void 0!==x&&x.name?" - ".concat(null===x||void 0===x?void 0:x.name):""]})]}),(0,u.jsx)("h1",{className:"text-lg font-medium text-foreground text-opacity-90",children:h.caption}),"Article"===h.type?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{className:"my-3 leading-relaxed",children:h.abstract}),(0,u.jsx)("div",{className:"flex flex-wrap items-center ",children:(0,u.jsxs)("span",{className:"inline-flex items-center text-button md:mb-2 lg:mb-0",children:[(0,l.t)("Read more"),(0,u.jsx)(s.Z,{className:"ml-2 h-4 w-4"})]})})]}):null]}),(0,u.jsx)("div",{className:"absolute bottom-0 right-0 flex items-center p-5 text-sm text-gray-300",children:(0,u.jsxs)("span",{className:"inline-flex items-center",children:[(0,u.jsx)(c.Z,{className:"mr-1 inline-block h-4 w-4"})," 6"]})})]})})})}},2744:function(e,n,t){var r=t(1364),a=t(184);n.Z=function(e){var n=e.blogPosts,t=e.showChannel;return(0,a.jsx)("div",{className:"-my-4 max-w-4xl",children:null===n||void 0===n?void 0:n.map((function(e){return(0,a.jsx)(r.Z,{blog:e,className:"my-4",isSingleCol:!0,hideImageWhenNone:!0,showChannel:t},e.id)}))})}},706:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.className;return(0,r.jsxs)("svg",{className:n,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M5 12h14"}),(0,r.jsx)("path",{d:"M12 5l7 7-7 7"})]})}},2170:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.className;return(0,r.jsx)("svg",{className:n,stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"})})}},8602:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.className;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",className:n,children:(0,r.jsx)("path",{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"})})}},4999:function(e,n,t){var r=t(4165),a=t(5861),o=t(7408),s=t(9631),l=t(7686);n.Z=function(e){var n=e.channelId,t=e.pageSize,i=void 0===t?30:t,c=e.enabled,d=void 0===c||c,u=(0,l.Z)(),h=u.getSharedSecret,m=u.getApiType,p=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t,a,o,l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.channelId,a=n.pageParam,o=new s.pt({api:m(),sharedSecret:h()}),!t){e.next=9;break}return e.next=5,o.blogPostReadonlyProvider.getPosts(t,void 0,"string"===typeof a?a:void 0,i);case 5:return l=e.sent,e.abrupt("return",{results:l.results.map((function(e){return e.content})),cursorState:l.cursorState});case 9:return e.next=11,o.blogPostReadonlyProvider.getRecentPosts(void 0,i,"object"===typeof a?a:void 0);case 11:return c=e.sent,e.abrupt("return",{results:c.results.map((function(e){return e.content})),cursorState:c.cursorState});case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,o.useInfiniteQuery)(["blogs",n],(function(e){var t=e.pageParam;return p({channelId:n,pageParam:t})}),{getNextPageParam:function(e){var n,t;return null!==(n=(null===e||void 0===e||null===(t=e.results)||void 0===t?void 0:t.length)>=i&&(null===e||void 0===e?void 0:e.cursorState))&&void 0!==n?n:void 0},refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0,enabled:d})}},7764:function(e,n,t){var r=t(4165),a=t(8683),o=t(5861),s=t(7408),l=t(9631),i=t(7686),c=t(805);n.Z=function(e){var n=e.channelSlug,t=e.channelId,d=(0,i.Z)(),u=d.getSharedSecret,h=d.getApiType,m=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,o,s,i,d,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.channelSlug,o=n.channelId,t||o){e.next=3;break}return e.abrupt("return");case 3:return s=new l.pt({api:h(),sharedSecret:u()}),i=void 0,e.next=7,s.fileReadOnlyProvider.GetFile("blogs.json");case 7:if((d=e.sent)&&d.forEach((function(e){var n=e.find((function(e){return e.header.fileMetadata.appData.fileType===l.Hm.ChannelDefinitionFileType&&(t?e.payload.slug===t:e.payload.channelId===o)}));n&&(i=n.payload)})),i){e.next=25;break}if(!t){e.next=16;break}return e.next=13,s.blogPostReadonlyProvider.getChannelDefinitionBySlug(t);case 13:e.t0=e.sent,e.next=24;break;case 16:if(!o){e.next=22;break}return e.next=19,s.blogPostReadonlyProvider.getChannelDefinition(o);case 19:e.t1=e.sent,e.next=23;break;case 22:e.t1=void 0;case 23:e.t0=e.t1;case 24:i=e.t0;case 25:if(!i){e.next=27;break}return e.abrupt("return",(0,a.Z)((0,a.Z)({},i),{},{template:(0,c.B)(null===(m=i)||void 0===m?void 0:m.templateId)}));case 27:return e.abrupt("return");case 28:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,s.useQuery)(["channel",n||t],(function(){return m({channelSlug:n,channelId:t})}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})}},805:function(e,n,t){t.d(n,{B:function(){return d}});var r=t(4165),a=t(8683),o=t(2982),s=t(5861),l=t(7408),i=t(9631),c=t(7686),d=function(e){return parseInt(e+"")===i.rJ.LargeCards?i.rJ.LargeCards:parseInt(e+"")===i.rJ.MasonryLayout?i.rJ.MasonryLayout:i.rJ.ClassicBlog};n.Z=function(){var e=(0,c.Z)(),n=e.getSharedSecret,t=e.getApiType,u=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var s,l,c,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=new i.pt({api:t(),sharedSecret:n()}),c=[],e.next=4,l.fileReadOnlyProvider.GetFile("blogs.json");case 4:if((u=e.sent)&&u.forEach((function(e){var n=e.filter((function(e){return e.header.fileMetadata.appData.fileType===i.Hm.ChannelDefinitionFileType}));c=[].concat((0,o.Z)(c),(0,o.Z)(n.map((function(e){return(0,a.Z)({},e.payload)}))))})),null!==(s=c)&&void 0!==s&&s.length){e.next=10;break}return e.next=9,l.blogPostReadonlyProvider.getChannels();case 9:c=e.sent;case 10:return e.abrupt("return",c.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{template:d(null===e||void 0===e?void 0:e.templateId)})})));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useQuery)(["channels"],(function(){return u()}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})}},9729:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(6907),a=t(3504),o=t(6871),s=t(184),l=function(e){var n=e.className,t=e.items,r=(0,o.s0)(),l=(null===t||void 0===t?void 0:t.length)>=6;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"hidden flex-col flex-wrap ".concat(l?"":"sm:flex"," sm:flex-row ").concat(null!==n&&void 0!==n?n:""),children:t.map((function(e){return(0,s.jsx)(a.OL,{className:function(n){var t,r=n.isActive;return"flex-grow cursor-pointer border-b-2 py-2 px-1 text-lg ".concat(r?"border-indigo-500 text-button dark:text-indigo-400":"border-gray-300 transition-colors duration-300 hover:border-indigo-400 dark:border-gray-800 hover:dark:border-indigo-600"," ").concat(null!==(t=e.className)&&void 0!==t?t:"")},to:e.path,end:!0,children:e.title},e.key)}))}),(0,s.jsx)("select",{className:"".concat(l?"":"sm:hidden"," mb-8 w-full rounded border border-gray-300 bg-white py-4 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100"),onChange:function(e){return r(e.target.value)},defaultValue:window.location.pathname,children:t.map((function(e){return(0,s.jsx)("option",{value:e.path,children:e.text||e.title},e.key)}))})]})},i=t(9631),c=t(2791),d=t(805),u=t(4990),h=t(4999),m=t(1364),p=function(e){var n=e.blogPosts;return(0,s.jsx)("div",{className:"-m-4 flex flex-wrap",children:null===n||void 0===n?void 0:n.map((function(e){return(0,s.jsx)(m.Z,{blog:e,className:"p-4 md:w-1/2 lg:w-1/3"},e.id)}))})},f=t(2744),x=t(885),v=function(e){var n=e.blogPosts,t=(0,c.useState)(1),r=(0,x.Z)(t,2),a=r[0],o=r[1],l=(0,c.useCallback)((function(){var e=document.documentElement.clientWidth;o(e>=1280?4:e>=1024?3:e>=640?2:1)}),[]);return(0,c.useEffect)((function(){return window.addEventListener("resize",l),l(),function(){window.removeEventListener("resize",l)}}),[l]),(0,s.jsx)("div",{className:"-my-4 gap-4 sm:columns-2 lg:columns-3 xl:columns-4",children:function(e,n){for(var t=n,r=[],a=0;a<t;){for(var o=0;o<e.length;o+=t){var s=e[o+a];void 0!==s&&r.push(s)}a++}return r}(n,a).map((function(e){return(0,s.jsx)(m.Z,{className:"py-2",blog:e,hideImageWhenNone:!0},e.id)}))})},g=t(6430),y=t(7764),b=t(3990),w=function(){var e=(0,o.UO)().channelKey,n=(0,d.Z)().data,t=(0,y.Z)(e?{channelSlug:e}:{channelId:i.Hm.PublicChannel.channelId}).data,a=(0,h.Z)({channelId:null===t||void 0===t?void 0:t.channelId,pageSize:10}),m=a.data,x=a.hasNextPage,w=a.fetchNextPage,j=(0,c.useRef)(null);(0,g.s)(x?j:void 0,(function(){w()}),!0);var N=t?t.template===i.rJ.LargeCards?p:t.template===i.rJ.MasonryLayout?v:f.Z:f.Z,k=(0,b.bJ)(m,10,(function(e,n){return n.dateUnixTime-e.dateUnixTime}));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.ql,{children:(0,s.jsxs)("title",{children:[(0,u.t)("Blog")," | Youniverse"]})}),(0,s.jsx)("section",{className:"py-5",children:(0,s.jsx)("div",{className:"container mx-auto px-5",children:(0,s.jsxs)("section",{className:"body-font text-gray-600 dark:text-gray-400",children:[n&&n.length>1?(0,s.jsx)(l,{className:"mb-8",items:n.map((function(e){return{key:e.channelId,title:e.name,path:"/home/posts/".concat(e.slug)}}))}):null,null!==k&&void 0!==k&&k.length?(0,s.jsx)(N,{blogPosts:k}):(0,s.jsx)(s.Fragment,{children:(0,u.t)("No posts found")}),(0,s.jsx)("div",{ref:j,className:"h-1 w-full"})]})})})]})}}}]);
//# sourceMappingURL=729.f48c5f56.chunk.js.map