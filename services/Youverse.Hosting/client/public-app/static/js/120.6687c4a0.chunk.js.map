{"version":3,"file":"static/js/120.6687c4a0.chunk.js","mappings":"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","sources":["hooks/blog/useBlog.ts","components/Form/CheckboxToggle.tsx","components/RichTextEditor/RichTextEditorComponents.tsx","components/ui/Icons/RichTextEditorIcons/Bold/Bold.tsx","components/ui/Icons/RichTextEditorIcons/Italic/Italic.tsx","components/ui/Icons/RichTextEditorIcons/Underline/Underline.tsx","components/ui/Icons/RichTextEditorIcons/Quote/Quote.tsx","components/ui/Icons/RichTextEditorIcons/Code/Code.tsx","components/ui/Icons/RichTextEditorIcons/Heading/Heading.tsx","components/ui/Icons/RichTextEditorIcons/OrderedList/OrderedList.tsx","components/ui/Icons/RichTextEditorIcons/UnorderedList/UnorderedList.tsx","hooks/media/useImage.ts","components/RichTextEditor/ImageDialog/ImageDialog.tsx","components/ui/Icons/RichTextEditorIcons/Image/Image.tsx","components/RichTextEditor/InsertImageButton.tsx","components/ui/Icons/ExternalLink/ExternalLink.tsx","components/Form/Label.tsx","components/Form/Input.tsx","components/RichTextEditor/LinkButtonDialog/LinkButtonDialog.tsx","components/RichTextEditor/InsertLinkButton.tsx","components/RichTextEditor/RichTextEditor.tsx","hooks/socialFeed/drafts/useDrafts.ts","components/SocialFeed/DraftsDialog/DraftsDialog.tsx","components/Form/ImageSelector.tsx","components/SocialFeed/Composer/Composer.tsx","templates/SocialFeed/PostComposerPage.tsx"],"sourcesContent":["import { useQuery } from '@tanstack/react-query';\nimport { PublicClient } from '@youfoundation/dotyoucore-js';\nimport useAuth from '../auth/useAuth';\n\ntype useBlogProps = {\n  channelSlug?: string;\n  blogSlug?: string;\n};\n\nconst useBlog = ({ channelSlug, blogSlug }: useBlogProps = {}) => {\n  const { getSharedSecret, getApiType } = useAuth();\n  const client = new PublicClient({ api: getApiType(), sharedSecret: getSharedSecret() });\n\n  const fetchBlog = async ({ channelSlug, blogSlug }: useBlogProps) => {\n    if (!channelSlug || !blogSlug) {\n      return;\n    }\n\n    const data = await client.blogPostReadonlyProvider.getPostBySlug(channelSlug, blogSlug);\n    if (!data) {\n      // No match on a slug, perhaps better luck with the post id:\n      const channel = await client.blogPostReadonlyProvider.getChannelDefinitionBySlug(channelSlug);\n      if (!channel) return;\n      const postFile = await client.blogPostReadonlyProvider.getPost(channel.channelId, blogSlug);\n      if (postFile) return { activeBlog: postFile, activeChannel: channel };\n      return;\n    }\n\n    return { activeBlog: data.postFile, activeChannel: data.channel };\n  };\n\n  return useQuery(['blog', blogSlug], () => fetchBlog({ channelSlug, blogSlug }), {\n    refetchOnMount: false,\n    refetchOnWindowFocus: false,\n    staleTime: Infinity,\n    enabled: !!channelSlug && !!blogSlug,\n  });\n};\n\nexport default useBlog;\n","const CheckboxToggle = (\n  props: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\n) => {\n  const { className, ...inputProps } = props;\n\n  return (\n    <label className={`relative inline-flex cursor-pointer items-center ${className ?? ''}`}>\n      <input type=\"checkbox\" className=\"peer sr-only\" {...inputProps} />\n      <div\n        className={`peer h-6 w-11 rounded-full bg-gray-200 after:absolute after:top-[2px] after:left-[2px] after:h-5 after:w-5 after:rounded-full after:border after:border-gray-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-indigo-600 peer-checked:after:translate-x-full peer-checked:after:border-white peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:border-gray-600 dark:bg-gray-700 dark:peer-focus:ring-indigo-800`}\n      ></div>\n    </label>\n  );\n};\n\nexport default CheckboxToggle;\n","import { PropsWithChildren } from 'react';\n\ninterface BaseProps {\n  className?: string;\n  [key: string]: unknown;\n}\n\nexport const Button = ({\n  className,\n  active,\n  reversed,\n  ...props\n}: PropsWithChildren<\n  {\n    active?: boolean;\n    reversed?: boolean;\n  } & BaseProps\n>) => (\n  <button\n    {...props}\n    className={`${className ?? ''} cursor-pointer px-1 py-2 ${\n      reversed\n        ? active\n          ? 'text-white'\n          : 'text-slate-400'\n        : active\n        ? 'text-black dark:text-white'\n        : 'text-slate-200 dark:text-slate-700'\n    }`}\n  />\n);\n\nexport const Toolbar = ({ className, ...props }: PropsWithChildren<BaseProps>) => (\n  <div\n    {...props}\n    className={`${\n      className ?? ''\n    } relative -mx-1 mb-3 flex flex-row flex-wrap border-b border-slate-200 border-opacity-50`}\n  />\n);\n","import { FC } from 'react';\n\nconst Bold: FC<IconProps> = ({ className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 384 512\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M321.1 242.4C340.1 220.1 352 191.6 352 160c0-70.59-57.42-128-128-128L32 32.01c-17.67 0-32 14.31-32 32s14.33 32 32 32h16v320H32c-17.67 0-32 14.31-32 32s14.33 32 32 32h224c70.58 0 128-57.41 128-128C384 305.3 358.6 264.8 321.1 242.4zM112 96.01H224c35.3 0 64 28.72 64 64s-28.7 64-64 64H112V96.01zM256 416H112v-128H256c35.3 0 64 28.71 64 63.1S291.3 416 256 416z\" />\n    </svg>\n  );\n};\n\nexport default Bold;\n","import { FC } from 'react';\n\nconst Italic: FC<IconProps> = ({ className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 384 512\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M384 64.01c0 17.69-14.31 32-32 32h-58.67l-133.3 320H224c17.69 0 32 14.31 32 32s-14.31 32-32 32H32c-17.69 0-32-14.31-32-32s14.31-32 32-32h58.67l133.3-320H160c-17.69 0-32-14.31-32-32s14.31-32 32-32h192C369.7 32.01 384 46.33 384 64.01z\" />\n    </svg>\n  );\n};\n\nexport default Italic;\n","import { FC } from 'react';\n\nconst Underline: FC<IconProps> = ({ className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 448 512\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M416 448H32c-17.69 0-32 14.31-32 32s14.31 32 32 32h384c17.69 0 32-14.31 32-32S433.7 448 416 448zM48 64.01H64v160c0 88.22 71.78 159.1 160 159.1s160-71.78 160-159.1v-160h16c17.69 0 32-14.32 32-32s-14.31-31.1-32-31.1l-96-.0049c-17.69 0-32 14.32-32 32s14.31 32 32 32H320v160c0 52.94-43.06 95.1-96 95.1S128 276.1 128 224v-160h16c17.69 0 32-14.31 32-32s-14.31-32-32-32l-96 .0049c-17.69 0-32 14.31-32 31.1S30.31 64.01 48 64.01z\" />\n    </svg>\n  );\n};\n\nexport default Underline;\n","import { FC } from 'react';\n\nconst Quote: FC<IconProps> = ({ className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 448 512\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M96 224C84.72 224 74.05 226.3 64 229.9V224c0-35.3 28.7-64 64-64c17.67 0 32-14.33 32-32S145.7 96 128 96C57.42 96 0 153.4 0 224v96c0 53.02 42.98 96 96 96s96-42.98 96-96S149 224 96 224zM352 224c-11.28 0-21.95 2.305-32 5.879V224c0-35.3 28.7-64 64-64c17.67 0 32-14.33 32-32s-14.33-32-32-32c-70.58 0-128 57.42-128 128v96c0 53.02 42.98 96 96 96s96-42.98 96-96S405 224 352 224z\" />\n    </svg>\n  );\n};\n\nexport default Quote;\n","import { FC } from 'react';\n\nconst Code: FC<IconProps> = ({ className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 640 512\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M414.8 40.79L286.8 488.8C281.9 505.8 264.2 515.6 247.2 510.8C230.2 505.9 220.4 488.2 225.2 471.2L353.2 23.21C358.1 6.216 375.8-3.624 392.8 1.232C409.8 6.087 419.6 23.8 414.8 40.79H414.8zM518.6 121.4L630.6 233.4C643.1 245.9 643.1 266.1 630.6 278.6L518.6 390.6C506.1 403.1 485.9 403.1 473.4 390.6C460.9 378.1 460.9 357.9 473.4 345.4L562.7 256L473.4 166.6C460.9 154.1 460.9 133.9 473.4 121.4C485.9 108.9 506.1 108.9 518.6 121.4V121.4zM166.6 166.6L77.25 256L166.6 345.4C179.1 357.9 179.1 378.1 166.6 390.6C154.1 403.1 133.9 403.1 121.4 390.6L9.372 278.6C-3.124 266.1-3.124 245.9 9.372 233.4L121.4 121.4C133.9 108.9 154.1 108.9 166.6 121.4C179.1 133.9 179.1 154.1 166.6 166.6V166.6z\" />\n    </svg>\n  );\n};\n\nexport default Code;\n","import { FC } from 'react';\n\nconst Heading: FC<IconProps> = ({ className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 448 512\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M448 448c0 17.69-14.33 32-32 32h-96c-17.67 0-32-14.31-32-32s14.33-32 32-32h16v-144h-224v144H128c17.67 0 32 14.31 32 32s-14.33 32-32 32H32c-17.67 0-32-14.31-32-32s14.33-32 32-32h16v-320H32c-17.67 0-32-14.31-32-32s14.33-32 32-32h96c17.67 0 32 14.31 32 32s-14.33 32-32 32H112v112h224v-112H320c-17.67 0-32-14.31-32-32s14.33-32 32-32h96c17.67 0 32 14.31 32 32s-14.33 32-32 32h-16v320H416C433.7 416 448 430.3 448 448z\" />\n    </svg>\n  );\n};\n\nexport default Heading;\n","import { FC } from 'react';\n\nconst OrderedList: FC<IconProps> = ({ className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 576 512\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M55.1 56.04C55.1 42.78 66.74 32.04 79.1 32.04H111.1C125.3 32.04 135.1 42.78 135.1 56.04V176H151.1C165.3 176 175.1 186.8 175.1 200C175.1 213.3 165.3 224 151.1 224H71.1C58.74 224 47.1 213.3 47.1 200C47.1 186.8 58.74 176 71.1 176H87.1V80.04H79.1C66.74 80.04 55.1 69.29 55.1 56.04V56.04zM118.7 341.2C112.1 333.8 100.4 334.3 94.65 342.4L83.53 357.9C75.83 368.7 60.84 371.2 50.05 363.5C39.26 355.8 36.77 340.8 44.47 330.1L55.59 314.5C79.33 281.2 127.9 278.8 154.8 309.6C176.1 333.1 175.6 370.5 153.7 394.3L118.8 432H152C165.3 432 176 442.7 176 456C176 469.3 165.3 480 152 480H64C54.47 480 45.84 474.4 42.02 465.6C38.19 456.9 39.9 446.7 46.36 439.7L118.4 361.7C123.7 355.9 123.8 347.1 118.7 341.2L118.7 341.2zM512 64C529.7 64 544 78.33 544 96C544 113.7 529.7 128 512 128H256C238.3 128 224 113.7 224 96C224 78.33 238.3 64 256 64H512zM512 224C529.7 224 544 238.3 544 256C544 273.7 529.7 288 512 288H256C238.3 288 224 273.7 224 256C224 238.3 238.3 224 256 224H512zM512 384C529.7 384 544 398.3 544 416C544 433.7 529.7 448 512 448H256C238.3 448 224 433.7 224 416C224 398.3 238.3 384 256 384H512z\" />\n    </svg>\n  );\n};\n\nexport default OrderedList;\n","import { FC } from 'react';\n\nconst UnorderedList: FC<IconProps> = ({ className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 512 512\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M16 96C16 69.49 37.49 48 64 48C90.51 48 112 69.49 112 96C112 122.5 90.51 144 64 144C37.49 144 16 122.5 16 96zM480 64C497.7 64 512 78.33 512 96C512 113.7 497.7 128 480 128H192C174.3 128 160 113.7 160 96C160 78.33 174.3 64 192 64H480zM480 224C497.7 224 512 238.3 512 256C512 273.7 497.7 288 480 288H192C174.3 288 160 273.7 160 256C160 238.3 174.3 224 192 224H480zM480 384C497.7 384 512 398.3 512 416C512 433.7 497.7 448 480 448H192C174.3 448 160 433.7 160 416C160 398.3 174.3 384 192 384H480zM16 416C16 389.5 37.49 368 64 368C90.51 368 112 389.5 112 416C112 442.5 90.51 464 64 464C37.49 464 16 442.5 16 416zM112 256C112 282.5 90.51 304 64 304C37.49 304 16 282.5 16 256C16 229.5 37.49 208 64 208C90.51 208 112 229.5 112 256z\" />\n    </svg>\n  );\n};\n\nexport default UnorderedList;\n","import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport {\n  AccessControlList,\n  ApiType,\n  BlogConfig,\n  Client,\n  HomePageConfig,\n  SecurityGroupType,\n  TargetDrive,\n} from '@youfoundation/dotyoucore-js';\nimport useAuth from '../auth/useAuth';\n\nconst defaultDrive: TargetDrive = {\n  alias: HomePageConfig.BlogMainContentDriveId.toString(),\n  type: BlogConfig.DriveType.toString(),\n};\n\nconst useImage = (imageFileId?: string, imageDrive?: TargetDrive) => {\n  const { getSharedSecret } = useAuth();\n  const queryClient = useQueryClient();\n  const client = new Client({ api: ApiType.Owner, sharedSecret: getSharedSecret() });\n\n  const fetchImageData = async (imageFileId?: string, imageDrive?: TargetDrive) => {\n    if (imageFileId === undefined) {\n      return;\n    }\n\n    return await client.mediaProvider.getDecryptedImageUrl(imageDrive ?? defaultDrive, imageFileId);\n  };\n\n  const saveImage = async ({\n    bytes,\n    type,\n    targetDrive = defaultDrive,\n    acl = { requiredSecurityGroup: SecurityGroupType.Anonymous },\n    fileId = undefined,\n  }: {\n    bytes: Uint8Array;\n    type: string;\n    targetDrive: TargetDrive;\n    acl?: AccessControlList;\n    fileId?: string;\n  }) => {\n    return await client.mediaProvider.uploadImage(targetDrive, undefined, acl, bytes, fileId, type);\n  };\n\n  const removeImage = async ({\n    targetDrive = defaultDrive,\n    fileId,\n  }: {\n    targetDrive: TargetDrive;\n    fileId: string;\n  }) => {\n    return await client.mediaProvider.removeImage(fileId, targetDrive);\n  };\n\n  return {\n    fetch: useQuery(\n      ['image', imageFileId, imageDrive],\n      () => fetchImageData(imageFileId, imageDrive),\n      {\n        refetchOnMount: false,\n        refetchOnWindowFocus: false,\n        staleTime: Infinity,\n        enabled: !!imageFileId,\n      }\n    ),\n    save: useMutation(saveImage, {\n      onSuccess: (_data, variables) => {\n        // Boom baby!\n        if (variables.fileId) {\n          queryClient.invalidateQueries([\n            'image',\n            variables.fileId,\n            variables.targetDrive ?? defaultDrive,\n          ]);\n        } else {\n          queryClient.removeQueries(['image']);\n        }\n      },\n    }),\n    remove: useMutation(removeImage),\n    // The remove mutation doesn't force invalidate the cache anymore, as removing an image always corresponds to removing the refrence as well.\n  };\n};\n\nexport default useImage;\n","import { AccessControlList, ImageUploadResult, TargetDrive } from '@youfoundation/dotyoucore-js';\nimport { useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { t } from '../../../helpers/i18n/dictionary';\nimport useImage from '../../../hooks/media/useImage';\nimport usePortal from '../../../hooks/portal/usePortal';\nimport ErrorNotification from '../../ui/Alerts/ErrorNotification/ErrorNotification';\nimport ActionButton from '../../ui/Buttons/Button';\n\nconst ImageDialog = ({\n  title,\n  confirmText,\n  isOpen,\n  acl,\n  targetDrive,\n  onConfirm,\n  onCancel,\n}: {\n  title: string;\n  confirmText?: string;\n\n  isOpen: boolean;\n\n  acl: AccessControlList;\n  targetDrive: TargetDrive;\n\n  onConfirm: (uploadResult?: ImageUploadResult) => void;\n  onCancel: () => void;\n}) => {\n  const target = usePortal('modal-container');\n  const { mutateAsync: saveImage, status, error: saveError } = useImage().save;\n  const [file, setFile] = useState<File>();\n\n  if (!isOpen) {\n    return null;\n  }\n\n  const uploadImage = async () => {\n    if (file) {\n      const bytes = new Uint8Array(await file.arrayBuffer());\n      const imageFileId = await saveImage({\n        acl: acl,\n        bytes: bytes,\n        type: file.type,\n        fileId: undefined,\n        targetDrive: targetDrive,\n      });\n      onConfirm(imageFileId);\n    }\n  };\n\n  const dialog = (\n    <>\n      <div className=\"relative z-50\" aria-labelledby=\"modal-title\" role=\"dialog\" aria-modal=\"true\">\n        <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"></div>\n        <div className=\"fixed inset-0 z-10 overflow-y-auto\">\n          <div className=\"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0\">\n            <div className=\"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all dark:bg-black sm:my-8 sm:w-full sm:max-w-lg\">\n              <ErrorNotification error={saveError} />\n              <div className=\"bg-white px-4 pt-5 pb-4 dark:bg-black sm:p-6 sm:pb-4\">\n                <div className=\"sm:flex sm:items-start\">\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                    <h3\n                      className=\"mb-3 text-lg font-medium leading-6 text-gray-900 dark:text-slate-50\"\n                      id=\"modal-title\"\n                    >\n                      {title}\n                    </h3>\n\n                    <input\n                      onChange={(e) => {\n                        const file = e.target?.files?.[0];\n                        if (file) {\n                          setFile(file);\n                        }\n                      }}\n                      type=\"file\"\n                      accept=\"image/png, image/jpeg, image/tiff, image/webp, image/svg+xml\"\n                      className={`w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100`}\n                    />\n                  </div>\n                </div>\n              </div>\n              <div className=\"-m-2 flex flex-row-reverse px-4 py-3\">\n                <ActionButton className=\"m-2\" onClick={uploadImage} state={status}>\n                  {confirmText ?? 'Add'}\n                </ActionButton>\n                <ActionButton className=\"m-2\" type=\"secondary\" onClick={onCancel}>\n                  {t('Cancel')}\n                </ActionButton>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n\n  return createPortal(dialog, target);\n};\n\nexport default ImageDialog;\n","import { FC } from 'react';\n\nconst Image: FC<IconProps> = ({ className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 512 512\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z\" />\n    </svg>\n  );\n};\n\nexport default Image;\n","import { useState } from 'react';\nimport { Node, Transforms } from 'slate';\nimport { useSlateStatic } from 'slate-react';\nimport ImageDialog from './ImageDialog/ImageDialog';\nimport { CustomEditor, ImageElement } from './rich-text-editor';\nimport { Button } from './RichTextEditorComponents';\nimport Image from '../ui/Icons/RichTextEditorIcons/Image/Image';\nimport { SecurityGroupType, TargetDrive } from '@youfoundation/dotyoucore-js';\nimport { t } from '../../helpers/i18n/dictionary';\n\nconst insertImage = (editor: CustomEditor, imageFileId: string) => {\n  const text = { text: '' };\n  // https://stackoverflow.com/questions/61997167/add-paragraph-after-image-within-a-slate-react-text-editor\n  // const image: ImageElement = { type: 'image', imageFileId, children: [text] };\n  const image = [\n    { type: 'image', imageFileId, children: [text] } as ImageElement,\n    {\n      type: 'paragraph',\n      children: [text],\n    } as Node,\n  ];\n\n  Transforms.insertNodes(editor, image);\n};\n\nconst InsertImageButton = ({ targetDrive }: { targetDrive: TargetDrive }) => {\n  const [isActive, setIsActive] = useState(false);\n  const editor = useSlateStatic();\n\n  return (\n    <>\n      <Button\n        onClick={(e: React.ChangeEvent<HTMLElement>) => {\n          e.preventDefault();\n          setIsActive(true);\n        }}\n      >\n        <Image className=\"h-5 w-5\" />\n      </Button>\n      <ImageDialog\n        isOpen={isActive}\n        onCancel={() => {\n          setIsActive(false);\n        }}\n        onConfirm={(uploadResult) => {\n          if (uploadResult) {\n            insertImage(editor, uploadResult.fileId);\n            setIsActive(false);\n          }\n        }}\n        title={t('Insert image')}\n        confirmText={t('Add')}\n        acl={{ requiredSecurityGroup: SecurityGroupType.Anonymous }}\n        targetDrive={targetDrive} // TODO Add support for having the drive passed via props\n      />\n    </>\n  );\n};\n\nexport default InsertImageButton;\n","import { FC } from 'react';\n\nconst ExternalLink: FC<IconProps> = ({ className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 512 512\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32H320zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z\" />\n    </svg>\n  );\n};\n\nexport default ExternalLink;\n","const Label = (\n  props: React.DetailedHTMLProps<React.LabelHTMLAttributes<HTMLLabelElement>, HTMLLabelElement>\n) => {\n  return (\n    <label {...props} className={`mb-2 block ${props.className}`}>\n      {props.children}\n    </label>\n  );\n};\n\nexport default Label;\n","const Input = (\n  props: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\n) => {\n  return (\n    <input\n      {...props}\n      type={props.type ?? 'input'}\n      className={`w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 ${props.className}`}\n    />\n  );\n};\n\nexport default Input;\n","import { useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { t } from '../../../helpers/i18n/dictionary';\nimport usePortal from '../../../hooks/portal/usePortal';\nimport Label from '../../Form/Label';\nimport Input from '../../Form/Input';\nimport ActionButton from '../../ui/Buttons/Button';\nimport DialogWrapper from '../../ui/Dialog/DialogWrapper';\n\nexport interface LinkButtonProps {\n  linkText: string;\n  uri: string;\n}\n\nconst defaultProps = { linkText: '', uri: '' };\nconst LinkButtonDialog = ({\n  title,\n  confirmText,\n  isOpen,\n  onConfirm,\n  onCancel,\n  buttonProps,\n}: {\n  title: string;\n  confirmText?: string;\n  isOpen: boolean;\n  buttonProps?: LinkButtonProps;\n  onConfirm: (buttonProps: LinkButtonProps) => void;\n  onCancel: () => void;\n}) => {\n  const target = usePortal('modal-container');\n  const [linkButtonProps, setLinkButtonProps] = useState<LinkButtonProps>(\n    buttonProps ?? defaultProps\n  );\n\n  if (!isOpen) {\n    return null;\n  }\n\n  const dialog = (\n    <>\n      <DialogWrapper title={title} onClose={onCancel}>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n\n            onConfirm({ ...linkButtonProps });\n            setLinkButtonProps(defaultProps);\n\n            return false;\n          }}\n        >\n          <div className=\"mb-5\">\n            <Label htmlFor=\"linkText\">{t('Text')}</Label>\n            <Input\n              id=\"linkText\"\n              name=\"linkText\"\n              defaultValue={linkButtonProps.linkText}\n              onChange={(e) => {\n                setLinkButtonProps({ ...linkButtonProps, linkText: e.target.value });\n              }}\n              required\n            />\n          </div>\n\n          <div className=\"mb-5\">\n            <Label htmlFor=\"url\">{t('Url')}</Label>\n            <Input\n              id=\"uri\"\n              name=\"uri\"\n              defaultValue={linkButtonProps.uri}\n              onChange={(e) => {\n                setLinkButtonProps({ ...linkButtonProps, uri: e.target.value });\n              }}\n              required\n            />\n          </div>\n\n          <div className=\"-m-2 flex flex-row-reverse px-4 py-3\">\n            <ActionButton className=\"m-2\" state=\"idle\">\n              {confirmText ?? 'Save'}\n            </ActionButton>\n            <ActionButton className=\"m-2\" type=\"secondary\" onClick={onCancel}>\n              {t('Cancel')}\n            </ActionButton>\n          </div>\n        </form>\n      </DialogWrapper>\n    </>\n  );\n\n  return createPortal(dialog, target);\n};\n\nexport default LinkButtonDialog;\n","import { useState } from 'react';\nimport { Transforms } from 'slate';\nimport { useSlateStatic } from 'slate-react';\nimport { CustomEditor, LinkButtonElement } from './rich-text-editor';\nimport { Button } from './RichTextEditorComponents';\nimport { t } from '../../helpers/i18n/dictionary';\nimport ExternalLink from '../ui/Icons/ExternalLink/ExternalLink';\nimport LinkButtonDialog, { LinkButtonProps } from './LinkButtonDialog/LinkButtonDialog';\n\nconst insertButton = (editor: CustomEditor, buttonProps: LinkButtonProps) => {\n  const text = { text: '' };\n  const button: LinkButtonElement = { type: 'link-button', ...buttonProps, children: [text] };\n  Transforms.insertNodes(editor, button);\n};\n\nconst InsertLinkButton = () => {\n  const [isActive, setIsActive] = useState(false);\n  const editor = useSlateStatic();\n\n  return (\n    <>\n      <Button\n        onClick={(e: React.ChangeEvent<HTMLElement>) => {\n          e.preventDefault();\n          setIsActive(true);\n        }}\n      >\n        <ExternalLink className=\"h-5 w-5\" />\n      </Button>\n      <LinkButtonDialog\n        isOpen={isActive}\n        onCancel={() => {\n          setIsActive(false);\n        }}\n        onConfirm={(props) => {\n          insertButton(editor, props);\n          setIsActive(false);\n        }}\n        title={t('Include link button')}\n        confirmText={t('Save')}\n      />\n    </>\n  );\n};\n\nexport default InsertLinkButton;\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\n// @ts-nocheck\nimport { useCallback, useMemo } from 'react';\nimport isHotkey from 'is-hotkey';\nimport {\n  Editable,\n  withReact,\n  useSlate,\n  Slate,\n  ReactEditor,\n  useSelected,\n  useFocused,\n  useSlateStatic,\n} from 'slate-react';\nimport { Editor, Transforms, createEditor, Descendant, Element as SlateElement } from 'slate';\nimport { withHistory } from 'slate-history';\n\nimport { Button, Toolbar } from './RichTextEditorComponents';\nimport { debounce } from 'lodash-es';\n\nimport Bold from '../ui/Icons/RichTextEditorIcons/Bold/Bold';\nimport Italic from '../ui/Icons/RichTextEditorIcons/Italic/Italic';\nimport Underline from '../ui/Icons/RichTextEditorIcons/Underline/Underline';\nimport Quote from '../ui/Icons/RichTextEditorIcons/Quote/Quote';\nimport Code from '../ui/Icons/RichTextEditorIcons/Code/Code';\nimport Heading from '../ui/Icons/RichTextEditorIcons/Heading/Heading';\nimport OrderedList from '../ui/Icons/RichTextEditorIcons/OrderedList/OrderedList';\nimport UnorderedList from '../ui/Icons/RichTextEditorIcons/UnorderedList/UnorderedList';\n\nimport InsertImageButton from './InsertImageButton';\nimport { TargetDrive } from '@youfoundation/dotyoucore-js';\nimport Image from '../Image/Image';\n\nimport InsertLinkButton from './InsertLinkButton';\nimport ActionButton from '../ui/Buttons/Button';\nimport { ellipsisAtMaxChar } from '../../helpers/common';\n\nconst HOTKEYS = {\n  'mod+b': 'bold',\n  'mod+i': 'italic',\n  'mod+u': 'underline',\n  'mod+`': 'code',\n};\n\nconst LIST_TYPES = ['numbered-list', 'bulleted-list'];\n\nconst RichTextEditor = ({\n  defaultValue,\n  placeholder,\n  mediaDrive,\n  onChange,\n  className,\n}: {\n  defaultValue: Descendant[];\n  placeholder: string;\n  mediaDrive: TargetDrive;\n  onChange: (value: Descendant[]) => void;\n  className?: string;\n}) => {\n  const renderElement = useCallback((props) => <Element {...props} mediaDrive={mediaDrive} />, []);\n  const renderLeaf = useCallback((props) => <Leaf {...props} />, []);\n  const editor = useMemo(() => withHistory(withReact(createEditor() as ReactEditor)), []);\n\n  const debouncedChange = useMemo(() => debounce(onChange, 1500), [onChange]);\n\n  return (\n    <section className={`w-[100%] overflow-hidden ${className ?? ''}`}>\n      <Slate editor={editor} value={defaultValue} onChange={debouncedChange}>\n        <Toolbar>\n          <MarkButton format=\"bold\" icon={Bold} />\n          <MarkButton format=\"italic\" icon={Italic} />\n          <MarkButton format=\"underline\" icon={Underline} />\n          <MarkButton format=\"code\" icon={Code} />\n          <BlockButton format=\"heading-one\" icon={Heading} />\n          <BlockButton format=\"heading-two\" icon={Heading} />\n          <BlockButton format=\"block-quote\" icon={Quote} />\n          <BlockButton format=\"numbered-list\" icon={OrderedList} />\n          <BlockButton format=\"bulleted-list\" icon={UnorderedList} />\n          <InsertImageButton targetDrive={mediaDrive} />\n          <InsertLinkButton />\n        </Toolbar>\n        <Editable\n          renderElement={renderElement}\n          renderLeaf={renderLeaf}\n          placeholder={placeholder}\n          spellCheck\n          onKeyDown={(event) => {\n            for (const hotkey in HOTKEYS) {\n              if (isHotkey(hotkey, event)) {\n                event.preventDefault();\n                const mark = HOTKEYS[hotkey];\n                toggleMark(editor, mark);\n              }\n            }\n          }}\n        />\n      </Slate>\n    </section>\n  );\n};\nconst toggleBlock = (editor, format) => {\n  const isActive = isBlockActive(editor, format, 'type');\n  const isList = LIST_TYPES.includes(format);\n\n  Transforms.unwrapNodes(editor, {\n    match: (n) => !Editor.isEditor(n) && SlateElement.isElement(n) && LIST_TYPES.includes(n.type),\n    split: true,\n  });\n  const newProperties: Partial<SlateElement> = {\n    type: isActive ? 'paragraph' : isList ? 'list-item' : format,\n  };\n\n  Transforms.setNodes<SlateElement>(editor, newProperties);\n\n  if (!isActive && isList) {\n    const block = { type: format, children: [] };\n    Transforms.wrapNodes(editor, block);\n  }\n};\n\nconst toggleMark = (editor, format) => {\n  const isActive = isMarkActive(editor, format);\n\n  if (isActive) {\n    Editor.removeMark(editor, format);\n  } else {\n    Editor.addMark(editor, format, true);\n  }\n};\n\nconst isBlockActive = (editor, format, blockType = 'type') => {\n  const { selection } = editor;\n  if (!selection) return false;\n\n  const [match] = Array.from(\n    Editor.nodes(editor, {\n      at: Editor.unhangRange(editor, selection),\n      match: (n) => !Editor.isEditor(n) && SlateElement.isElement(n) && n[blockType] === format,\n    })\n  );\n\n  return !!match;\n};\n\nconst isMarkActive = (editor, format) => {\n  const marks = Editor.marks(editor);\n  return marks ? marks[format] === true : false;\n};\nconst Element = ({ attributes, children, element, mediaDrive }) => {\n  const style = {};\n  switch (element.type) {\n    case 'block-quote':\n      return (\n        <blockquote style={style} {...attributes} className=\"border-l-4 pl-2\">\n          {children}\n        </blockquote>\n      );\n    case 'bulleted-list':\n      return (\n        <ul style={style} {...attributes} className=\"list-disc pl-5\">\n          {children}\n        </ul>\n      );\n    case 'heading-one':\n      return (\n        <h1 style={style} {...attributes} className={'text-2xl'}>\n          {children}\n        </h1>\n      );\n    case 'heading-two':\n      return (\n        <h2 style={style} {...attributes} className={'text-xl'}>\n          {children}\n        </h2>\n      );\n    case 'list-item':\n      return (\n        <li style={style} {...attributes}>\n          {children}\n        </li>\n      );\n    case 'numbered-list':\n      return (\n        <ol style={style} {...attributes} className=\"list-decimal pl-5\">\n          {children}\n        </ol>\n      );\n    case 'image': {\n      const editor = useSlateStatic();\n      const path = ReactEditor.findPath(editor, element);\n\n      const selected = useSelected();\n      const focused = useFocused();\n\n      return (\n        <div {...attributes} className={`${attributes.className ?? ''} p-2`}>\n          <div contentEditable={false}>\n            <div className=\"my-5 flex flex-row\">\n              <div className=\"relative mr-auto\">\n                <div className=\"absolute right-1 top-1\">\n                  <ActionButton\n                    onClick={() => {\n                      // TODO: remove image from drive;\n                      Transforms.removeNodes(editor, { at: path });\n                    }}\n                    type=\"remove\"\n                    icon=\"trash\"\n                    size=\"square\"\n                  />\n                </div>\n                <Image\n                  targetDrive={mediaDrive} // TODO Add support for having the drive passed via props\n                  fileId={element.imageFileId}\n                  className={`max-w-md ${\n                    selected && focused\n                      ? 'outline outline-4 outline-offset-2 outline-indigo-500'\n                      : ''\n                  }`}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    }\n    case 'link-button': {\n      const editor = useSlateStatic();\n      const path = ReactEditor.findPath(editor, element);\n\n      return (\n        <div {...attributes}>\n          <div contentEditable={false}>\n            <div className=\"my-5 flex flex-row\">\n              <a\n                className=\"pointer-events-none rounded-md rounded-r-none bg-slate-500 px-3 py-2 text-left text-white\"\n                title={element.uri}\n              >\n                {element.linkText}\n                <small className=\"block text-sm opacity-60\">\n                  {ellipsisAtMaxChar(element.uri, 60)}\n                </small>\n              </a>\n\n              <ActionButton\n                onClick={() => Transforms.removeNodes(editor, { at: path })}\n                type=\"remove\"\n                icon=\"trash\"\n                size=\"square\"\n                className=\"rounded-l-none rounded-r-md\"\n              />\n            </div>\n          </div>\n        </div>\n      );\n    }\n    default:\n      return (\n        <p style={style} {...attributes}>\n          {children}\n        </p>\n      );\n  }\n};\n\nconst Leaf = ({ attributes, children, leaf }) => {\n  if (leaf.bold) {\n    children = <strong>{children}</strong>;\n  }\n\n  if (leaf.code) {\n    children = <code>{children}</code>;\n  }\n\n  if (leaf.italic) {\n    children = <em>{children}</em>;\n  }\n\n  if (leaf.underline) {\n    children = <u>{children}</u>;\n  }\n\n  return <span {...attributes}>{children}</span>;\n};\n\nconst BlockButton = ({ format, icon: Icon }) => {\n  const editor = useSlate();\n  return (\n    <Button\n      active={isBlockActive(editor, format, 'type')}\n      onMouseDown={(event) => {\n        event.preventDefault();\n        toggleBlock(editor, format);\n      }}\n    >\n      {Icon && <Icon className=\"h-5 w-5\" />}\n    </Button>\n  );\n};\n\nconst MarkButton = ({ format, icon: Icon }) => {\n  const editor = useSlate();\n  return (\n    <Button\n      active={isMarkActive(editor, format)}\n      onMouseDown={(event) => {\n        event.preventDefault();\n        toggleMark(editor, format);\n      }}\n    >\n      {Icon && <Icon className=\"h-5 w-5\" />}\n    </Button>\n  );\n};\n\nexport default RichTextEditor;\n","import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { PublicClient, DraftTag, PostContent, PostFile } from '@youfoundation/dotyoucore-js';\nimport BlogPostProvider from '../../../provider/blog/BlogPostProvider';\nimport useAuth from '../../auth/useAuth';\nimport useChannels from '../../blog/useChannels';\n\nconst useDrafts = () => {\n  const queryClient = useQueryClient();\n\n  const { data: channels } = useChannels();\n  const { getSharedSecret, getApiType } = useAuth();\n\n  const fetch = async () => {\n    const client = new PublicClient({ api: getApiType(), sharedSecret: getSharedSecret() });\n    if (!channels) {\n      return;\n    }\n\n    const drafts = await Promise.all(\n      channels.map(async (channel) => {\n        return await client.blogPostReadonlyProvider.getPosts(\n          channel.channelId,\n          [DraftTag],\n          undefined,\n          10\n        );\n      })\n    );\n\n    return drafts?.flatMap((item) => item.results);\n  };\n\n  const remove = async ({ channelId, postFileId }: { channelId: string; postFileId: string }) => {\n    const blogPostProvider = BlogPostProvider.getInstance(getSharedSecret());\n    return await blogPostProvider.removePost(postFileId, channelId);\n  };\n\n  return {\n    fetch: useQuery(['drafts'], () => fetch(), { enabled: !!channels }),\n    remove: useMutation(remove, {\n      onMutate: async (toRemoveDetails) => {\n        await queryClient.cancelQueries(['drafts']);\n\n        // Updates\n        const previousDrafts: PostFile<PostContent>[] | undefined = queryClient.getQueryData([\n          'drafts',\n        ]);\n        const updatedDrafts = previousDrafts?.filter(\n          (post) => post.fileId !== toRemoveDetails.postFileId\n        );\n        queryClient.setQueryData(['drafts'], updatedDrafts);\n\n        return { toRemoveDetails, previousDrafts };\n      },\n      onError: (err, toRemoveAttr, context) => {\n        console.error(err);\n\n        // Revert local caches to what they were\n        queryClient.setQueryData(['drafts'], context?.previousDrafts);\n      },\n      onSettled: () => {\n        queryClient.invalidateQueries(['drafts']);\n      },\n    }),\n  };\n};\n\nexport default useDrafts;\n","import { createPortal } from 'react-dom';\nimport { t } from '../../../helpers/i18n/dictionary';\nimport useChannels from '../../../hooks/blog/useChannels';\nimport usePortal from '../../../hooks/portal/usePortal';\nimport useDrafts from '../../../hooks/socialFeed/drafts/useDrafts';\nimport ActionLink from '../../ui/Buttons/ActionLink';\nimport ActionButton from '../../ui/Buttons/Button';\nimport DialogWrapper from '../../ui/Dialog/DialogWrapper';\nimport LoadingParagraph from '../../ui/LoadingParagraph/LoadingParagraph';\nimport PostMeta from '../../Blog/Common/Blocks/Meta/Meta';\nimport { default as ArticleIcon } from '../../ui/Icons/Article/Article';\nimport { Link } from 'react-router-dom';\nimport FakeAnchor from '../../ui/Buttons/FakeAnchor';\n\nconst DraftsDialog = ({ isOpen, onCancel }: { isOpen: boolean; onCancel: () => void }) => {\n  const target = usePortal('modal-container');\n  const {\n    fetch: { data: drafts, isLoading: draftsLoading },\n    remove: { mutate: removeDraft },\n  } = useDrafts();\n  const { data: channels } = useChannels();\n\n  if (!isOpen) {\n    return null;\n  }\n\n  const dialog = (\n    <DialogWrapper\n      title={\n        <div className=\"flex flex-row items-center\">\n          <ArticleIcon className=\"mr-2 h-6 w-6\" /> {t('Drafts')}\n        </div>\n      }\n      onClose={onCancel}\n      isSidePanel={true}\n    >\n      {draftsLoading ? (\n        <>\n          <LoadingParagraph className=\"my-2 h-4\" />\n          <LoadingParagraph className=\"my-2 h-4\" />\n          <LoadingParagraph className=\"my-2 h-4\" />\n        </>\n      ) : null}\n      {!drafts && !draftsLoading ? <>{t('No drafts found')}</> : null}\n      {drafts ? (\n        <div className=\"-m-3\">\n          {drafts?.map((draft, index) => {\n            const channel = channels?.find((chnl) => chnl.channelId === draft.content.channelId);\n            return (\n              <div\n                className=\"m-3 rounded-lg bg-slate-500 bg-opacity-5 p-3 hover:shadow-md hover:dark:shadow-slate-600\"\n                key={draft.fileId ?? index}\n              >\n                <FakeAnchor\n                  href={`/home/feed/edit/${channel?.slug ?? 'public-posts'}/${draft.content.id}`}\n                >\n                  <div className=\"flex flex-col\">\n                    <div className=\"mr-auto\">\n                      <h2 className=\"mr-2 text-xl\">\n                        {draft.content.caption?.length ? draft.content.caption : t('Untitled')}\n                      </h2>\n                      {channel && <PostMeta post={draft.content} channel={channel} className=\"\" />}\n                    </div>\n                    <div className=\"flex flex-row justify-end\">\n                      {draft.fileId ? (\n                        <ActionButton\n                          className=\"m-1 flex-shrink-0\"\n                          icon=\"trash\"\n                          type=\"mute\"\n                          onClick={() =>\n                            removeDraft({\n                              channelId: draft.content.channelId,\n                              postFileId: draft.fileId as string,\n                            })\n                          }\n                        >\n                          {t('Remove')}\n                        </ActionButton>\n                      ) : null}\n                    </div>\n                  </div>\n                </FakeAnchor>\n              </div>\n            );\n          })}\n        </div>\n      ) : null}\n      <div className=\"-m-2 flex flex-row-reverse py-3\">\n        <ActionLink\n          className=\"m-2 cursor-pointer\"\n          onClick={() => {\n            window.location.href = '/home/feed/new';\n          }}\n          icon=\"plus\"\n        >\n          {t('New Draft')}\n        </ActionLink>\n        <ActionButton className=\"m-2\" onClick={onCancel} type=\"secondary\">\n          {t('Cancel')}\n        </ActionButton>\n      </div>\n    </DialogWrapper>\n  );\n\n  return createPortal(dialog, target);\n};\n\nexport default DraftsDialog;\n","import { AccessControlList, ImageUploadResult, TargetDrive } from '@youfoundation/dotyoucore-js';\nimport { useState } from 'react';\nimport { t } from '../../helpers/i18n/dictionary';\nimport useImage from '../../hooks/media/useImage';\nimport ConfirmDialog from '../Dialog/ConfirmDialog/ConfirmDialog';\nimport Exclamation from '../ui/Icons/Exclamation/Exclamation';\nimport Pencil from '../ui/Icons/Pencil/Pencil';\nimport Trash from '../ui/Icons/Trash/Trash';\nimport ErrorNotification from '../ui/Alerts/ErrorNotification/ErrorNotification';\nimport ImageDialog from '../RichTextEditor/ImageDialog/ImageDialog';\n\ninterface ImageSelectorProps\n  extends Omit<\n    React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>,\n    'onChange'\n  > {\n  targetDrive: TargetDrive;\n  acl: AccessControlList;\n  onChange: (event: { target: { name: string; value: ImageUploadResult | undefined } }) => void;\n}\n\nconst ImageSelector = ({ targetDrive, acl, onChange, defaultValue, name }: ImageSelectorProps) => {\n  const {\n    fetch: { data: imageUrl, isLoading },\n    remove: { mutateAsync: removeImage, error: removeError },\n  } = useImage(typeof defaultValue === 'string' ? defaultValue : undefined, targetDrive);\n  const [isEdit, setIsEdit] = useState(false);\n  const [needsConfirmation, setNeedsConfirmation] = useState(false);\n\n  const removeData = async () => {\n    const fileId = typeof defaultValue === 'string' ? defaultValue : undefined;\n    if (fileId && name) {\n      await removeImage({\n        fileId: fileId,\n        targetDrive: targetDrive,\n      });\n      onChange({ target: { name: name, value: undefined } });\n    }\n  };\n\n  if (isLoading && defaultValue) {\n    return (\n      <div className=\"aspect-square max-w-[20rem] animate-pulse bg-slate-100 dark:bg-slate-700\"></div>\n    );\n  }\n\n  return (\n    <>\n      {imageUrl ? (\n        <div className=\"flex\">\n          <div className=\"relative mr-auto\">\n            <button\n              className=\"absolute top-2 right-2 rounded-lg bg-white p-2\"\n              onClick={(e) => {\n                e.preventDefault();\n                setIsEdit(true);\n                return false;\n              }}\n            >\n              <Pencil className=\"h-4 w-4 text-black\" />\n            </button>\n            <button\n              className=\"absolute bottom-2 right-2 rounded-lg bg-red-200 p-2\"\n              onClick={() => {\n                setNeedsConfirmation(true);\n                return false;\n              }}\n            >\n              <Trash className=\"h-4 w-4 text-black\" />\n            </button>\n            <img\n              src={imageUrl}\n              alt={imageUrl}\n              className=\"max-h-[20rem]\"\n              onClick={() => {\n                setIsEdit(true);\n              }}\n            />\n          </div>\n        </div>\n      ) : (\n        <div\n          className=\"relative flex aspect-square max-w-[20rem] cursor-pointer bg-slate-100 dark:bg-slate-700\"\n          onClick={(e) => {\n            e.preventDefault();\n            setIsEdit(true);\n          }}\n        >\n          <Exclamation className=\"m-auto h-8 w-8\" />\n          <p className=\"absolute inset-0 top-auto pb-5 text-center text-slate-400\">\n            {t('No image selected')}\n          </p>\n        </div>\n      )}\n\n      <ImageDialog\n        acl={acl}\n        isOpen={isEdit}\n        targetDrive={targetDrive}\n        title={t('Insert image')}\n        confirmText={t('Add')}\n        onCancel={() => setIsEdit(false)}\n        onConfirm={(uploadResult) => {\n          if (uploadResult && name) {\n            onChange({ target: { name: name, value: uploadResult } });\n            setIsEdit(false);\n          }\n        }}\n      />\n      <ErrorNotification error={removeError} />\n      <ConfirmDialog\n        title=\"Remove Current Image\"\n        confirmText=\"Permanently remove\"\n        needConfirmation={needsConfirmation}\n        onConfirm={removeData}\n        onCancel={() => {\n          setNeedsConfirmation(false);\n        }}\n      >\n        <p className=\"text-sm text-gray-500\">\n          {t('Are you sure you want to remove the current file? This action cannot be undone.')}\n        </p>\n      </ConfirmDialog>\n    </>\n  );\n};\n\nexport default ImageSelector;\n","import {\n  BlogConfig,\n  ChannelDefinition,\n  DataUtil,\n  PostContent,\n  PostFile,\n  SecurityGroupType,\n  Article,\n  getChannelDrive,\n  ImageUploadResult,\n} from '@youfoundation/dotyoucore-js';\nimport { Descendant } from 'slate';\nimport { useMemo, useState } from 'react';\nimport { t } from '../../../helpers/i18n/dictionary';\nimport usePost from '../../../hooks/socialFeed/post/usePost';\nimport CheckboxToggle from '../../Form/CheckboxToggle';\nimport RichTextEditor from '../../RichTextEditor/RichTextEditor';\nimport Button from '../../ui/Buttons/Button';\nimport { ErrorBoundary } from '../../ui/Layout/ErrorBoundary/ErrorBoundary';\nimport { ChannelSelector, DEFAULT_POST } from '../PostComposer';\nimport { convertTextToSlug } from '../../../helpers/common';\nimport ErrorNotification from '../../ui/Alerts/ErrorNotification/ErrorNotification';\nimport Arrow from '../../ui/Icons/Arrow/Arrow';\nimport DraftsDialog from '../DraftsDialog/DraftsDialog';\nimport ImageSelector from '../../Form/ImageSelector';\nimport { debounce } from 'lodash-es';\nimport { useNavigate } from 'react-router-dom';\n\nconst Composer = ({\n  postFile: externalPostFile,\n  channel: externalChannel,\n}: {\n  postFile?: PostFile<PostContent>;\n  channel?: ChannelDefinition;\n}) => {\n  const { mutateAsync: savePost, error: savePostError, status: savePostStatus } = usePost().save;\n  const navigate = useNavigate();\n  const [postFile, setPostFile] = useState<PostFile<Article>>({\n    ...externalPostFile,\n    content: {\n      ...DEFAULT_POST,\n      body: '',\n      abstract: '',\n      id: DataUtil.getNewId(),\n      ...externalPostFile?.content,\n      type: 'Article',\n    },\n  });\n  const [channel, setChannel] = useState<ChannelDefinition>(\n    postFile.content.channelId === externalChannel?.channelId\n      ? externalChannel\n      : BlogConfig.PublicChannel\n  );\n  const [isDraft, setIsDraft] = useState(true);\n  const [isDraftsOpen, setIsDraftsOpen] = useState(false);\n  const [isDirty, setIsDirty] = useState(false);\n  const isEmpty =\n    !postFile.content.caption?.length ||\n    postFile.content.caption.length <= 1 ||\n    !postFile.content.body?.length ||\n    postFile.content.body.length === 0;\n\n  const doPost = async (dirtyPostFile: PostFile<Article> = postFile) => {\n    // Check if too empty and potentially don't save\n    if (\n      !dirtyPostFile.content.caption?.length &&\n      dirtyPostFile.content.caption.length <= 1 &&\n      !dirtyPostFile.content.abstract?.length &&\n      dirtyPostFile.content.abstract.length <= 1 &&\n      !dirtyPostFile.content.body?.length &&\n      dirtyPostFile.content.body.length === 0\n    ) {\n      return;\n    }\n\n    // Upload posts\n    const toPostFile: PostFile<PostContent> = {\n      ...dirtyPostFile,\n      content: {\n        ...dirtyPostFile.content,\n        dateUnixTime: new Date().getTime(), // Set current date as userDate of the post\n        id: dirtyPostFile.content.id ?? DataUtil.getNewId(), // Generate new id if there is none\n        slug: convertTextToSlug(dirtyPostFile.content.caption), // Reset slug to match caption each time\n        channelId: channel.channelId, // Always update channel to the one in state, could have changed\n      },\n      acl:\n        channel.acl && !isDraft\n          ? { ...channel.acl }\n          : { requiredSecurityGroup: SecurityGroupType.Owner },\n    };\n\n    await savePost({ blogFile: toPostFile, channelId: channel.channelId });\n    setIsDirty(false);\n\n    if (!isDraft) {\n      navigate(`/home/posts/${channel.slug}/${toPostFile.content.slug}`);\n    }\n  };\n\n  return (\n    <>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          doPost();\n          return false;\n        }}\n      >\n        <div className=\"-m-2 mb-3 flex flex-row flex-wrap items-center md:flex-nowrap\">\n          <a\n            className=\"m-2 flex cursor-pointer flex-row items-center\"\n            onClick={() => setIsDraftsOpen(!isDraftsOpen)}\n          >\n            {t('Drafts')} <Arrow className=\"ml-1 h-4 w-4 -rotate-45\" />\n          </a>\n          {/* <div className=\"m-2 text-opacity-50\">\n            <ActionButton\n              onClick={() => setIsImageSelectorOpen(true)}\n              className=\"flex items-center\"\n              type=\"mute\"\n            >\n              <ImageIcon className=\"mr-2 h-4 w-4\" /> {t('Add media')}\n            </ActionButton>\n          </div> */}\n          <ChannelSelector\n            className={`m-2 ml-auto ${\n              externalPostFile?.fileId ? 'pointer-events-none opacity-50' : '' // Once a fileId is existent, the file is stored to this channel drive\n            }`}\n            defaultValue={postFile.content?.channelId}\n            onChange={(channel) => {\n              if (channel) {\n                setChannel(channel);\n                setPostFile({\n                  ...postFile,\n                  content: { ...postFile.content, channelId: channel?.channelId },\n                });\n                setIsDirty(true);\n              }\n            }}\n          />\n\n          <div className=\"m-2 flex cursor-pointer flex-row\" onClick={() => setIsDraft(!isDraft)}>\n            <p className=\"mr-2 text-sm\">{t('Draft mode')}</p>\n            <CheckboxToggle checked={isDraft} className=\"pointer-events-none\" readOnly />\n          </div>\n\n          <Button\n            className={`m-2 w-full md:w-auto ${\n              !isEmpty ? '' : 'pointer-events-none opacity-20 grayscale'\n            }`}\n            icon={isDraft ? 'save' : 'send'}\n            state={isDirty ? 'loading' : savePostStatus}\n          >\n            {isDraft ? t('Save') : t('Post')}\n          </Button>\n        </div>\n\n        <InnerFieldEditors\n          postFile={postFile}\n          channel={channel}\n          onChange={(e) => {\n            const dirtyPostFile = { ...postFile };\n            if (e.target.name === 'abstract') {\n              dirtyPostFile.content.abstract = e.target.value as string;\n            } else if (e.target.name === 'caption') {\n              dirtyPostFile.content.caption = e.target.value as string;\n            } else if (e.target.name === 'primaryImageFileId') {\n              const uploadResult = e.target.value as ImageUploadResult;\n              dirtyPostFile.content.primaryImageFileId = uploadResult.fileId;\n              dirtyPostFile.previewThumbnail = uploadResult.previewThumbnail;\n            } else if (e.target.name === 'body') {\n              dirtyPostFile.content.body = e.target.value as Descendant[];\n            }\n\n            setPostFile(dirtyPostFile);\n            doPost(dirtyPostFile);\n          }}\n        />\n      </form>\n      <ErrorNotification error={savePostError} />\n      {isDraftsOpen ? (\n        <DraftsDialog isOpen={isDraftsOpen} onCancel={() => setIsDraftsOpen(false)} />\n      ) : null}\n    </>\n  );\n};\n\nconst InnerFieldEditors = ({\n  postFile,\n  channel,\n  onChange,\n}: {\n  postFile: PostFile<Article>;\n  channel: ChannelDefinition;\n  onChange: (e: {\n    target: { name: string; value: string | ImageUploadResult | Descendant[] };\n  }) => void;\n}) => {\n  const debouncedChange = useMemo(() => debounce(onChange, 1500), [onChange]);\n\n  const body: Descendant[] = Array.isArray((postFile.content as Article)?.body)\n    ? ((postFile.content as Article)?.body as Descendant[])\n    : [\n        {\n          type: 'paragraph',\n          children: [{ text: (postFile.content as Article)?.body ?? '' }] as Descendant[],\n        },\n      ];\n  return (\n    <>\n      <div className=\"-m-2\">\n        <div className=\"m-2\">\n          <input\n            id=\"caption\"\n            name=\"caption\"\n            defaultValue={postFile.content.caption}\n            onChange={debouncedChange}\n            placeholder={t('Title')}\n            className={`-mx-2 w-full resize-none rounded-md bg-transparent p-2 text-lg`}\n          />\n        </div>\n        <div className=\"m-2\">\n          <textarea\n            id=\"abstract\"\n            name=\"abstract\"\n            defaultValue={(postFile.content as Article).abstract}\n            onChange={debouncedChange}\n            placeholder={t('Summary')}\n            className={`-mx-2 w-full resize-none rounded-md bg-transparent p-2`}\n          />\n        </div>\n        <div className=\"m-2\">\n          <ImageSelector\n            id=\"post_image\"\n            name=\"primaryImageFileId\"\n            defaultValue={postFile.content.primaryImageFileId}\n            onChange={(e) =>\n              e.target.value &&\n              onChange(e as { target: { name: string; value: ImageUploadResult } })\n            }\n            targetDrive={getChannelDrive(channel.channelId)}\n            acl={\n              channel.acl\n                ? { ...channel.acl }\n                : { requiredSecurityGroup: SecurityGroupType.Anonymous }\n            }\n          />\n        </div>\n        <div className=\"m-2 mt-5\">\n          <ErrorBoundary>\n            <RichTextEditor\n              defaultValue={body}\n              placeholder={t('Start writing...')}\n              mediaDrive={getChannelDrive(channel.channelId)}\n              onChange={(val) => onChange({ target: { name: 'body', value: val } })}\n              className=\"mb-10\"\n            />\n          </ErrorBoundary>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Composer;\n","import { useParams } from 'react-router-dom';\nimport Composer from '../../components/SocialFeed/Composer/Composer';\nimport { t } from '../../helpers/i18n/dictionary';\nimport useBlog from '../../hooks/blog/useBlog';\n\nconst PostComposerPage = () => {\n  const { channelKey, postKey } = useParams();\n\n  const { data: postData, isLoading: postDataLoading } = useBlog({\n    channelSlug: channelKey,\n    blogSlug: postKey,\n  });\n\n  return (\n    <div className=\"container mx-auto px-5\">\n      {postKey ? (\n        !postData && !postDataLoading ? (\n          <>{t('No post found')}</>\n        ) : postDataLoading ? (\n          <>{t('Loading')}</>\n        ) : (\n          <Composer postFile={postData?.activeBlog} channel={postData?.activeChannel} />\n        )\n      ) : (\n        <Composer />\n      )}\n    </div>\n  );\n};\n\nexport default PostComposerPage;\n"],"names":["channelSlug","blogSlug","useAuth","getSharedSecret","getApiType","client","PublicClient","api","sharedSecret","fetchBlog","blogPostReadonlyProvider","getPostBySlug","data","getChannelDefinitionBySlug","channel","getPost","channelId","postFile","activeBlog","activeChannel","useQuery","refetchOnMount","refetchOnWindowFocus","staleTime","Infinity","enabled","props","className","inputProps","type","Button","active","reversed","Toolbar","xmlns","viewBox","fill","d","defaultDrive","alias","HomePageConfig","BlogConfig","imageFileId","imageDrive","queryClient","useQueryClient","Client","ApiType","fetchImageData","undefined","mediaProvider","getDecryptedImageUrl","saveImage","bytes","targetDrive","acl","requiredSecurityGroup","SecurityGroupType","fileId","uploadImage","removeImage","fetch","save","useMutation","onSuccess","_data","variables","invalidateQueries","removeQueries","remove","title","confirmText","isOpen","onConfirm","onCancel","target","usePortal","useImage","mutateAsync","status","saveError","error","useState","file","setFile","Uint8Array","arrayBuffer","dialog","role","ErrorNotification","id","onChange","e","files","accept","onClick","state","t","createPortal","isActive","setIsActive","editor","useSlateStatic","preventDefault","uploadResult","text","image","children","Transforms","insertImage","defaultProps","linkText","uri","buttonProps","linkButtonProps","setLinkButtonProps","DialogWrapper","onClose","onSubmit","htmlFor","name","defaultValue","value","required","button","insertButton","HOTKEYS","LIST_TYPES","toggleMark","format","isMarkActive","Editor","isBlockActive","blockType","selection","Array","from","at","match","n","SlateElement","marks","Element","attributes","element","mediaDrive","style","path","ReactEditor","selected","useSelected","focused","useFocused","contentEditable","icon","size","ellipsisAtMaxChar","Leaf","leaf","bold","code","italic","underline","BlockButton","Icon","useSlate","onMouseDown","event","isList","includes","split","newProperties","block","toggleBlock","MarkButton","placeholder","renderElement","useCallback","renderLeaf","useMemo","withHistory","withReact","createEditor","debouncedChange","debounce","Bold","Italic","Underline","Code","Heading","Quote","OrderedList","UnorderedList","spellCheck","onKeyDown","hotkey","isHotkey","channels","useChannels","Promise","all","map","getPosts","DraftTag","drafts","flatMap","item","results","postFileId","blogPostProvider","BlogPostProvider","removePost","onMutate","toRemoveDetails","cancelQueries","previousDrafts","getQueryData","updatedDrafts","filter","post","setQueryData","onError","err","toRemoveAttr","context","console","onSettled","useDrafts","draftsLoading","isLoading","removeDraft","mutate","Article","isSidePanel","LoadingParagraph","draft","index","find","chnl","content","FakeAnchor","href","slug","caption","length","ActionLink","window","location","imageUrl","removeError","isEdit","setIsEdit","needsConfirmation","setNeedsConfirmation","removeData","Pencil","Trash","src","alt","Exclamation","ConfirmDialog","needConfirmation","InnerFieldEditors","body","isArray","abstract","primaryImageFileId","getChannelDrive","ErrorBoundary","val","externalPostFile","externalChannel","usePost","savePost","savePostError","savePostStatus","navigate","useNavigate","DEFAULT_POST","DataUtil","setPostFile","setChannel","isDraft","setIsDraft","isDraftsOpen","setIsDraftsOpen","isDirty","setIsDirty","isEmpty","doPost","dirtyPostFile","toPostFile","dateUnixTime","Date","getTime","convertTextToSlug","blogFile","Arrow","checked","readOnly","previewThumbnail","useParams","channelKey","postKey","useBlog","postData","postDataLoading"],"sourceRoot":""}