@inject AppState _state

<h1>asfsf</h1>
<div class="@leftOrRight pb-4">
    <div>
        <img src="/api/avatar/@Message.Sender.DotYouId" class="rounded-circle mr-1" alt="@Message.Sender.DotYouId" width="40" height="40">
        <div class="text-muted small text-nowrap mt-2">@Message.Sent)</div>
    </div>
    <div class="flex-shrink-1 bg-light rounded py-2 px-3 mr-3">
        <div class="font-weight-bold mb-1">@Message.Sender.GivenName</div>
        @Message.Body
    </div>
</div>

@code {

    private string leftOrRight;

    [Parameter]
    public ChatMessagePayload Message { get; set; }

    protected override void OnParametersSet()
    {
        bool isMe = string.Equals(this.Message.Sender.DotYouId, _state.User.DotYouId, StringComparison.InvariantCultureIgnoreCase);
        this.leftOrRight = isMe ? "chat-message-right" : "chat-message-left";

        base.OnParametersSet();
    }

}