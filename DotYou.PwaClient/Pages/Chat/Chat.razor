@inject AppUIState _appUiState;

<div class="appHeader bg-primary text-light">
    <div class="left">
        <div class="headerButton" @onclick="HandleNavigateBack">
            <ion-icon name="chevron-back-outline"></ion-icon>
        </div>
    </div>
    <div class="pageTitle">@ParticipantId</div>
    <div class="right">
        @* <a href="#" class="headerButton"> *@
        @*     <ion-icon name="videocam-outline"></ion-icon> *@
        @* </a> *@
        @* <a href="#" class="headerButton"> *@
        @*     <ion-icon name="call-outline"></ion-icon> *@
        @*     <span class="badge badge-danger">1</span> *@
        @* </a> *@
    </div>
</div>

<div id="appCapsule">
    <div class="message-divider">
        Friday, Sep 20, 10:40 AM
    </div>

    <div class="message-item">
        <img src="assets/img/sample/avatar/avatar1.jpg" alt="avatar" class="avatar">
        <div class="content">
            <div class="title">John</div>
            <div class="bubble">
                Hi everyone, how are you?
            </div>
            <div class="footer">8:40 AM</div>
        </div>
    </div>
</div>


<AddMediaActionSheet/>

<div class="chatFooter">
    <form>
        <a href="#" class="btn btn-icon btn-secondary rounded" data-bs-toggle="modal" data-bs-target="#addActionSheet">
            <ion-icon name="add"></ion-icon>
        </a>
        <div class="form-group boxed">
            <div class="input-wrapper">
                <input type="text" class="form-control" placeholder="Type a message...">
                <i class="clear-input">
                    <ion-icon name="close-circle"></ion-icon>
                </i>
            </div>
        </div>
        <button type="button" class="btn btn-icon btn-primary rounded">
            <ion-icon name="send"></ion-icon>
        </button>
    </form>
</div>

@code {

    [Parameter]
    public string ParticipantId { get; set; }

    [Parameter]
    public EventCallback OnNavigateBackPressed { get; set; }

    protected override void OnParametersSet()
    {
        this.RefreshData();
    }

    protected override void OnInitialized()
    {
        _appUiState.BottomTabsVisible = false;
        this.StateHasChanged();
        base.OnInitialized();
    }

    private void RefreshData()
    {
        this.StateHasChanged();
    }

    private void HandleNavigateBack()
    {
        OnNavigateBackPressed.InvokeAsync();
    }

}