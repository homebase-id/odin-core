"use strict";(self.webpackChunkpublic_app=self.webpackChunkpublic_app||[]).push([[930],{5533:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(9415),a=t(3504),i=t(4990),o=t(4665),l=t(5410),c=t(184),s=function(e){var n,t=e.className,s=e.blog,u=e.linkRoot,d=s.channelId?{alias:s.channelId,type:r.Hm.ChannelDriveType.toString()}:void 0;return(0,c.jsx)("div",{className:"flex flex-nowrap px-5 py-8 transition-colors duration-200 hover:bg-slate-50 hover:dark:bg-slate-800 ".concat(null!==t&&void 0!==t?t:""),children:(0,c.jsxs)(a.rU,{to:"".concat(u).concat(null!==(n=s.slug)&&void 0!==n?n:"#"),className:"contents",children:[(0,c.jsx)("div",{className:"w-32 flex-shrink-0 pr-4 md:w-64 md:pr-8",children:d&&s.primaryImageFileId?(0,c.jsx)(l.Z,{className:"aspect-square w-full",fileId:s.primaryImageFileId,targetDrive:d,alt:"blog",cover:!0}):null}),(0,c.jsxs)("div",{className:"flex flex-col md:flex-grow md:flex-row",children:[(0,c.jsxs)("div",{className:"flex flex-shrink-0 md:order-3 md:mb-0 md:mt-3 md:w-32 md:flex-col md:text-right lg:w-64",children:[(0,c.jsx)("span",{className:"title-font font-semibold text-gray-700 dark:text-white",children:s.type.toUpperCase()}),(0,c.jsx)("span",{className:"pl-2 text-gray-500 md:mt-1 md:pl-0 md:text-sm",children:new Date(s.dateUnixTime).toLocaleDateString()})]}),(0,c.jsxs)("div",{className:"md:order-2 md:flex-grow",children:[(0,c.jsx)("h2",{className:"title-font mb-2 text-2xl font-medium text-gray-900 dark:text-white",children:s.caption}),"abstract"in s?(0,c.jsx)("p",{className:"leading-relaxed",children:s.abstract}):null,(0,c.jsxs)("span",{className:"mt-4 inline-flex items-center text-indigo-500",children:[(0,i.t)("learn more"),(0,c.jsx)(o.Z,{className:"ml-2 h-4 w-4"})]})]})]})]})})},u=function(e){var n=e.blogPosts,t=e.linkRoot;return(0,c.jsx)("div",{className:"-m-5 divide-y-2 divide-gray-100 dark:divide-gray-800",children:null===n||void 0===n?void 0:n.map((function(e){return(0,c.jsx)(s,{blog:e,linkRoot:t},e.itemKey)}))})}},4665:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.className;return(0,r.jsxs)("svg",{className:n,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M5 12h14"}),(0,r.jsx)("path",{d:"M12 5l7 7-7 7"})]})}},5410:function(e,n,t){t.d(n,{Z:function(){return b}});var r,a=t(885),i=t(2791),o=t(4165),l=t(5861),c=t(7408),s=t(9415),u=t(8642),d={alias:s.Ib.BlogMainContentDriveId.toString(),type:s.Hm.DriveType.toString()},v=function(e,n,t){var r=(0,u.Z)().getSharedSecret,a=(0,c.useQueryClient)(),i=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(n,t,a){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n&&""!==n){e.next=2;break}return e.abrupt("return");case 2:return i=new s.pt({api:s.Ii.YouAuth,sharedSecret:r()}),e.next=5,i.mediaProvider.getDecryptedImageUrl(null!==t&&void 0!==t?t:d,n,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();return{fetch:(0,c.useQuery)(["image",e,n,t],(function(){return i(e,n,t)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0}),testCache:function(e,n){return!!a.getQueryData(["image",e,n])}}},f={alias:s.Ib.BlogMainContentDriveId.toString(),type:s.Hm.DriveType.toString()},h=function(e,n){var t=(0,u.Z)().getSharedSecret,r=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(n,r){var a,i,l,c,u,d,v;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n&&""!==n){e.next=2;break}return e.abrupt("return");case 2:return i=new s.pt({api:s.Ii.YouAuth,sharedSecret:t()}),e.next=5,i.fileReadOnlyProvider.getFileEntryFromCache(n);case 5:if(null===(l=e.sent)||void 0===l||null===(a=l[0])||void 0===a||!a.header.fileMetadata.appData.previewThumbnail){e.next=11;break}return u=l[0].header.fileMetadata.appData.previewThumbnail,d=s.j4.base64ToUint8Array(u.content),v=window.URL.createObjectURL(new Blob([d])),e.abrupt("return",{naturalSize:{width:u.pixelWidth,height:u.pixelHeight},sizes:null!==(c=l[0].header.fileMetadata.appData.additionalThumbnails)&&void 0!==c?c:[],url:v});case 11:return e.next=13,i.mediaProvider.getDecryptedThumbnailMeta(null!==r&&void 0!==r?r:f,n);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,c.useQuery)(["tinyThumb",e,n],(function(){return r(e,n)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})},p=new WeakMap,m=function(e){e.forEach((function(e){if(p.has(e.target)){var n=p.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(r.unobserve(e.target),p.delete(e.target),n())}}))},g=function(){return void 0===r&&(r=new IntersectionObserver(m,{rootMargin:"100px",threshold:.15})),r},x=t(184),b=function(e){var n,t,r,o,l,c=e.targetDrive,s=e.fileId,u=e.cover,d=e.className,f=e.alt,m=e.title,b=(0,i.useState)(!1),y=(0,a.Z)(b,2),w=y[0],Z=y[1],k=(0,i.useState)(void 0),j=(0,a.Z)(k,2),I=j[0],N=j[1],S=(0,i.useRef)(null),C=h(w?s:void 0,c).data,P=v(void 0!==I?s:void 0,c,"full"!==I?I:void 0),R=P.fetch.data,T=P.testCache;o=S,l=function(){s&&T(s,c)&&D(),Z(!0)},(0,i.useEffect)((function(){var e=o.current,n=g();if(e)return p.set(e,l),n.observe(e),function(){p.delete(e),n.unobserve(e)}}),[]),(0,i.useEffect)((function(){var e;C&&null!==(e=C.url)&&void 0!==e&&e.length&&setTimeout((function(){D()}),100)}),[C]);var D=function(){var e,n,t;if(null!==C&&void 0!==C&&null!==(e=C.sizes)&&void 0!==e&&e.length&&S.current){var r=null===(n=S.current)||void 0===n?void 0:n.clientWidth,a=null===(t=S.current)||void 0===t?void 0:t.clientHeight,i=C.sizes.find((function(e){return r<e.pixelWidth&&a<e.pixelHeight}));N(i)}else N("full")},M=I?R?"loaded":"loading-full":w?C&&null!==(n=C.url)&&void 0!==n&&n.length?"tiny":"loading-tiny":"idle";return(0,x.jsx)("figure",{className:"".concat(-1!==(null===d||void 0===d?void 0:d.indexOf("absolute"))?"":"relative"," overflow-hidden ").concat(d),children:"loading-tiny"!==M?(0,x.jsx)("img",{src:"loaded"===M?R:null===C||void 0===C?void 0:C.url,alt:w&&null!==C&&void 0!==C&&C.url?f:" ",className:"".concat("loaded"!==M&&"blur-[50px]"," ").concat(u?"h-full w-full object-cover":""),title:m||"".concat(s,"@").concat(void 0!==I&&"full"!==I?"".concat(I.pixelWidth,"x").concat(I.pixelHeight):I),ref:S,width:null===C||void 0===C||null===(t=C.naturalSize)||void 0===t?void 0:t.width,height:null===C||void 0===C||null===(r=C.naturalSize)||void 0===r?void 0:r.height}):null})}},2085:function(e,n,t){var r=t(3504),a=t(184);n.Z=function(e){var n=e.className,t=e.items;return(0,a.jsx)("div",{className:"flex ".concat(n),children:t.map((function(e){return(0,a.jsx)(r.OL,{className:function(e){var n=e.isActive;return"flex-grow cursor-pointer border-b-2 py-2 px-1 text-lg ".concat(n?"border-indigo-500 text-indigo-500 dark:text-indigo-400":"border-gray-300 transition-colors duration-300 hover:border-indigo-400 dark:border-gray-800 hover:dark:border-indigo-600")},to:e.path,end:!0,children:e.title},e.key)}))})}},930:function(e,n,t){t.r(n);var r=t(2982),a=t(6907),i=t(2085),o=t(5322),l=t(805),c=t(4990),s=t(5533),u=t(184);n.default=function(){var e,n,t=(null!==(e=(0,l.Z)().data)&&void 0!==e?e:{}).channels,d=(null!==(n=(0,o.Z)({}).data)&&void 0!==n?n:{}).blogPosts;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.ql,{children:(0,u.jsxs)("title",{children:[(0,c.t)("blog")," | Youniverse"]})}),(0,u.jsx)("section",{className:"py-5",children:(0,u.jsx)("div",{className:"container mx-auto px-5",children:(0,u.jsxs)("section",{className:"body-font text-gray-600 dark:text-gray-400",children:[null!==t&&void 0!==t&&t.length?(0,u.jsx)(i.Z,{className:"mb-8",items:[{key:"",title:(0,c.t)("Recents"),path:"/home/blog"}].concat((0,r.Z)(t.map((function(e){return{key:e.channelId,title:e.name,path:"/home/blog/".concat(e.slug)}}))))}):null,d?(0,u.jsx)(s.Z,{blogPosts:d,linkRoot:"/home/blog/all/"}):null]})})})]})}},3990:function(e,n,t){t.d(n,{V:function(){return r}});var r=function(e){return e.split(" ").join("-").toLowerCase()}},5322:function(e,n,t){var r=t(4165),a=t(2982),i=t(7762),o=t(8683),l=t(5861),c=t(7408),s=t(9415),u=t(3990),d=t(8642),v=function(e){return e.reduce((function(e,n){return e.some((function(e){return e.id===n.id&&e.channelId===n.channelId}))?e:[].concat((0,a.Z)(e),[n])}),[])};n.Z=function(e){var n=e.channelId,t=(0,d.Z)().getSharedSecret,f=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(n){var l,c,d,f,h,p,m,g,x,b,y,w;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=n.channelId,c=new s.pt({api:s.Ii.YouAuth,sharedSecret:t()}),!l){e.next=21;break}return e.next=5,c.fileReadOnlyProvider.GetFile("blogs.json");case 5:if(!(f=e.sent).has(l)){e.next=10;break}d=null!==(h=null===(p=f.get(l))||void 0===p?void 0:p.map((function(e){var n=e.payload;return(0,o.Z)((0,o.Z)({},n),{},{slug:(0,u.V)("string"===typeof n.caption?n.caption:""),itemKey:"".concat(n.channelId,"_").concat(n.id)})})))&&void 0!==h?h:[],e.next=19;break;case 10:if(!(f.entries.length>1)){e.next=16;break}d=[],m=(0,i.Z)(f.keys());try{for(m.s();!(g=m.n()).done;)y=g.value,(d=[].concat((0,a.Z)(d),(0,a.Z)(null!==(x=null===(b=f.get(y))||void 0===b?void 0:b.map((function(e){var n=e.payload;return(0,o.Z)((0,o.Z)({},n),{},{slug:(0,u.V)("string"===typeof n.caption?n.caption:""),itemKey:"".concat(n.channelId,"_").concat(n.id)})})))&&void 0!==x?x:[]))).sort((function(e,n){return n.dateUnixTime-e.dateUnixTime}))}catch(r){m.e(r)}finally{m.f()}e.next=19;break;case 16:return e.next=18,c.blogPostReadonlyProvider.getPosts(l,"Article",void 0,10);case 18:d=e.sent.posts;case 19:e.next=24;break;case 21:return e.next=23,c.blogPostReadonlyProvider.getRecentPosts("Article",10);case 23:d=e.sent;case 24:return w=v(d).map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{slug:(0,u.V)(e.caption),itemKey:"".concat(e.channelId,"_").concat(e.id)})})),e.abrupt("return",{blogPosts:w});case 26:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,c.useQuery)(["blogs_recents",n],(function(){return f({channelId:n})}),{refetchOnMount:!1,refetchOnWindowFocus:!1,onError:function(e){console.log(e)}})}},805:function(e,n,t){var r=t(4165),a=t(8683),i=t(5861),o=t(7408),l=t(9415),c=t(3990),s=t(8642);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{channelSlug:""},n=e.channelSlug,t=(0,s.Z)(),u=t.getSharedSecret,d=function(e){return parseInt(e+"")===l.rJ.LargeCards?l.rJ.LargeCards:parseInt(e+"")===l.rJ.ClassicBlog?l.rJ.ClassicBlog:l.rJ.MasonryLayout},v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,o,s,v,f,h,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new l.pt({api:l.Ii.YouAuth,sharedSecret:u()}),e.next=3,o.fileReadOnlyProvider.GetFile("channels.json");case 3:if(!(v=e.sent).has("channels")){e.next=8;break}s=null!==(f=null===(h=v.get("channels"))||void 0===h?void 0:h.map((function(e){var n=e.payload;return(0,a.Z)((0,a.Z)({},n),{},{slug:(0,c.V)(null===n||void 0===n?void 0:n.name),template:d(null===n||void 0===n?void 0:n.templateId)})})))&&void 0!==f?f:[],e.next=11;break;case 8:return e.next=10,o.blogPostReadonlyProvider.getChannels();case 10:s=e.sent.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{slug:(0,c.V)(null===e||void 0===e?void 0:e.name),template:d(null===e||void 0===e?void 0:e.templateId)})}));case 11:return p=n&&null!==(t=null===(i=s)||void 0===i?void 0:i.find((function(e){return(0,c.V)(e.name)===n})))&&void 0!==t?t:void 0,e.abrupt("return",{channels:s,activeChannel:p});case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,o.useQuery)(["channels",n],(function(){return v(n)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})}}}]);
//# sourceMappingURL=930.9da00712.chunk.js.map