"use strict";(self.webpackChunkpublic_app=self.webpackChunkpublic_app||[]).push([[930],{5533:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(6715),a=t(3504),i=t(4990),o=t(4665),l=t(1824),c=t(184),s=function(e){var n,t=e.className,s=e.blog,u=e.linkRoot,d=s.channelId?{alias:s.channelId,type:r.Hm.ChannelDriveType.toString()}:void 0;return(0,c.jsx)("div",{className:"flex flex-nowrap px-5 py-8 transition-colors duration-200 hover:bg-slate-50 hover:dark:bg-slate-800 ".concat(null!==t&&void 0!==t?t:""),children:(0,c.jsxs)(a.rU,{to:"".concat(u).concat(null!==(n=s.slug)&&void 0!==n?n:"#"),className:"contents",children:[(0,c.jsx)("div",{className:"w-32 flex-shrink-0 pr-4 md:w-64 md:pr-8",children:d&&s.primaryImageFileId?(0,c.jsx)(l.Z,{className:"aspect-square w-full",fileId:s.primaryImageFileId,targetDrive:d,alt:"blog",cover:!0}):null}),(0,c.jsxs)("div",{className:"flex flex-col md:flex-grow md:flex-row",children:[(0,c.jsxs)("div",{className:"flex flex-shrink-0 md:order-3 md:mb-0 md:mt-3 md:w-32 md:flex-col md:text-right lg:w-64",children:[(0,c.jsx)("span",{className:"title-font font-semibold text-gray-700 dark:text-white",children:s.type.toUpperCase()}),(0,c.jsx)("span",{className:"pl-2 text-gray-500 md:mt-1 md:pl-0 md:text-sm",children:new Date(s.dateUnixTime).toLocaleDateString()})]}),(0,c.jsxs)("div",{className:"md:order-2 md:flex-grow",children:[(0,c.jsx)("h2",{className:"title-font mb-2 text-2xl font-medium text-gray-900 dark:text-white",children:s.caption}),"abstract"in s?(0,c.jsx)("p",{className:"leading-relaxed",children:s.abstract}):null,(0,c.jsxs)("span",{className:"mt-4 inline-flex items-center text-indigo-500",children:[(0,i.t)("learn more"),(0,c.jsx)(o.Z,{className:"ml-2 h-4 w-4"})]})]})]})]})})},u=function(e){var n=e.blogPosts,t=e.linkRoot;return(0,c.jsx)("div",{className:"-m-5 divide-y-2 divide-gray-100 dark:divide-gray-800",children:null===n||void 0===n?void 0:n.map((function(e){return(0,c.jsx)(s,{blog:e,linkRoot:t},e.itemKey)}))})}},4665:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.className;return(0,r.jsxs)("svg",{className:n,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M5 12h14"}),(0,r.jsx)("path",{d:"M12 5l7 7-7 7"})]})}},1824:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(885),a=t(2791),i=t(4165),o=t(5861),l=t(7408),c=t(6715),s=t(8642),u={alias:c.Ib.BlogMainContentDriveId.toString(),type:c.Hm.DriveType.toString()},d=function(e,n,t){var r=(0,s.Z)().getSharedSecret,a=(0,l.useQueryClient)(),d=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,t,a){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n&&""!==n){e.next=2;break}return e.abrupt("return");case 2:return o=new c.pt({api:c.Ii.YouAuth,sharedSecret:r()}),e.next=5,o.mediaProvider.getDecryptedImageUrl(null!==t&&void 0!==t?t:u,n,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();return{fetch:(0,l.useQuery)(["image",e,n,t],(function(){return d(e,n,t)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0}),testCache:function(e,n){return!!a.getQueryData(["image",e,n])}}},f={alias:c.Ib.BlogMainContentDriveId.toString(),type:c.Hm.DriveType.toString()},v=function(e,n){var t=(0,s.Z)().getSharedSecret,r=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(n,r){var a,o,l,s,u,d,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n&&""!==n){e.next=2;break}return e.abrupt("return");case 2:return o=new c.pt({api:c.Ii.YouAuth,sharedSecret:t()}),e.next=5,o.fileReadOnlyProvider.getFileEntryFromCache(n);case 5:if(null===(l=e.sent)||void 0===l||null===(a=l[0])||void 0===a||!a.header.fileMetadata.appData.previewThumbnail){e.next=11;break}return u=l[0].header.fileMetadata.appData.previewThumbnail,d=c.j4.base64ToUint8Array(u.content),v=window.URL.createObjectURL(new Blob([d])),e.abrupt("return",{naturalSize:{width:u.pixelWidth,height:u.pixelHeight},sizes:null!==(s=l[0].header.fileMetadata.appData.additionalThumbnails)&&void 0!==s?s:[],url:v});case 11:return e.next=13,o.mediaProvider.getDecryptedThumbnailMeta(null!==r&&void 0!==r?r:f,n);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,l.useQuery)(["tinyThumb",e,n],(function(){return r(e,n)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})},h=t(6430),p=t(184),g=function(e){var n,t,i,o=e.targetDrive,l=e.fileId,c=e.cover,s=e.className,u=e.alt,f=e.title,g=(0,a.useState)(!1),m=(0,r.Z)(g,2),x=m[0],b=m[1],y=(0,a.useState)(void 0),w=(0,r.Z)(y,2),k=w[0],Z=w[1],j=(0,a.useRef)(null),I=v(x?l:void 0,o).data,N=d(void 0!==k?l:void 0,o,"full"!==k?k:void 0),S=N.fetch.data,C=N.testCache;(0,h.s)(j,(function(){l&&C(l,o)&&P(),b(!0)})),(0,a.useEffect)((function(){var e;I&&null!==(e=I.url)&&void 0!==e&&e.length&&setTimeout((function(){P()}),100)}),[I]);var P=function(){var e,n,t;if(null!==I&&void 0!==I&&null!==(e=I.sizes)&&void 0!==e&&e.length&&j.current){var r=null===(n=j.current)||void 0===n?void 0:n.clientWidth,a=null===(t=j.current)||void 0===t?void 0:t.clientHeight,i=I.sizes.find((function(e){return r<e.pixelWidth&&a<e.pixelHeight}));Z(null!==i&&void 0!==i?i:"full")}else Z("full")},R=k?S?"loaded":"loading-full":x?I&&null!==(n=I.url)&&void 0!==n&&n.length?"tiny":"loading-tiny":"idle";return(0,p.jsx)("figure",{className:"".concat(-1!==(null===s||void 0===s?void 0:s.indexOf("absolute"))?"":"relative"," overflow-hidden ").concat(s),children:"loading-tiny"!==R?(0,p.jsx)("img",{src:"loaded"===R?S:null===I||void 0===I?void 0:I.url,alt:x&&null!==I&&void 0!==I&&I.url?u:" ",className:"".concat("loaded"!==R&&"blur-[50px]"," ").concat(c?"h-full w-full object-cover":""),title:f||"".concat(l,"@").concat(void 0!==k&&"full"!==k?"".concat(k.pixelWidth,"x").concat(k.pixelHeight):k),ref:j,width:null===I||void 0===I||null===(t=I.naturalSize)||void 0===t?void 0:t.width,height:null===I||void 0===I||null===(i=I.naturalSize)||void 0===i?void 0:i.height}):null})}},2085:function(e,n,t){var r=t(6871),a=t(3504),i=t(184);n.Z=function(e){var n=e.className,t=e.items,o=(0,r.s0)(),l=(null===t||void 0===t?void 0:t.length)>=6;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"hidden flex-col flex-wrap ".concat(l?"":"sm:flex"," sm:flex-row ").concat(null!==n&&void 0!==n?n:""),children:t.map((function(e){return(0,i.jsx)(a.OL,{className:function(n){var t,r=n.isActive;return"flex-grow cursor-pointer border-b-2 py-2 px-1 text-lg ".concat(r?"border-indigo-500 text-indigo-500 dark:text-indigo-400":"border-gray-300 transition-colors duration-300 hover:border-indigo-400 dark:border-gray-800 hover:dark:border-indigo-600"," ").concat(null!==(t=e.className)&&void 0!==t?t:"")},to:e.path,end:!0,children:e.title},e.key)}))}),(0,i.jsx)("select",{className:"".concat(l?"":"sm:hidden"," mb-8 w-full rounded border border-gray-300 bg-white py-4 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100"),onChange:function(e){return o(e.target.value)},defaultValue:window.location.pathname,children:t.map((function(e){return(0,i.jsx)("option",{value:e.path,children:e.text||e.title},e.key)}))})]})}},930:function(e,n,t){t.r(n);var r=t(2982),a=t(6907),i=t(2085),o=t(5322),l=t(805),c=t(4990),s=t(5533),u=t(184);n.default=function(){var e,n,t=(null!==(e=(0,l.Z)().data)&&void 0!==e?e:{}).channels,d=(null!==(n=(0,o.Z)({}).data)&&void 0!==n?n:{}).blogPosts;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(a.ql,{children:(0,u.jsxs)("title",{children:[(0,c.t)("blog")," | Youniverse"]})}),(0,u.jsx)("section",{className:"py-5",children:(0,u.jsx)("div",{className:"container mx-auto px-5",children:(0,u.jsxs)("section",{className:"body-font text-gray-600 dark:text-gray-400",children:[null!==t&&void 0!==t&&t.length?(0,u.jsx)(i.Z,{className:"mb-8",items:[{key:"",title:(0,c.t)("Recents"),path:"/home/blog"}].concat((0,r.Z)(t.map((function(e){return{key:e.channelId,title:e.name,path:"/home/blog/".concat(e.slug)}}))))}):null,d?(0,u.jsx)(s.Z,{blogPosts:d,linkRoot:"/home/blog/all/"}):null]})})})]})}},3990:function(e,n,t){t.d(n,{V:function(){return r}});var r=function(e){return e.split(" ").join("-").toLowerCase()}},5322:function(e,n,t){var r=t(4165),a=t(2982),i=t(7762),o=t(8683),l=t(5861),c=t(7408),s=t(6715),u=t(3990),d=t(8642),f=function(e){return e.reduce((function(e,n){return e.some((function(e){return e.id===n.id&&e.channelId===n.channelId}))?e:[].concat((0,a.Z)(e),[n])}),[])};n.Z=function(e){var n=e.channelId,t=(0,d.Z)().getSharedSecret,v=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(n){var l,c,d,v,h,p,g,m,x,b,y,w;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=n.channelId,c=new s.pt({api:s.Ii.YouAuth,sharedSecret:t()}),!l){e.next=21;break}return e.next=5,c.fileReadOnlyProvider.GetFile("blogs.json");case 5:if(!(v=e.sent).has(l)){e.next=10;break}d=null!==(h=null===(p=v.get(l))||void 0===p?void 0:p.map((function(e){var n=e.payload;return(0,o.Z)((0,o.Z)({},n),{},{slug:(0,u.V)("string"===typeof n.caption?n.caption:""),itemKey:"".concat(n.channelId,"_").concat(n.id)})})))&&void 0!==h?h:[],e.next=19;break;case 10:if(!(v.entries.length>1)){e.next=16;break}d=[],g=(0,i.Z)(v.keys());try{for(g.s();!(m=g.n()).done;)y=m.value,(d=[].concat((0,a.Z)(d),(0,a.Z)(null!==(x=null===(b=v.get(y))||void 0===b?void 0:b.map((function(e){var n=e.payload;return(0,o.Z)((0,o.Z)({},n),{},{slug:(0,u.V)("string"===typeof n.caption?n.caption:""),itemKey:"".concat(n.channelId,"_").concat(n.id)})})))&&void 0!==x?x:[]))).sort((function(e,n){return n.dateUnixTime-e.dateUnixTime}))}catch(r){g.e(r)}finally{g.f()}e.next=19;break;case 16:return e.next=18,c.blogPostReadonlyProvider.getPosts(l,"Article",void 0,10);case 18:d=e.sent.posts;case 19:e.next=24;break;case 21:return e.next=23,c.blogPostReadonlyProvider.getRecentPosts("Article",10);case 23:d=e.sent;case 24:return w=f(d).map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{slug:(0,u.V)(e.caption),itemKey:"".concat(e.channelId,"_").concat(e.id)})})),e.abrupt("return",{blogPosts:w});case 26:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,c.useQuery)(["blogs_recents",n],(function(){return v({channelId:n})}),{refetchOnMount:!1,refetchOnWindowFocus:!1,onError:function(e){console.log(e)}})}},805:function(e,n,t){var r=t(4165),a=t(8683),i=t(5861),o=t(7408),l=t(6715),c=t(3990),s=t(8642);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{channelSlug:""},n=e.channelSlug,t=(0,s.Z)(),u=t.getSharedSecret,d=function(e){return parseInt(e+"")===l.rJ.LargeCards?l.rJ.LargeCards:parseInt(e+"")===l.rJ.ClassicBlog?l.rJ.ClassicBlog:l.rJ.MasonryLayout},f=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t,i,o,s,f,v,h,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new l.pt({api:l.Ii.YouAuth,sharedSecret:u()}),e.next=3,o.fileReadOnlyProvider.GetFile("channels.json");case 3:if(!(f=e.sent).has("channels")){e.next=8;break}s=null!==(v=null===(h=f.get("channels"))||void 0===h?void 0:h.map((function(e){var n=e.payload;return(0,a.Z)((0,a.Z)({},n),{},{slug:(0,c.V)(null===n||void 0===n?void 0:n.name),template:d(null===n||void 0===n?void 0:n.templateId)})})))&&void 0!==v?v:[],e.next=11;break;case 8:return e.next=10,o.blogPostReadonlyProvider.getChannels();case 10:s=e.sent.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{slug:(0,c.V)(null===e||void 0===e?void 0:e.name),template:d(null===e||void 0===e?void 0:e.templateId)})}));case 11:return p=n&&null!==(t=null===(i=s)||void 0===i?void 0:i.find((function(e){return(0,c.V)(e.name)===n})))&&void 0!==t?t:void 0,e.abrupt("return",{channels:s,activeChannel:p});case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,o.useQuery)(["channels",n],(function(){return f(n)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})}},6430:function(e,n,t){t.d(n,{s:function(){return c}});var r,a=t(2791),i=new WeakMap,o=function(e){e.forEach((function(e){if(i.has(e.target)){var n=i.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(r.unobserve(e.target),i.delete(e.target),n())}}))},l=function(){return void 0===r&&(r=new IntersectionObserver(o,{rootMargin:"100px",threshold:.15})),r},c=function(e,n){(0,a.useEffect)((function(){var t=e.current,r=l();if(t)return i.set(t,n),r.observe(t),function(){i.delete(t),r.unobserve(t)}}),[])}}}]);
//# sourceMappingURL=930.a03de225.chunk.js.map