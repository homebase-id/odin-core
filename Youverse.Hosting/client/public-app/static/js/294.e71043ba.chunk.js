"use strict";(self.webpackChunkpublic_app=self.webpackChunkpublic_app||[]).push([[294],{4665:function(e,t,n){var r=n(184);t.Z=function(e){var t=e.className;return(0,r.jsxs)("svg",{className:t,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M5 12h14"}),(0,r.jsx)("path",{d:"M12 5l7 7-7 7"})]})}},1788:function(e,t,n){n.d(t,{Z:function(){return d}});var r,a=n(885),o=n(2791),i=n(9309),l=new WeakMap,s=function(e){e.forEach((function(e){if(l.has(e.target)){var t=l.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(r.unobserve(e.target),l.delete(e.target),t())}}))},c=function(){return void 0===r&&(r=new IntersectionObserver(s,{rootMargin:"100px",threshold:.15})),r},u=n(184),d=function(e){var t,n,r=e.targetDrive,s=e.fileId,d=e.className,f=e.alt,m=e.title,g=(0,o.useState)(!1),p=(0,a.Z)(g,2),h=p[0],v=p[1],x=(0,o.useRef)(null),b=(0,i.Z)(h?s:void 0,r).data;return t=x,n=function(){v(!0)},(0,o.useEffect)((function(){var e=t.current,r=c();if(e)return l.set(e,n),r.observe(e),function(){l.delete(e),r.unobserve(e)}}),[]),(0,u.jsx)("img",{src:b,alt:h&&b?f:" ",className:"".concat(d," ").concat((!h||!b)&&"h-full w-full animate-pulse bg-slate-100"),title:m,ref:x})}},7238:function(e,t,n){var r=n(6752),a=n(3504),o=n(1788),i=n(4665),l=n(4990),s=n(184);t.Z=function(e){var t,n=e.className,c=e.blog,u=e.linkRoot,d=c.channelId?{alias:c.channelId,type:r.Hm.ChannelDriveType.toString()}:void 0;return(0,s.jsx)("div",{className:"".concat(null!==n&&void 0!==n?n:""),children:(0,s.jsx)(a.rU,{to:"".concat(u).concat(null!==(t=c.slug)&&void 0!==t?t:"#"),className:"contents",children:(0,s.jsxs)("div",{className:"h-full overflow-hidden rounded-lg border-2 border-gray-200 border-opacity-60 bg-white transition-colors duration-300 hover:bg-slate-50 dark:border-gray-800 dark:bg-gray-800 hover:dark:bg-slate-700",children:[c.primaryImageFileId&&d?(0,s.jsx)(o.Z,{className:"h-64 w-full object-cover object-center md:h-36 lg:h-48",title:c.primaryImageFileId,fileId:c.primaryImageFileId,targetDrive:d,alt:"blog"}):null,(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h2",{className:"title-font mb-1 text-xs font-medium tracking-widest text-gray-400 dark:text-gray-600",children:c.type.toUpperCase()}),(0,s.jsx)("span",{className:"text-gray-500 md:mt-1 md:text-sm",children:new Date(c.dateUnixTime).toLocaleDateString()}),(0,s.jsx)("h1",{className:"title-font mb-3 text-lg font-medium text-gray-900 dark:text-white",children:c.caption}),"abstract"in c?(0,s.jsx)("p",{className:"mb-3 leading-relaxed",children:c.abstract}):null,(0,s.jsx)("div",{className:"flex flex-wrap items-center ",children:(0,s.jsxs)("span",{className:"inline-flex items-center text-indigo-500 dark:text-indigo-400 md:mb-2 lg:mb-0",children:[(0,l.t)("learn more"),(0,s.jsx)(i.Z,{className:"ml-2 h-4 w-4"})]})})]})]})})})}},9294:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r,a=n(4165),o=n(5861),i=n(2982),l=n(885),s=n(6907),c=n(3504),u=n(184),d=function(e){var t=e.className,n=e.items;return(0,u.jsx)("div",{className:"flex ".concat(t),children:n.map((function(e){return(0,u.jsx)(c.OL,{className:function(e){var t=e.isActive;return"flex-grow cursor-pointer border-b-2 py-2 px-1 text-lg ".concat(t?"border-indigo-500 text-indigo-500 dark:text-indigo-400":"border-gray-300 transition-colors duration-300 hover:border-indigo-400 dark:border-gray-800 hover:dark:border-indigo-600")},to:e.path,end:!0,children:e.title},e.key)}))})},f=n(6752),m=n(4990),g=n(4665),p=n(1788),h=function(e){var t,n=e.className,r=e.blog,a=e.linkRoot,o=r.channelId?{alias:r.channelId,type:f.Hm.ChannelDriveType.toString()}:void 0;return(0,u.jsx)("div",{className:"flex flex-nowrap px-5 py-8 transition-colors duration-200 hover:bg-slate-50 hover:dark:bg-slate-800 ".concat(null!==n&&void 0!==n?n:""),children:(0,u.jsxs)(c.rU,{to:"".concat(a).concat(null!==(t=r.slug)&&void 0!==t?t:"#"),className:"contents",children:[(0,u.jsx)("div",{className:"w-32 flex-shrink-0 pr-4 md:w-64 md:pr-8",children:o&&r.primaryImageFileId?(0,u.jsx)(p.Z,{className:"aspect-square w-full object-cover",title:r.primaryImageFileId,fileId:r.primaryImageFileId,targetDrive:o,alt:"blog"}):null}),(0,u.jsxs)("div",{className:"flex flex-col md:flex-grow md:flex-row",children:[(0,u.jsxs)("div",{className:"flex flex-shrink-0 md:order-3 md:mb-0 md:mt-3 md:w-32 md:flex-col md:text-right lg:w-64",children:[(0,u.jsx)("span",{className:"title-font font-semibold text-gray-700 dark:text-white",children:r.type.toUpperCase()}),(0,u.jsx)("span",{className:"pl-2 text-gray-500 md:mt-1 md:pl-0 md:text-sm",children:new Date(r.dateUnixTime).toLocaleDateString()})]}),(0,u.jsxs)("div",{className:"md:order-2 md:flex-grow",children:[(0,u.jsx)("h2",{className:"title-font mb-2 text-2xl font-medium text-gray-900 dark:text-white",children:r.caption}),"abstract"in r?(0,u.jsx)("p",{className:"leading-relaxed",children:r.abstract}):null,(0,u.jsxs)("span",{className:"mt-4 inline-flex items-center text-indigo-500",children:[(0,m.t)("learn more"),(0,u.jsx)(g.Z,{className:"ml-2 h-4 w-4"})]})]})]})]})})},v=n(7238),x=n(6871),b=n(5322),y=n(2791),j=n(805),w=function(e){var t=e.blogPosts,n=e.linkRoot;return(0,u.jsx)("div",{className:"-m-5 divide-y-2 divide-gray-100 dark:divide-gray-800",children:null===t||void 0===t?void 0:t.map((function(e){return(0,u.jsx)(h,{blog:e,linkRoot:n},e.itemKey)}))})},k=function(e){var t=e.blogPosts,n=e.linkRoot;return(0,u.jsx)("div",{className:"-m-4 flex flex-wrap",children:null===t||void 0===t?void 0:t.map((function(e){return(0,u.jsx)(v.Z,{blog:e,className:"p-4 md:w-1/2 lg:w-1/3 ",linkRoot:n},e.itemKey)}))})},Z=function(e){var t=e.blogPosts,n=e.linkRoot,r=(0,y.useState)(1),a=(0,l.Z)(r,2),o=a[0],i=a[1],s=(0,y.useCallback)((function(){var e=document.documentElement.clientWidth;i(e>=1280?4:e>=1024?3:e>=640?2:1)}),[]);return(0,y.useEffect)((function(){return window.addEventListener("resize",s),s(),function(){window.removeEventListener("resize",s)}}),[s]),(0,u.jsx)("div",{className:"-my-4 gap-4 sm:columns-2 lg:columns-3 xl:columns-4",children:function(e,t){for(var n=t,r=[],a=0;a<n;){for(var o=0;o<e.length;o+=n){var i=e[o+a];void 0!==i&&r.push(i)}a++}return r}(t,o).map((function(e){return(0,u.jsx)(v.Z,{className:"py-2",blog:e,linkRoot:n},e.itemKey)}))})},N=function(){var e,t=(0,x.UO)().channelKey,n=(0,y.useState)(1),c=(0,l.Z)(n,2),g=c[0],p=c[1],h=null!==(e=(0,j.Z)(t?{channelSlug:t}:void 0).data)&&void 0!==e?e:{},v=h.channels,N=h.activeChannel,I=(0,b.Z)({channelId:null===N||void 0===N?void 0:N.channelId,page:g}),O=I.data,P=I.isFetched,S=I.isLoading,C=(0,y.useState)([]),D=(0,l.Z)(C,2),R=D[0],L=D[1],E=(0,y.useRef)(null),F=(0,y.useState)(!1),M=(0,l.Z)(F,2),U=M[0],J=M[1],T=N?N.template===f.rJ.LargeCards?k:N.template===f.rJ.MasonryLayout?Z:w:w,A="/home/blog/".concat(null!==N&&void 0!==N&&N.slug?N.slug+"/":"all/");(0,y.useEffect)((function(){return r||(r=new IntersectionObserver((function(e){e[0].isIntersecting&&J(!0)}),{rootMargin:"0px 0px 200px 0px"})),E.current&&r.observe(E.current),function(){var e;null===(e=r)||void 0===e||e.disconnect(),r=null}}),[E,E.current]),(0,y.useEffect)((function(){if(null!==O&&void 0!==O&&O.blogPosts&&R.length<g){var e=(0,i.Z)(R);e.push(O.blogPosts),L(e)}}),[null===O||void 0===O?void 0:O.blogPosts]),(0,y.useEffect)((function(){(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U&&P&&p(g+1),J(!1);case 2:case"end":return e.stop()}}),e)})))()}),[U]);var W=R.flat(1);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s.ql,{children:(0,u.jsxs)("title",{children:[(0,m.t)("blog")," | Youniverse"]})}),(0,u.jsx)("section",{className:"py-5",children:(0,u.jsx)("div",{className:"container mx-auto px-5",children:(0,u.jsxs)("section",{className:"body-font text-gray-600 dark:text-gray-400",children:[null!==v&&void 0!==v&&v.length?(0,u.jsx)(d,{className:"mb-8",items:[{key:"",title:(0,m.t)("all"),path:"/home/blog"}].concat((0,i.Z)(v.map((function(e){return{key:e.channelId,title:e.name,path:"/home/blog/".concat(e.slug)}}))))}):null,W?(0,u.jsx)(T,{blogPosts:W,linkRoot:A}):null,(0,u.jsx)("a",{onClick:function(e){return e.preventDefault(),S||p(g+1),!1},className:"my-10 block w-full cursor-pointer rounded border-0 bg-indigo-500 py-2 px-4 text-center text-white hover:bg-indigo-600 focus:outline-none ".concat(null!==W&&void 0!==W&&W.length?"":"hidden"),ref:E,children:S?(0,m.t)("loading")+"...":(0,m.t)("load more")})]})})})]})}},5322:function(e,t,n){var r=n(2982),a=n(4165),o=n(8683),i=n(5861),l=n(7408),s=n(6752),c=n(8642),u=function(e){return e.reduce((function(e,t){return e.some((function(e){return e.id===t.id&&e.channelId===t.channelId}))?e:[].concat((0,r.Z)(e),[t])}),[])},d=function(e){return e.split(" ").join("-").toLowerCase()};t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:1},t=e.channelId,n=e.page,r=(0,c.Z)(),f=r.getSharedSecret,m=10,g=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n,r,l,c,g,p=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{page:1},n=t.channelId,r=t.page,l=new s.XC({api:s.Ii.YouAuth,sharedSecret:f()}),c=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,l.blogPostReadonlyProvider.getPosts(n,"Article",t,m);case 3:r=e.sent,e.next=9;break;case 6:return e.next=8,l.blogPostReadonlyProvider.getRecentPosts("Article",t,m);case 8:r=e.sent;case 9:return r=u(r).map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{slug:d(e.caption),itemKey:"".concat(e.channelId,"_").concat(e.id,"_page-").concat(t)})})),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.next=5,c(r,n);case 5:return g=e.sent,g=u(g).map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{slug:d(e.caption)})})),e.abrupt("return",{blogPosts:g});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useQuery)(["blogs",t,n],(function(){return g({channelId:t,page:n})}),{refetchOnMount:!1,refetchOnWindowFocus:!1})}},805:function(e,t,n){var r=n(4165),a=n(8683),o=n(5861),i=n(7408),l=n(6752),s=n(8642);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{channelSlug:""},t=e.channelSlug,n=(0,s.Z)(),u=n.getSharedSecret,d=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){var n,o,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new l.XC({api:l.Ii.YouAuth,sharedSecret:u()}),e.next=3,o.blogPostReadonlyProvider.getChannels();case 3:return i=e.sent.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{slug:c(e.name),template:parseInt((null===e||void 0===e?void 0:e.templateId)+"")===l.rJ.LargeCards?l.rJ.LargeCards:parseInt((null===e||void 0===e?void 0:e.templateId)+"")===l.rJ.ClassicBlog?l.rJ.ClassicBlog:l.rJ.MasonryLayout})})),s=t&&null!==(n=null===i||void 0===i?void 0:i.find((function(e){return c(e.name)===t})))&&void 0!==n?n:void 0,e.abrupt("return",{channels:i,activeChannel:s});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,i.useQuery)(["channels",t],(function(){return d(t)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})};var c=function(e){return e.split(" ").join("-").toLowerCase()}},9309:function(e,t,n){var r=n(4165),a=n(5861),o=n(7408),i=n(6752),l=n(8642),s={alias:i.Ib.BlogMainContentDriveId.toString(),type:i.Hm.DriveType.toString()};t.Z=function(e,t){var n=(0,l.Z)().getSharedSecret,c=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,a){var o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&""!==t){e.next=2;break}return e.abrupt("return");case 2:return o=new i.XC({api:i.Ii.YouAuth,sharedSecret:n()}),e.next=5,o.mediaProvider.getDecryptedImageUrl(null!==a&&void 0!==a?a:s,t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,o.useQuery)(["image",e,t],(function(){return c(e,t)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})}},8683:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:function(){return o}})}}]);
//# sourceMappingURL=294.e71043ba.chunk.js.map