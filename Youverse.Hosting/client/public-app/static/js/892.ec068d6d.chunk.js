"use strict";(self.webpackChunkpublic_app=self.webpackChunkpublic_app||[]).push([[892],{2892:function(e,n,t){t.r(n);var r=t(6907),i=t(4990),o=t(4257),a=t(2955),l=t(184);n.default=function(){var e=(0,o.Z)({pageSize:100}).fetch.data;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.ql,{children:(0,l.jsxs)("title",{children:[(0,i.t)("Connections")," | Youniverse"]})}),(0,l.jsx)("section",{className:"py-5",children:(0,l.jsx)("div",{className:"container mx-auto px-5",children:null!==e&&void 0!==e&&e.length?(0,l.jsx)("div",{className:"-m-3 flex flex-wrap",children:e.map((function(e,n){return(0,l.jsx)(a.Z,{dotYouId:e},n)}))}):null})})]})}},2955:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(885),i=t(2791),o=t(4165),a=t(8683),l=t(5861),u=t(7408),c=t(3469),d=function(e){var n=e.dotYouId,t=new c.pt({api:c.Ii.YouAuth,root:n}),r=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(n){var r,i,l,u,d,s,v,f,h,p,g,x,m,b;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.dotYouId){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.fileReadOnlyProvider.GetFile("public.json");case 5:return v=e.sent,f=null===(r=v.get("name"))||void 0===r?void 0:r[0],h=null===(i=v.get("photo"))||void 0===i?void 0:i[0],p=null===(l=v.get(null===h||void 0===h||null===(u=h.payload)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.profileImageId))||void 0===l?void 0:l[0],g=null===p||void 0===p||null===(s=p.additionalThumbnails)||void 0===s?void 0:s.reduce((function(e,n){return e.pixelWidth<n.pixelWidth&&n.pixelWidth<=250?n:e}),(0,a.Z)((0,a.Z)({},p.header.fileMetadata.appData.previewThumbnail),{},{pixelWidth:20,pixelHeight:20})),x=null!==g&&void 0!==g&&g.content?c.j4.base64ToUint8Array(g.content):void 0,m=x?window.URL.createObjectURL(new Blob([x])):void 0,b={name:(0,a.Z)({},null===f||void 0===f?void 0:f.payload.data),profileImage:{naturalSize:{width:null===g||void 0===g?void 0:g.pixelWidth,height:null===g||void 0===g?void 0:g.pixelHeight},contentType:null===g||void 0===g?void 0:g.contentType,url:m}},e.abrupt("return",b);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetch:(0,u.useQuery)(["connectionDetails",n],(function(){return r({dotYouId:n})}),{refetchOnWindowFocus:!1})}},s=t(6430),v=t(184),f=function(e){var n,t,o,a,l,u=e.dotYouId,c=(0,i.useState)(!1),f=(0,r.Z)(c,2),h=f[0],p=f[1],g=(0,i.useRef)(null),x=d({dotYouId:h?u:void 0}).fetch.data,m=null!==x&&void 0!==x&&null!==(n=x.name)&&void 0!==n&&n.givenName?"".concat(null!==(t=null===(o=x.name)||void 0===o?void 0:o.givenName)&&void 0!==t?t:""," ").concat(null!==(a=null===(l=x.name)||void 0===l?void 0:l.surname)&&void 0!==a?a:""):void 0;return(0,s.s)(g,(function(){p(!0)})),(0,v.jsx)("div",{className:"w-full p-2 md:w-1/2 lg:w-1/3",ref:g,children:(0,v.jsx)("a",{href:"https://".concat(u),target:"_blank",rel:"noreferrer noopener",className:"contents",children:(0,v.jsxs)("div",{className:"flex h-full items-center rounded-lg border border-gray-200 p-4 hover:bg-gray-200 dark:border-gray-700 dark:hover:bg-gray-800",children:[null!==x&&void 0!==x&&x.profileImage?(0,v.jsx)("img",{src:x.profileImage.url,width:x.profileImage.naturalSize.width,height:x.profileImage.naturalSize.height,className:"mr-4 h-16 w-16 flex-shrink-0 rounded-full bg-gray-100 object-cover object-center"}):(0,v.jsx)("div",{className:"mr-4 h-16 w-16 flex-shrink-0 rounded-full bg-gray-100 object-cover object-center"}),(0,v.jsxs)("div",{className:"flex-grow",children:[(0,v.jsx)("h2",{className:"title-font font-medium text-gray-900 dark:text-white",children:null!==m&&void 0!==m?m:u}),(0,v.jsx)("p",{className:"text-gray-500",children:""}),(0,v.jsx)("p",{className:"text-right text-sm text-gray-500",children:u})]})]})})})}},4257:function(e,n,t){var r=t(4165),i=t(5861),o=t(7408),a=t(3469),l=t(8642);n.Z=function(e){var n=e.pageSize,t=(0,l.Z)().getSharedSecret,u=new a.pt({api:a.Ii.YouAuth,sharedSecret:t()}),c=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.pageSize,t()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,u.circleNetworkReadOnlyProvider.getConnections({pageNumber:1,pageSize:null!==i&&void 0!==i?i:10});case 5:return e.abrupt("return",e.sent.results);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetch:(0,o.useQuery)(["connections",n],(function(){return c({pageSize:n})}),{refetchOnMount:!1,refetchOnWindowFocus:!1})}}},6430:function(e,n,t){t.d(n,{s:function(){return u}});var r,i=t(2791),o=new WeakMap,a=function(e){e.forEach((function(e){if(o.has(e.target)){var n=o.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(r.unobserve(e.target),o.delete(e.target),n())}}))},l=function(){return void 0===r&&(r=new IntersectionObserver(a,{rootMargin:"100px",threshold:.15})),r},u=function(e,n){(0,i.useEffect)((function(){var t=e.current,r=l();if(t)return o.set(t,n),r.observe(t),function(){o.delete(t),r.unobserve(t)}}),[])}}}]);
//# sourceMappingURL=892.ec068d6d.chunk.js.map