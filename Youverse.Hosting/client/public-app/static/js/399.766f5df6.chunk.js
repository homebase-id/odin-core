"use strict";(self.webpackChunkpublic_app=self.webpackChunkpublic_app||[]).push([[399],{1364:function(e,n,t){var r=t(9631),a=t(3504),l=t(1824),s=t(706),i=t(4990),c=t(8602),o=t(2170),d=t(7764),u=t(184);n.Z=function(e){var n,t=e.className,m=e.blog,x=e.isSingleCol,h=e.hideImageWhenNone,p=e.showChannel,f=(0,d.Z)({channelId:m.channelId}).data;return(0,u.jsx)("div",{className:"w-full ".concat(null!==t&&void 0!==t?t:""),children:(0,u.jsx)(a.rU,{to:"/home/posts/".concat(null===f||void 0===f?void 0:f.slug,"/").concat(null!==(n=m.slug)&&void 0!==n?n:"#"),className:"contents",children:(0,u.jsxs)("div",{className:"relative h-full overflow-hidden rounded-lg border border-gray-200 border-opacity-60 transition-colors hover:shadow-md dark:border-gray-800 hover:dark:shadow-slate-600 ",children:[(!h||m.primaryImageFileId)&&(0,u.jsx)("div",{className:"relative ".concat(x?"sm:p-6 sm:pb-2":""),children:m.primaryImageFileId?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.Z,{className:"".concat(x&&"sm:rounded-lg"," ").concat("Image"===m.type||"Video"===m.type?"h-full max-h-[30rem] w-auto":"h-64 w-full md:h-36 lg:h-48"," ").concat("Image"===m.type&&""," ").concat("Video"===m.type&&"aspect-video"),fileId:m.primaryImageFileId,targetDrive:(0,r.V7)(m.channelId),alt:"blog",cover:!0}),"Video"===m.type&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(c.Z,{className:"absolute top-[calc(50%-2.5rem)] left-[calc(50%-2.5rem)] h-20 w-20 text-white"})})]}):h?null:(0,u.jsx)("div",{className:"max-w-full overflow-hidden text-ellipsis whitespace-nowrap bg-slate-50 text-slate-200 dark:bg-slate-700 dark:text-slate-600 ".concat(x&&"sm:rounded-lg"," ").concat("Image"===m.type||"Video"===m.type?"h-full max-h-[30rem] w-auto":"h-64 w-full md:h-36 lg:h-48"," ").concat("Video"===m.type&&"aspect-video"),children:(0,u.jsx)("p",{className:"p-2 text-9xl ",children:m.caption})})}),(0,u.jsxs)("div",{className:"px-6 py-4",children:[(0,u.jsxs)("div",{className:"flex flex-row text-foreground text-opacity-40",children:[(0,u.jsx)("span",{className:"my-auto text-xs",children:new Date(m.dateUnixTime).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),(0,u.jsxs)("h2",{className:"my-auto ml-2 border-l pl-2 text-xs font-medium uppercase tracking-wide dark:border-slate-500",children:[m.type,p&&null!==f&&void 0!==f&&f.name?" - ".concat(null===f||void 0===f?void 0:f.name):""]})]}),(0,u.jsx)("h1",{className:"text-lg font-medium text-foreground text-opacity-90",children:m.caption}),"Article"===m.type?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("p",{className:"my-3 leading-relaxed",children:m.abstract}),(0,u.jsx)("div",{className:"flex flex-wrap items-center ",children:(0,u.jsxs)("span",{className:"inline-flex items-center text-button md:mb-2 lg:mb-0",children:[(0,i.t)("Read more"),(0,u.jsx)(s.Z,{className:"ml-2 h-4 w-4"})]})})]}):null]}),(0,u.jsx)("div",{className:"absolute bottom-0 right-0 flex items-center p-5 text-sm text-gray-300",children:(0,u.jsxs)("span",{className:"inline-flex items-center",children:[(0,u.jsx)(o.Z,{className:"mr-1 inline-block h-4 w-4"})," 6"]})})]})})})}},706:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.className;return(0,r.jsxs)("svg",{className:n,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M5 12h14"}),(0,r.jsx)("path",{d:"M12 5l7 7-7 7"})]})}},2170:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.className;return(0,r.jsx)("svg",{className:n,stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"})})}},8602:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.className;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",className:n,children:(0,r.jsx)("path",{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"})})}},316:function(e,n,t){var r=t(184);n.Z=function(e){var n=e.className,t=void 0===n?"w-full h-2 m-0":n;return(0,r.jsx)("div",{className:"".concat(t," animate-pulse rounded bg-slate-100 dark:bg-slate-700")})}},5322:function(e,n,t){var r=t(4165),a=t(2982),l=t(7762),s=t(5861),i=t(7408),c=t(9631),o=t(7686);n.Z=function(e){var n=e.channelId,t=e.postType,d=e.pageSize,u=void 0===d?10:d,m=(0,o.Z)(),x=m.getSharedSecret,h=m.getApiType,p=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(n){var s,i,o,d,m,p,f,v,g,b,y;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.channelId,i=new c.pt({api:h(),sharedSecret:x()}),e.next=4,i.fileReadOnlyProvider.GetFile("blogs.json");case 4:if(o=e.sent,!s){e.next=15;break}if(!o.has(s)){e.next=10;break}d=null!==(m=null===(p=o.get(s))||void 0===p?void 0:p.map((function(e){return e.payload})).filter((function(e){return!t||e.type===t})))&&void 0!==m?m:[],e.next=13;break;case 10:return e.next=12,i.blogPostReadonlyProvider.getPosts(s,t,void 0,u);case 12:d=e.sent.results.map((function(e){return e.content}));case 13:e.next=24;break;case 15:if(!(o.size>=1)){e.next=21;break}d=[],f=(0,l.Z)(o.keys());try{for(f.s();!(v=f.n()).done;)y=v.value,(d=[].concat((0,a.Z)(d),(0,a.Z)(null!==(g=null===(b=o.get(y))||void 0===b?void 0:b.map((function(e){return e.payload})).filter((function(e){return!t||e.type===t})))&&void 0!==g?g:[]))).sort((function(e,n){return n.dateUnixTime-e.dateUnixTime}))}catch(r){f.e(r)}finally{f.f()}e.next=24;break;case 21:return e.next=23,i.blogPostReadonlyProvider.getRecentPosts(t,u);case 23:d=e.sent.results.map((function(e){return e.content}));case 24:return e.abrupt("return",d.filter((function(e){return void 0!==e&&void 0!==e.id})).slice(0,u));case 25:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,i.useQuery)(["blog-recents",n],(function(){return p({channelId:n})}),{refetchOnMount:!1,refetchOnWindowFocus:!1,onError:function(e){console.log(e)}})}},7764:function(e,n,t){var r=t(4165),a=t(8683),l=t(5861),s=t(7408),i=t(9631),c=t(7686),o=t(805);n.Z=function(e){var n=e.channelSlug,t=e.channelId,d=(0,c.Z)(),u=d.getSharedSecret,m=d.getApiType,x=function(){var e=(0,l.Z)((0,r.Z)().mark((function e(n){var t,l,s,c,d,x;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.channelSlug,l=n.channelId,t||l){e.next=3;break}return e.abrupt("return");case 3:return s=new i.pt({api:m(),sharedSecret:u()}),c=void 0,e.next=7,s.fileReadOnlyProvider.GetFile("blogs.json");case 7:if((d=e.sent)&&d.forEach((function(e){var n=e.find((function(e){return e.header.fileMetadata.appData.fileType===i.Hm.ChannelDefinitionFileType&&(t?e.payload.slug===t:e.payload.channelId===l)}));n&&(c=n.payload)})),c){e.next=25;break}if(!t){e.next=16;break}return e.next=13,s.blogPostReadonlyProvider.getChannelDefinitionBySlug(t);case 13:e.t0=e.sent,e.next=24;break;case 16:if(!l){e.next=22;break}return e.next=19,s.blogPostReadonlyProvider.getChannelDefinition(l);case 19:e.t1=e.sent,e.next=23;break;case 22:e.t1=void 0;case 23:e.t0=e.t1;case 24:c=e.t0;case 25:if(!c){e.next=27;break}return e.abrupt("return",(0,a.Z)((0,a.Z)({},c),{},{template:(0,o.B)(null===(x=c)||void 0===x?void 0:x.templateId)}));case 27:return e.abrupt("return");case 28:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,s.useQuery)(["channel",n||t],(function(){return x({channelSlug:n,channelId:t})}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})}},805:function(e,n,t){t.d(n,{B:function(){return d}});var r=t(4165),a=t(8683),l=t(2982),s=t(5861),i=t(7408),c=t(9631),o=t(7686),d=function(e){return parseInt(e+"")===c.rJ.LargeCards?c.rJ.LargeCards:parseInt(e+"")===c.rJ.MasonryLayout?c.rJ.MasonryLayout:c.rJ.ClassicBlog};n.Z=function(){var e=(0,o.Z)(),n=e.getSharedSecret,t=e.getApiType,u=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var s,i,o,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new c.pt({api:t(),sharedSecret:n()}),o=[],e.next=4,i.fileReadOnlyProvider.GetFile("blogs.json");case 4:if((u=e.sent)&&u.forEach((function(e){var n=e.filter((function(e){return e.header.fileMetadata.appData.fileType===c.Hm.ChannelDefinitionFileType}));o=[].concat((0,l.Z)(o),(0,l.Z)(n.map((function(e){return(0,a.Z)({},e.payload)}))))})),null!==(s=o)&&void 0!==s&&s.length){e.next=10;break}return e.next=9,i.blogPostReadonlyProvider.getChannels();case 9:o=e.sent;case 10:return e.abrupt("return",o.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{template:d(null===e||void 0===e?void 0:e.templateId)})})));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useQuery)(["channels"],(function(){return u()}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})}},3399:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var r=t(9631),a=t(6871),l=t(4165),s=t(5861),i=t(7408),c=t(7686),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.channelSlug,t=e.blogSlug,a=(0,c.Z)(),o=a.getSharedSecret,d=a.getApiType,u=new r.pt({api:d(),sharedSecret:o()}),m=function(){var e=(0,s.Z)((0,l.Z)().mark((function e(n){var t,r,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.channelSlug,r=n.blogSlug,t&&r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,u.blogPostReadonlyProvider.getPostBySlug(t,r);case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.abrupt("return",{activeBlog:a.postFile.content,activeChannel:a.channel});case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,i.useQuery)(["blog",t],(function(){return m({channelSlug:n,blogSlug:t})}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0})},d=t(1824),u=t(8683);function m(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var x=t(2791),h=t(184),p=function(e){var n=e.children,t=e.className,r=e.type,a=e.title,l=e.size,s=e.onClick,i=e.download,c=e.href,o="secondary"===r?"bg-button text-button-text hover:bg-button-hover":"remove"===r?"bg-red-200 hover:bg-red-400 dark:bg-red-700 hover:dark:bg-red-800 dark:text-white":"mute"===r?"":"bg-button hover:bg-button-hover text-button-texte",d=n&&"mute"!==r?"min-w-[6rem] ".concat(-1!==(null===t||void 0===t?void 0:t.indexOf("w-"))?"":"w-full sm:w-auto"):"",u="large"===l?"px-5 py-3":"small"===l?"px-3 py-1 text-sm":"px-3 py-2";return(0,h.jsx)("a",{className:"relative flex flex-row rounded-md text-left ".concat(d," ").concat(u," ").concat(o," ").concat(t),download:i,href:c,title:a,onClick:s,children:n&&(0,h.jsx)("span",{className:"mr-1",children:n})})},f=["type"],v=function(e){var n=e.body,t=e.imageDrive;if(!n||"string"===typeof n)return(0,h.jsx)(h.Fragment,{children:n});var r=function e(n){if("text"in n)return a(n,n.text,{});var t,r=n.type,s=m(n,f);return l({type:r,attributes:s},(0,h.jsx)(h.Fragment,{children:null===(t=n.children)||void 0===t?void 0:t.map((function(n,t){return(0,h.jsx)(x.Fragment,{children:e(n)},t)}))}))},a=function(e,n,t){return e.bold&&(n=(0,h.jsx)("strong",{className:"font-bold",children:n})),e.code&&(n=(0,h.jsx)("code",{children:n})),e.italic&&(n=(0,h.jsx)("em",{children:n})),e.underline&&(n=(0,h.jsx)("u",{children:n})),(0,h.jsx)("span",(0,u.Z)((0,u.Z)({},t),{},{children:n}))},l=function(e,n){var r=e.type,a=e.attributes;switch(r){case"block-quote":return(0,h.jsx)("blockquote",(0,u.Z)((0,u.Z)({},a),{},{className:"border-l-4 pl-2",children:n}));case"bulleted-list":return(0,h.jsx)("ul",(0,u.Z)((0,u.Z)({},a),{},{className:"list-disc pl-5",children:n}));case"heading-one":return(0,h.jsx)("h1",(0,u.Z)((0,u.Z)({},a),{},{className:"text-2xl",children:n}));case"heading-two":return(0,h.jsx)("h2",(0,u.Z)((0,u.Z)({},a),{},{className:"text-xl",children:n}));case"list-item":return(0,h.jsx)("li",(0,u.Z)((0,u.Z)({},a),{},{children:n}));case"numbered-list":return(0,h.jsx)("ol",(0,u.Z)((0,u.Z)({},a),{},{className:"list-decimal pl-5",children:n}));case"image":return a&&"imageFileId"in a&&t?(0,h.jsx)(d.Z,{targetDrive:t,fileId:a.imageFileId,className:"my-4 max-w-md"}):(0,h.jsx)(h.Fragment,{});case"link-button":return a&&"linkText"in a&&a&&"uri"in a?(0,h.jsx)("div",{className:"flex ",children:(0,h.jsx)(p,{className:"my-2 w-auto rounded-md bg-gray-500 px-3 py-2 text-left",href:a.uri,type:"secondary",children:a.linkText})}):(0,h.jsx)(h.Fragment,{});default:return(0,h.jsx)("p",(0,u.Z)((0,u.Z)({},a),{},{className:"mb-3",children:n}))}};return(0,h.jsx)("div",{children:n.map((function(e,n){return(0,h.jsx)(x.Fragment,{children:r(e)},n)}))})},g=t(4990),b=t(5322),y=t(1364),j=function(e){var n=e.blog,t=e.channel,r=(0,b.Z)(t?{channelId:t.channelId,postType:"Article"}:{}).data;if(!r)return(0,h.jsx)(h.Fragment,{});var a=r.slice(0,4).filter((function(e){return e.id!==n.id})).slice(0,3);return(0,h.jsx)("section",{className:"mt-10 bg-slate-50 pt-16 pb-10 dark:bg-slate-800 dark:bg-opacity-50",children:(0,h.jsxs)("div",{className:"container mx-auto px-5",children:[(0,h.jsxs)("h2",{className:"mb-10 text-2xl ",children:[(0,g.t)("Latest posts")," ",t&&(0,h.jsxs)("small",{children:["| ",t.name]})]}),(0,h.jsx)("div",{className:"-m-1 flex flex-row flex-wrap",children:a.map((function(e){return(0,h.jsx)(y.Z,{blog:e,className:"p-1 sm:w-1/2 md:w-1/3"},e.id)}))})]})})},w=t(6907),N=t(8602),Z=t(316),k=function(){var e,n,t,l=(0,a.UO)(),s=l.channelKey,i=l.postKey,c=o(s&&i?{channelSlug:s,blogSlug:i}:void 0),u=c.data,m=c.isLoading;if(!u&&!m)return(0,h.jsx)("section",{className:"py-5",children:(0,h.jsx)("div",{className:"container mx-auto mb-10 px-5",children:(0,g.t)("No post found")})});var x=null===u||void 0===u?void 0:u.activeBlog,p=null===u||void 0===u?void 0:u.activeChannel;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(w.ql,{children:(0,h.jsxs)("title",{children:[null!==(e=null===x||void 0===x?void 0:x.caption)&&void 0!==e?e:""," | Youniverse"]})}),(0,h.jsx)("section",{className:"py-5",children:(0,h.jsx)("div",{className:"container mx-auto mb-10 px-5",children:(0,h.jsxs)("div",{className:"max-w-3xl lg:w-2/3",children:[(0,h.jsxs)("div",{className:"mb-5 flex w-full flex-col",children:[(0,h.jsx)("div",{className:"flex flex-row flex-wrap pb-2 text-gray-500",children:x?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"title-font text-sm font-medium",children:new Date(x.dateUnixTime).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"})}),"Article"===x.type&&(null===x||void 0===x?void 0:x.readingTimeStats)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:"px-2 leading-4",children:"\xb7"}),(0,h.jsxs)("p",{className:"title-font text-sm font-medium",children:[Math.ceil(null!==(n=null===x||void 0===x||null===(t=x.readingTimeStats)||void 0===t?void 0:t.minutes)&&void 0!==n?n:0),(0,g.t)("min read")]})]}),(0,h.jsx)("span",{className:"px-2 leading-4",children:"\xb7"}),(0,h.jsxs)("p",{className:"title-font text-sm font-medium tracking-widest text-button",children:[null===p||void 0===p?void 0:p.name," | ",x.type]})]}):(0,h.jsx)(Z.Z,{className:"mb-2 h-8 w-full max-w-xs"})}),x?(0,h.jsx)("h1",{className:"title-font mb-4 text-2xl font-medium sm:text-3xl",children:x.caption}):(0,h.jsx)(Z.Z,{className:"h-8 w-full max-w-xs"})]}),null!==x&&void 0!==x&&x.primaryImageFileId?(0,h.jsxs)("div",{className:"relative mb-5 sm:w-full",children:[(0,h.jsx)(d.Z,{className:"rounded object-cover object-center",fileId:x.primaryImageFileId,targetDrive:(0,r.V7)(x.channelId),alt:"blog"}),"Video"===x.type&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(N.Z,{className:"absolute top-[calc(50%-2.5rem)] left-[calc(50%-2.5rem)] h-20 w-20 text-white"})})]}):null,"Article"===(null===x||void 0===x?void 0:x.type)?(0,h.jsx)("p",{className:"mb-5 text-base leading-relaxed text-gray-500",children:null===x||void 0===x?void 0:x.abstract}):null,x?(0,h.jsx)(h.Fragment,{children:"Article"===x.type&&(0,h.jsx)("div",{className:"rich-text-content mb-5 leading-relaxed",children:(0,h.jsx)(v,{body:null===x||void 0===x?void 0:x.body,imageDrive:(0,r.V7)(x.channelId)})})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Z.Z,{className:"mb-2 h-4 w-full"}),(0,h.jsx)(Z.Z,{className:"mb-2 h-4 w-full"}),(0,h.jsx)(Z.Z,{className:"mb-2 h-4 w-full"}),(0,h.jsx)(Z.Z,{className:"mb-2 h-4 w-full"}),(0,h.jsx)(Z.Z,{className:"mb-2 h-4 w-full"})]})]})})}),"Article"===(null===x||void 0===x?void 0:x.type)&&(0,h.jsx)(j,{blog:x,channel:p})]})}}}]);
//# sourceMappingURL=399.766f5df6.chunk.js.map