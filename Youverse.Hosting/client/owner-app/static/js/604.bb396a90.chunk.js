"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[604],{5660:function(e,r,n){var t=n(885),a=n(2791),s=n(184);r.Z=function(e){var r=e.className,n=e.state,i=(0,a.useState)(null),l=(0,t.Z)(i,2),o=l[0],c=l[1],u=(0,a.useState)(new Date),d=(0,t.Z)(u,2),m=d[0],f=d[1];if((0,a.useEffect)((function(){"success"===n&&c(new Date)}),[n]),(0,a.useEffect)((function(){var e=setTimeout((function(){f(new Date)}),3e4);return function(){clearTimeout(e)}}),[m]),!o)return null;var v=m.getTime()-o.getTime(),x=o?v<=6e4?"a few seconds ago":v<=6e5?"a few minutes ago":o.toLocaleString():"";return x?(0,s.jsxs)("p",{className:"".concat(r," text-sm"),children:["Last saved ",x]}):null}},6419:function(e,r,n){var t=n(1413),a=n(184);r.Z=function(e){return(0,a.jsx)("input",(0,t.Z)((0,t.Z)({},e),{},{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600 ".concat(e.className)}))}},6990:function(e,r,n){var t=n(2982),a=n(885),s=n(2791),i=n(1261),l=n(4648),o=n(245),c=n(184),u=function(e){var r=e.className,n=e.isChecked,t=e.children,a=e.onChange;return(0,c.jsxs)("li",{className:"flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ".concat(r),onClick:a,children:[(0,c.jsx)(l.Z,{className:"my-auto mr-3 h-4 w-4 flex-shrink-0 ".concat(n?"text-slate-700 dark:text-slate-200":"text-transparent")})," ",(0,c.jsx)("span",{className:"mr-auto block h-full py-1",children:t})]})};r.Z=function(e){var r,n,l=e.className,d=e.permissionLevels,m=e.onChange,f=e.defaultValue,v=(0,s.useState)(!1),x=(0,a.Z)(v,2),h=x[0],p=x[1],b=(0,s.useState)(f),g=(0,a.Z)(b,2),j=g[0],y=g[1],N=(0,s.useRef)(null);(0,i.Z)(N,(function(){return p(!1)}));var w=(null===f||void 0===f?void 0:f.length)>=2?"Multiple":null!==(r=null!==f&&void 0!==f&&f[0]?null===(n=d.find((function(e){return e.value===f[0]})))||void 0===n?void 0:n.name:d[0].name)&&void 0!==r?r:d[0].name,Z=function(e){y(e),m&&m(e)};return(0,c.jsx)("div",{className:null!==l&&void 0!==l?l:"",children:(0,c.jsxs)("div",{className:"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800",onClick:function(){return p(!h)},ref:N,children:[(0,c.jsxs)("div",{className:"flex min-w-[6rem] flex-row py-1 px-2",children:[(0,c.jsx)("span",{className:"my-auto mr-2 select-none",children:w})," ",(0,c.jsx)(o.Z,{className:"my-auto ml-auto h-2 w-2 rotate-90"})]}),(0,c.jsx)("ul",{className:"absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ".concat(h?"z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700":"max-h-0"),children:d.map((function(e){return(0,c.jsx)(u,{isChecked:j.some((function(r){return r===e.value}))||0===j.length&&0===e.value,onChange:function(){return j.some((function(r){return r===e.value}))?Z(j.filter((function(r){return r!==e.value}))):0!==e.value?Z([].concat((0,t.Z)(j),[e.value])):Z([])},children:e.name},e.value)}))})]})})}},2284:function(e,r,n){var t=n(885),a=n(2791),s=n(1261),i=n(4648),l=n(245),o=n(184),c=function(e){var r=e.className,n=e.isChecked,t=e.children,a=e.onChange;return(0,o.jsxs)("li",{className:"flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ".concat(r),onClick:a,children:[(0,o.jsx)(i.Z,{className:"my-auto mr-3 h-4 w-4 flex-shrink-0  ".concat(n?"text-slate-700 dark:text-slate-200":"text-transparent")})," ",(0,o.jsx)("span",{className:"mr-auto block h-full py-1",children:t})]})};r.Z=function(e){var r=e.className,n=e.permissionLevels,i=e.onChange,u=e.defaultValue,d=(0,a.useState)(!1),m=(0,t.Z)(d,2),f=m[0],v=m[1],x=(0,a.useState)(u),h=(0,t.Z)(x,2),p=h[0],b=h[1],g=(0,a.useRef)(null);(0,s.Z)(g,(function(){return v(!1)}));var j=n.reduce((function(e,r){return r.value>e.value&&r.value<=u?r:e}),n[0]),y=function(e){b(e),i(e)};return(0,o.jsx)("div",{className:null!==r&&void 0!==r?r:"",children:(0,o.jsxs)("div",{className:"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800",onClick:function(){return v(!f)},ref:g,children:[(0,o.jsxs)("div",{className:"flex min-w-[6rem] flex-row py-1 px-2",children:[(0,o.jsx)("span",{className:"my-auto mr-2 select-none",children:j.name})," ",(0,o.jsx)(l.Z,{className:"my-auto ml-auto h-2 w-2 rotate-90"})]}),(0,o.jsx)("ul",{className:"absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ".concat(f?"z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700":"max-h-0"),children:n.map((function(e){return(0,o.jsx)(c,{isChecked:0===e.value?p===e.value:p>=e.value,onChange:function(){return p!==e.value?y(e.value):y(0)},children:e.name},e.value)}))})]})})}},4648:function(e,r,n){var t=n(184);r.Z=function(e){var r=e.className;return(0,t.jsxs)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",className:r,viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),(0,t.jsx)("path",{d:"M22 4L12 14.01l-3-3"})]})}},245:function(e,r,n){var t=n(184);r.Z=function(e){var r=e.className;return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",className:r,children:(0,t.jsx)("path",{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"})})}},3004:function(e,r,n){var t=n(3504),a=n(5660),s=n(184);r.Z=function(e){var r=e.title,n=e.actions,i=e.saveStatus,l=e.breadCrumbs,o=e.icon;return(0,s.jsx)("section",{className:"-mx-5 -mt-4 mb-10 border-b-2 border-gray-100 bg-slate-50 py-4 pr-5 pl-10 dark:border-gray-700 dark:bg-slate-800 sm:-mx-10 sm:-mt-8 sm:py-8 sm:px-10",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,s.jsxs)("div",{className:"flex-col",children:[l&&(0,s.jsx)("ul",{className:"mb-2 hidden flex-row sm:flex",children:l.map((function(e,r){return(0,s.jsx)("li",{className:"mr-2",children:e.href?(0,s.jsxs)(t.rU,{to:e.href,className:"",children:[e.title,(0,s.jsx)("span",{className:"ml-2",children:">"})]}):(0,s.jsx)("span",{className:"text-slate-500",children:e.title})},r)}))}),r&&(0,s.jsxs)("h1",{className:"mb-5 flex flex-row text-4xl dark:text-white",children:[o&&o({className:"h-8 w-8 my-auto mr-4"})," ",r]})]}),(0,s.jsxs)("div",{className:"ml-auto",children:[(0,s.jsx)("div",{className:"-m-2 flex flex-col flex-wrap justify-end sm:flex-row sm:items-center",children:n}),i&&(0,s.jsx)(a.Z,{className:"mt-1",state:i})]})]})})}},8491:function(e,r,n){var t=n(184);r.Z=function(e){var r=e.title,n=e.className,a=e.children,s=e.isOpaqueBg,i=void 0!==s&&s,l=e.isBorderLess,o=void 0!==l&&l;return(0,t.jsxs)("section",{className:"my-5 rounded-md ".concat(i?o?"":"rounded-lg border-[1px] border-gray-200 border-opacity-80 px-5 dark:border-gray-700":"bg-slate-50 px-5 dark:bg-slate-800"," dark:text-slate-300 ").concat(null!==n&&void 0!==n?n:""),children:[r?(0,t.jsx)("div",{className:"relative border-b-[1px] border-gray-200 border-opacity-80 py-5 transition-all duration-300 dark:border-gray-700",children:(0,t.jsx)("h3",{className:"text-2xl dark:text-white",children:r})}):null,(0,t.jsx)("div",{className:"py-5 ",children:a})]})}},1604:function(e,r,n){n.r(r);var t=n(2982),a=n(1413),s=n(885),i=n(2791),l=n(4990),o=n(6770),c=n(2562),u=n(6419),d=n(6990),m=n(2284),f=n(2869),v=n(2891),x=n(3004),h=n(8491),p=n(184),b=function(){var e,r=(0,o.Z)().fetch.data,n=(0,i.useState)({name:"All",description:"",permissions:{keys:[0]},driveGrants:[]}),u=(0,s.Z)(n,2),f=u[0],v=u[1];return(0,p.jsxs)(h.Z,{title:(0,l.t)("General settings for all connections"),children:[(0,p.jsxs)("div",{className:"mb-5 flex flex-row",children:[(0,p.jsx)("label",{htmlFor:"name",className:"my-auto mr-2",children:(0,l.t)("Connections can:")}),(0,p.jsx)(d.Z,{className:"ml-auto",permissionLevels:c.WW,defaultValue:null!==(e=f.permissions.keys)&&void 0!==e?e:[0],onChange:function(e){v((0,a.Z)((0,a.Z)({},f),{},{permissions:{keys:e}}))}})]}),null!==r&&void 0!==r&&r.length?(0,p.jsxs)("div",{className:"my-10",children:[(0,p.jsx)("h2",{className:"mb-4 text-2xl",children:"Per Drive Permissions:"}),r.map((function(e,r){var n,s,i,l;return(0,p.jsxs)("div",{className:"mb-2 flex flex-row",children:[(0,p.jsx)("label",{htmlFor:"".concat(e.targetDriveInfo.alias,"-").concat(e.targetDriveInfo.type),className:"my-auto mr-2",children:e.name}),(0,p.jsx)(m.Z,{className:"ml-auto",permissionLevels:c.Ac,defaultValue:null!==(n=null===(s=f.driveGrants)||void 0===s||null===(i=s.find((function(r){return r.permissionedDrive.drive.alias===e.targetDriveInfo.alias&&r.permissionedDrive.drive.type===e.targetDriveInfo.type})))||void 0===i||null===(l=i.permissionedDrive)||void 0===l?void 0:l.permission)&&void 0!==n?n:0,onChange:function(r){v(r>0?(0,a.Z)((0,a.Z)({},f),{},{driveGrants:[].concat((0,t.Z)(f.driveGrants.filter((function(r){return r.permissionedDrive.drive.alias!==e.targetDriveInfo.alias||r.permissionedDrive.drive.type!==e.targetDriveInfo.type}))),[{permissionedDrive:{drive:e.targetDriveInfo,permission:r}}])}):(0,a.Z)((0,a.Z)({},f),{},{driveGrants:(0,t.Z)(f.driveGrants.filter((function(r){return r.permissionedDrive.drive.alias!==e.targetDriveInfo.alias||r.permissionedDrive.drive.type!==e.targetDriveInfo.type})))}))}})]},r)}))]}):null]})},g=function(){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(h.Z,{title:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f.Z,{className:"inline-block h-4 w-4"})," ",(0,l.t)("Publish your public data")]}),children:(0,p.jsxs)("div",{className:"flex-ro flex",children:[(0,p.jsx)(u.Z,{id:"publishStaticFile",name:"publishStaticFile",className:"my-auto mr-4"}),(0,p.jsx)("label",{htmlFor:"publishStaticFile",className:"my-auto",children:(0,l.t)("Auto publish static files")})]})})})};r.default=function(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(x.Z,{icon:v.Z,title:"".concat((0,l.t)("Settings"))}),(0,p.jsx)(b,{}),(0,p.jsx)(g,{})]})}},1261:function(e,r,n){var t=n(2791);r.Z=function(e,r){(0,t.useEffect)((function(){function n(n){e.current&&!e.current.contains(n.target)&&r()}return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[e])}},6770:function(e,r,n){var t=n(4165),a=n(5861),s=n(7408),i=n(1803),l=n(6117);r.Z=function(){var e=(0,l.Z)().getSharedSecret,r=new i.AO({api:i.Ii.Owner,sharedSecret:e()}),n=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["drives"],(function(){return n()}),{refetchOnWindowFocus:!1})}}},2562:function(e,r,n){n.d(r,{Ac:function(){return a},WW:function(){return s},c$:function(){return i}});var t=n(4990),a=[{name:(0,t.t)("None"),value:0},{name:(0,t.t)("Reader"),value:1},{name:(0,t.t)("Editor"),value:3}],s=[{name:(0,t.t)("None"),value:0},{name:(0,t.t)("Read Connections"),value:10},{name:(0,t.t)("Read Circle Members"),value:50}],i=[{name:(0,t.t)("None"),value:0},{name:(0,t.t)("Read Connections"),value:10},{name:(0,t.t)("Manage Connection Requests"),value:30},{name:(0,t.t)("Read Circle Members"),value:50}]},4942:function(e,r,n){function t(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}n.d(r,{Z:function(){return t}})},1413:function(e,r,n){n.d(r,{Z:function(){return s}});var t=n(4942);function a(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}}}]);
//# sourceMappingURL=604.bb396a90.chunk.js.map