"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[311,476],{5939:function(e,n,r){var t=r(1088),a=r(6439),s=r(184);n.Z=function(e){var n=e.type,r=e.title,i=e.children,c=e.className,o=e.isCompact,l="critical"===n?"bg-red-50 dark:bg-red-900 border-red-100 dark:border-red-800 dark:text-white":"warning"===n?"bg-orange-50 border-orange-100":"bg-slate-100 dark:bg-slate-700 dark:border-slate-900";return(0,s.jsx)("section",{className:"bg-red rounded-lg border p-5 ".concat(l," ").concat(null!==c&&void 0!==c?c:""),children:(0,s.jsxs)("div",{className:"flex flex-row ".concat(o?"flex-wrap":"flex-wrap sm:flex-nowrap"," "),children:["critical"===n?(0,s.jsx)("div",{className:"mb-2 flex h-8 w-8 flex-shrink-0 text-red-400 dark:text-red-300 ".concat(o?"mb-2":"sm:my-auto sm:mx-0 sm:h-10 sm:w-10"),children:(0,s.jsx)(t.Z,{})}):"warning"===n?(0,s.jsx)("div",{className:"mb-2 flex h-8 w-8 flex-shrink-0 text-orange-400 ".concat(o?"mb-2":"sm:my-auto sm:mx-0 sm:h-10 sm:w-10"),children:(0,s.jsx)(t.Z,{})}):(0,s.jsx)("div",{className:"mb-2 flex h-8 w-8 flex-shrink-0 text-blue-400 ".concat(o?"mb-2":"sm:my-auto sm:mx-0 sm:h-10 sm:w-10"),children:(0,s.jsx)(a.Z,{})}),(0,s.jsxs)("div",{className:"ml-5 ".concat(o?"contents":"contents sm:block"),children:[(0,s.jsx)("p",{className:"ml-3 mb-2 text-2xl sm:ml-0",children:r}),i]})]})})}},9835:function(e,n,r){var t=r(3504),a=r(6703),s=r(9779),i=r(9006),c=r(5300),o=r(1191),l=r(184);n.Z=function(e){var n,r,d=e.dotYouId,u=e.href,m=e.isChecked,v=e.className,f=e.children,h=e.onClick,x=function(e){var n=e.children;return u?(0,l.jsx)(t.rU,{to:u,children:n}):(0,l.jsx)(l.Fragment,{children:n})},p=(0,a.Z)({dotYouId:d}).fetch,g=p.data,b=p.isLoading,j=(0,s.Z)((null===g||void 0===g?void 0:g.imageFileId)||void 0,i.F.ContactTargetDrive).fetch.data;if(b)return(0,l.jsx)(o.Z,{className:"aspect-[3/5] ".concat(v)});var N=null===g||void 0===g?void 0:g.name,Z=N?"".concat(null!==(n=N.givenName)&&void 0!==n?n:""," ").concat(null!==(r=N.surname)&&void 0!==r?r:""):d;return(0,l.jsx)("div",{className:v,children:(0,l.jsx)(x,{children:(0,l.jsxs)("div",{className:"h-full rounded-md border bg-white transition-colors  ".concat(m?"border-4 border-indigo-500 dark:border-indigo-700":!1===m?"border-4":"border-gray-200 border-opacity-60 dark:border-gray-800 dark:bg-gray-800"),onClick:h,children:[(0,l.jsx)("div",{className:"aspect-square",children:"image"in g&&g.image?(0,l.jsx)("figure",{className:"relative overflow-hidden",children:(0,l.jsx)("img",{src:g.image.url,width:g.image.pixelWidth,height:g.image.pixelHeight,className:"aspect-square w-full object-cover"})}):g.imageFileId?(0,l.jsx)("figure",{className:"relative overflow-hidden",children:(0,l.jsx)("img",{src:j,className:"aspect-square object-cover "})}):(0,l.jsx)(c.Z,{initials:function(){var e,n;if(N)return(null===(e=N.givenName)||void 0===e?void 0:e[0])+(null===(n=N.surname)||void 0===n?void 0:n[0])+"";var r=null===d||void 0===d?void 0:d.split(".");return(null===r||void 0===r?void 0:r.length)>=2?r[0][0]+r[1][0]+"":"--"}()})}),(0,l.jsxs)("div",{className:"p-2",children:[(0,l.jsx)("h2",{className:"font-thiner mb-6 dark:text-white",children:null!==Z&&void 0!==Z?Z:d}),f]})]})})})}},808:function(e,n,r){var t=r(3433),a=r(4165),s=r(5861),i=r(1413),c=r(9439),o=r(2791),l=r(4164),d=r(4990),u=r(7480),m=r(6770),v=r(3412),f=r(2562),h=r(9072),x=r(6916),p=r(6990),g=r(2284),b=r(2465),j=r(8395),N=r(184);n.Z=function(e){var n,r=e.title,Z=e.confirmText,y=e.isOpen,w=e.defaultValue,k=e.onConfirm,C=e.onCancel,I=(0,v.Z)("modal-container"),D=(0,u.Z)({}).createOrUpdate,S=D.mutateAsync,z=D.status,F=(0,m.Z)().fetch.data,O=(0,o.useState)((0,i.Z)({driveGrants:w.driveGrants||[]},w)),G=(0,c.Z)(O,2),Y=G[0],A=G[1];if((0,o.useEffect)((function(){y&&A((0,i.Z)({driveGrants:w.driveGrants||[]},w))}),[y]),!y)return null;var M=function(){A((0,i.Z)({driveGrants:w.driveGrants||[]},w))},R=(0,N.jsx)(j.Z,{title:r,onClose:C,size:"4xlarge",children:(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("form",{onSubmit:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,S(Y);case 3:return M(),k(),e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:[(0,N.jsxs)("div",{className:"mb-5",children:[(0,N.jsx)("label",{htmlFor:"name",children:(0,d.t)("Name")}),(0,N.jsx)(x.Z,{id:"name",name:"circleName",defaultValue:Y.name,onChange:function(e){A((0,i.Z)((0,i.Z)({},Y),{},{name:e.target.value}))},required:!0})]}),(0,N.jsxs)("div",{className:"mb-5",children:[(0,N.jsx)("label",{htmlFor:"name",children:(0,d.t)("Description")}),(0,N.jsx)(b.Z,{id:"description",name:"circleDescription",defaultValue:Y.description,onChange:function(e){A((0,i.Z)((0,i.Z)({},Y),{},{description:e.target.value}))},required:!0})]}),(0,N.jsxs)("div",{className:"mb-5 flex flex-row",children:[(0,N.jsx)("label",{htmlFor:"name",className:"my-auto mr-2",children:(0,d.t)("Permissions")}),(0,N.jsx)(p.Z,{className:"ml-auto",permissionLevels:f.WW,defaultValue:null!==(n=Y.permissions.keys)&&void 0!==n?n:[0],onChange:function(e){A((0,i.Z)((0,i.Z)({},Y),{},{permissions:{keys:e}}))}})]}),null!==F&&void 0!==F&&F.length?(0,N.jsxs)("div",{className:"my-7",children:[(0,N.jsx)("h2",{className:"mb-4 text-lg",children:"Drive Permissions:"}),F.map((function(e,n){var r,a,s;return(0,N.jsxs)("div",{className:"mb-2 flex flex-row",children:[(0,N.jsx)("label",{htmlFor:"".concat(e.targetDriveInfo.alias,"-").concat(e.targetDriveInfo.type),className:"my-auto mr-2",children:e.name}),(0,N.jsx)(g.Z,{className:"ml-auto",permissionLevels:f.Ac,defaultValue:null!==(r=null===(a=Y.driveGrants)||void 0===a||null===(s=a.find((function(n){return n.permissionedDrive.drive.alias===e.targetDriveInfo.alias&&n.permissionedDrive.drive.type===e.targetDriveInfo.type})))||void 0===s?void 0:s.permissionedDrive.permission)&&void 0!==r?r:0,onChange:function(n){var r;n>0?A((0,i.Z)((0,i.Z)({},Y),{},{driveGrants:[].concat((0,t.Z)((null===Y||void 0===Y||null===(r=Y.driveGrants)||void 0===r?void 0:r.filter((function(n){var r,t;return(null===(r=n.permissionedDrive)||void 0===r?void 0:r.drive.alias)!==e.targetDriveInfo.alias||(null===(t=n.permissionedDrive)||void 0===t?void 0:t.drive.type)!==e.targetDriveInfo.type})))||[]),[{permissionedDrive:{drive:e.targetDriveInfo,permission:n}}])})):A((0,i.Z)((0,i.Z)({},Y),{},{driveGrants:(0,t.Z)(Y.driveGrants.filter((function(n){return n.permissionedDrive.drive.alias!==e.targetDriveInfo.alias||n.permissionedDrive.drive.type!==e.targetDriveInfo.type})))}))}})]},n)}))]}):null,(0,N.jsxs)("div",{className:"-m-2 flex flex-row-reverse py-3",children:[(0,N.jsx)(h.Z,{className:"m-2",state:z,icon:"send",children:Z||(0,d.t)("Add Circle")}),(0,N.jsx)(h.Z,{className:"m-2",type:"secondary",onClick:function(){M(),C()},children:(0,d.t)("Cancel")})]})]})})});return(0,l.createPortal)(R,I)}},6916:function(e,n,r){var t=r(1413),a=r(184);n.Z=function(e){var n;return(0,a.jsx)("input",(0,t.Z)((0,t.Z)({},e),{},{type:null!==(n=e.type)&&void 0!==n?n:"input",className:"w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 ".concat(e.className)}))}},6990:function(e,n,r){var t=r(3433),a=r(9439),s=r(2791),i=r(1261),c=r(4648),o=r(245),l=r(184),d=function(e){var n=e.className,r=e.isChecked,t=e.children,a=e.onChange;return(0,l.jsxs)("li",{className:"flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ".concat(n),onClick:a,children:[(0,l.jsx)(c.Z,{className:"my-auto mr-3 h-4 w-4 flex-shrink-0 ".concat(r?"text-slate-700 dark:text-slate-200":"text-transparent")})," ",(0,l.jsx)("span",{className:"mr-auto block h-full py-1",children:t})]})};n.Z=function(e){var n,r,c=e.className,u=e.permissionLevels,m=e.onChange,v=e.defaultValue,f=(0,s.useState)(!1),h=(0,a.Z)(f,2),x=h[0],p=h[1],g=(0,s.useState)(v),b=(0,a.Z)(g,2),j=b[0],N=b[1],Z=(0,s.useRef)(null);(0,i.Z)(Z,(function(){return p(!1)}));var y=(null===v||void 0===v?void 0:v.length)>=2?"Multiple":null!==(n=null!==v&&void 0!==v&&v[0]?null===(r=u.find((function(e){return e.value===v[0]})))||void 0===r?void 0:r.name:u[0].name)&&void 0!==n?n:u[0].name,w=function(e){N(e),m&&m(e)};return(0,l.jsx)("div",{className:null!==c&&void 0!==c?c:"",children:(0,l.jsxs)("div",{className:"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800",onClick:function(){return p(!x)},ref:Z,children:[(0,l.jsxs)("div",{className:"flex min-w-[6rem] flex-row py-1 px-2",children:[(0,l.jsx)("span",{className:"my-auto mr-2 select-none",children:y})," ",(0,l.jsx)(o.Z,{className:"my-auto ml-auto h-2 w-2 rotate-90"})]}),(0,l.jsx)("ul",{className:"absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ".concat(x?"z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700":"max-h-0"),children:u.map((function(e){return(0,l.jsx)(d,{isChecked:j.some((function(n){return n===e.value}))||0===j.length&&0===e.value,onChange:function(){return j.some((function(n){return n===e.value}))?w(j.filter((function(n){return n!==e.value}))):0!==e.value?w([].concat((0,t.Z)(j),[e.value])):w([])},children:e.name},e.value)}))})]})})}},2284:function(e,n,r){var t=r(9439),a=r(2791),s=r(1261),i=r(4648),c=r(245),o=r(184),l=function(e){var n=e.className,r=e.isChecked,t=e.children,a=e.onChange;return(0,o.jsxs)("li",{className:"flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ".concat(n),onClick:a,children:[(0,o.jsx)(i.Z,{className:"my-auto mr-3 h-4 w-4 flex-shrink-0  ".concat(r?"text-slate-700 dark:text-slate-200":"text-transparent")})," ",(0,o.jsx)("span",{className:"mr-auto block h-full py-1",children:t})]})};n.Z=function(e){var n=e.className,r=e.permissionLevels,i=e.onChange,d=e.defaultValue,u=(0,a.useState)(!1),m=(0,t.Z)(u,2),v=m[0],f=m[1],h=(0,a.useState)(d),x=(0,t.Z)(h,2),p=x[0],g=x[1],b=(0,a.useRef)(null);(0,s.Z)(b,(function(){return f(!1)}));var j=r.reduce((function(e,n){return n.value>e.value&&n.value<=d?n:e}),r[0]),N=function(e){g(e),i(e)};return(0,o.jsx)("div",{className:null!==n&&void 0!==n?n:"",children:(0,o.jsxs)("div",{className:"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800",onClick:function(){return f(!v)},ref:b,children:[(0,o.jsxs)("div",{className:"flex min-w-[6rem] flex-row py-1 px-2",children:[(0,o.jsx)("span",{className:"my-auto mr-2 select-none",children:j.name})," ",(0,o.jsx)(c.Z,{className:"my-auto ml-auto h-2 w-2 rotate-90"})]}),(0,o.jsx)("ul",{className:"absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ".concat(v?"z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700":"max-h-0"),children:r.map((function(e){return(0,o.jsx)(l,{isChecked:0===e.value?p===e.value:p>=e.value,onChange:function(){return p!==e.value?N(e.value):N(0)},children:e.name},e.value)}))})]})})}},2465:function(e,n,r){var t=r(1413),a=r(184);n.Z=function(e){return(0,a.jsx)("textarea",(0,t.Z)((0,t.Z)({},e),{},{className:"w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 ".concat(e.className)}))}},6439:function(e,n,r){var t=r(184);n.Z=function(e){var n=e.className;return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",className:n,children:(0,t.jsx)("path",{d:"M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"})})}},245:function(e,n,r){var t=r(184);n.Z=function(e){var n=e.className;return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",className:n,children:(0,t.jsx)("path",{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"})})}},1869:function(e,n,r){r.d(n,{b:function(){return m}});var t=r(3504),a=r(4990),s=r(1512),i=r(2562),c=r(4665),o=r(894),l=r(1191),d=r(1326),u=r(184),m=function(e){var n,r,a,s,i=e.drive,l=e.className;return(0,u.jsx)("div",{className:"flex flex-row ".concat(l),children:(0,u.jsxs)(t.rU,{to:"/owner/drives/".concat(null===i||void 0===i||null===(a=i.targetDriveInfo)||void 0===a?void 0:a.alias,"_").concat(null===i||void 0===i||null===(s=i.targetDriveInfo)||void 0===s?void 0:s.type),className:"flex flex-row hover:text-slate-700 hover:underline dark:hover:text-slate-400",children:[(0,u.jsx)(o.Z,{className:"mt-1 mb-auto mr-3 h-6 w-6 flex-shrink-0"}),(0,u.jsx)("div",{className:"mr-2 flex flex-col",children:(0,u.jsx)("p",{className:"my-auto",children:null===i||void 0===i?void 0:i.name})}),(0,u.jsx)(c.Z,{className:"my-auto ml-auto h-5 w-5"})]})},"".concat(null===(n=i.targetDriveInfo)||void 0===n?void 0:n.alias,"-").concat(null===(r=i.targetDriveInfo)||void 0===r?void 0:r.type))};n.Z=function(e){var n,r,m,v,f,h=e.driveGrant,x=e.permissionTree,p=e.className,g=(0,s.Z)({targetDrive:h.permissionedDrive.drive}).fetch,b=g.data;return g.isLoading?(0,u.jsx)(l.Z,{className:"h-4 max-w-xs ".concat(p)}):(0,u.jsx)("div",{className:"flex flex-row ".concat(p),title:x,children:(0,u.jsxs)(t.rU,{to:"/owner/drives/".concat(null===b||void 0===b||null===(v=b.targetDriveInfo)||void 0===v?void 0:v.alias,"_").concat(null===b||void 0===b||null===(f=b.targetDriveInfo)||void 0===f?void 0:f.type),className:"flex flex-row hover:text-slate-700 hover:underline dark:hover:text-slate-400",children:[(0,u.jsx)(o.Z,{className:"mt-1 mb-auto mr-3 h-6 w-6"}),(0,u.jsxs)("div",{className:"mr-2 flex flex-col",children:[(0,u.jsxs)("p",{className:"leading-none ".concat(x?"":"my-auto"),children:[null===b||void 0===b?void 0:b.name,":"," ",(0,d.hz)(null===h||void 0===h?void 0:h.permissionedDrive.permission,i.Ac).name]}),x&&(0,u.jsxs)("small",{className:"",children:[(0,a.t)("Via")," ",x]})]}),(0,u.jsx)(c.Z,{className:"my-auto ml-auto h-5 w-5"})]})},"".concat(null===h||void 0===h||null===(n=h.permissionedDrive)||void 0===n||null===(r=n.drive)||void 0===r?void 0:r.alias,"-").concat(null===h||void 0===h||null===(m=h.permissionedDrive.drive)||void 0===m?void 0:m.type))}},8491:function(e,n,r){var t=r(184);n.Z=function(e){var n=e.title,r=e.className,a=e.children,s=e.isOpaqueBg,i=void 0!==s&&s,c=e.isBorderLess,o=void 0!==c&&c;return(0,t.jsxs)("section",{className:"my-5 rounded-md ".concat(i?o?"":"rounded-lg border-[1px] border-gray-200 border-opacity-80 px-5 dark:border-gray-700":"bg-slate-50 px-5 dark:bg-slate-800"," dark:text-slate-300 ").concat(null!==r&&void 0!==r?r:""),children:[n?(0,t.jsx)("div",{className:"relative border-b-[1px] border-gray-200 border-opacity-80 py-5 transition-all duration-300 dark:border-gray-700",children:(0,t.jsx)("h3",{className:"text-2xl dark:text-white",children:n})}):null,(0,t.jsx)("div",{className:"py-5 ",children:a})]})}},6992:function(e,n,r){r.r(n),r.d(n,{default:function(){return I}});var t=r(4165),a=r(5861),s=r(9439),i=r(2791),c=r(6871),o=r(4990),l=r(7480),d=r(5939),u=r(9072),m=r(9835),v=r(808),f=r(3433),h=r(4164),x=r(4257),p=r(3412),g=r(8395),b=r(184),j=function(e){var n=e.title,r=e.confirmText,t=e.isOpen,a=e.defaultMembers,c=e.confirmationStatus,l=e.onConfirm,d=e.onCancel,v=(0,p.Z)("modal-container"),j=(0,x.Z)().fetchActive,N=j.data,Z=j.isLoading,y=(0,i.useState)([]),w=(0,s.Z)(y,2),k=w[0],C=w[1],I=(0,i.useState)([]),D=(0,s.Z)(I,2),S=D[0],z=D[1];if(!t)return null;var F=(0,b.jsx)(g.Z,{size:"4xlarge",onClose:d,title:n,children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"-mx-1",children:Z?(0,b.jsx)(b.Fragment,{}):null!==N&&void 0!==N&&N.length?N.map((function(e){var n=a.some((function(n){return n===e.dotYouId}))&&!S.some((function(n){return n===e.dotYouId}))||k.some((function(n){return n===e.dotYouId}));return(0,b.jsx)(m.Z,{dotYouId:e.dotYouId,className:"relative w-1/2 cursor-pointer p-1 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6",isChecked:n,onClick:function(){var n=a.some((function(n){return n===e.dotYouId})),r=S.some((function(n){return n===e.dotYouId})),t=k.some((function(n){return n===e.dotYouId}));!function(e,n){e?(a.some((function(e){return e===n}))||C([].concat((0,f.Z)(k),[n])),z(S.filter((function(e){return e!==n})))):(a.some((function(e){return e===n}))&&z([].concat((0,f.Z)(S),[n])),C(k.filter((function(e){return e!==n}))))}(!(n?!r:t),e.dotYouId)}},e.dotYouId)})):(0,b.jsx)(b.Fragment,{children:(0,o.t)("No connections found")})}),(0,b.jsxs)("div",{className:"-m-2 flex flex-row-reverse py-3",children:[(0,b.jsx)(u.Z,{className:"m-2",icon:"send",state:c,onClick:function(){l(k,S)},children:r||(0,o.t)("Update Circle")}),(0,b.jsx)(u.Z,{className:"m-2",type:"secondary",onClick:d,children:(0,o.t)("Cancel")}),null!==k&&void 0!==k&&k.length||null!==S&&void 0!==S&&S.length?(0,b.jsxs)("div",{className:"m-2 my-auto",children:[null!==k&&void 0!==k&&k.length?"".concat(k.length>=2?"".concat(k.length," ").concat((0,o.t)("people")):"".concat((0,o.t)("One person"))," ").concat((0,o.t)("will gain access")):"",null!==S&&void 0!==S&&S.length?"".concat(k.length>=2?"".concat(k.length," ").concat((0,o.t)("people")):"".concat((0,o.t)("One person"))," ").concat((0,o.t)("will loose access")):""]}):null]})]})});return(0,h.createPortal)(F,v)},N=r(715),Z=r(3004),y=r(8739),w=r(1869),k=r(8491),C=function(e){var n,r=e.circleId,t=e.dotYouId,a=e.className,s=(0,l.Z)({circleId:r}).revokeGrants,i=s.mutate,c=s.status;return(0,b.jsx)(m.Z,{className:a,dotYouId:t,href:null!==(n=t&&"/owner/connections/".concat(t))&&void 0!==n?n:void 0,children:(0,b.jsx)(u.Z,{type:"secondary",className:"w-full",onClick:function(e){e.preventDefault(),i({circleId:r,dotYouIds:[t]})},state:c,children:"Remove from circle"})})},I=function(){var e,n,r=(0,c.UO)().circleKey,m=decodeURIComponent(r),f=(0,l.Z)({circleId:m}),h=f.fetch,x=h.data,p=h.isLoading,g=f.fetchMembers,I=g.data,D=g.isLoading,S=f.provideGrants,z=S.mutateAsync,F=S.status,O=f.revokeGrants,G=O.mutateAsync,Y=O.status,A=f.enableCircle,M=A.mutate,R=A.status,L=f.disableCircle,q=L.mutate,V=L.status,T=f.removeCircle,W=T.mutateAsync,E=T.status,P=(0,i.useState)(!1),U=(0,s.Z)(P,2),B=U[0],Q=U[1],_=(0,i.useState)(!1),H=(0,s.Z)(_,2),K=H[0],$=H[1];return p?(0,b.jsx)(y.Z,{}):x?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Z.Z,{icon:N.Z,title:"".concat(x.name),actions:(0,b.jsxs)(b.Fragment,{children:[x.disabled?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Z,{type:"remove",icon:"trash",className:"m-2",state:E,onClick:function(){W({circleId:x.id})},confirmOptions:{title:"".concat((0,o.t)("Remove Circle")," ").concat(x.name),buttonText:(0,o.t)("Remove"),body:(0,o.t)("Are you sure you want to remove this circle, all members will lose their access provided by the permissions of this circle?")},children:(0,o.t)("Delete")}),(0,b.jsx)(u.Z,{type:"primary",className:"m-2",onClick:function(){M({circleId:x.id})},state:R,children:(0,o.t)("Enable Circle")})]}):(0,b.jsx)(u.Z,{type:"remove",className:"m-2",onClick:function(){q({circleId:x.id})},state:V,confirmOptions:{title:(0,o.t)("Disable Circle"),buttonText:(0,o.t)("Disable"),body:"".concat((0,o.t)("Are you sure you want to disable the circle")," ").concat(x.name)},children:(0,o.t)("Disable Circle")}),(0,b.jsx)(u.Z,{type:"primary",className:"m-2",onClick:function(){Q(!0)},children:(0,o.t)("Edit Members")}),(0,b.jsx)(u.Z,{type:"primary",icon:"edit",className:"m-2",onClick:function(){$(!0)},children:(0,o.t)("Edit Circle")})]}),breadCrumbs:[{href:"/owner/circles",title:"My Circles"},{title:null!==(e=x.name)&&void 0!==e?e:""}]}),x.disabled&&(0,b.jsx)(d.Z,{type:"critical",title:(0,o.t)("Circle is disabled"),className:"mb-5",children:(0,o.t)("This circle is disabled, all members no longer have the access provided by this cirlce")}),(0,b.jsx)("section",{children:x.description}),(0,b.jsx)(k.Z,{title:(0,b.jsxs)(b.Fragment,{children:[(0,o.t)("Access on the following drives"),(0,b.jsx)("small",{className:"block text-sm text-slate-500",children:(0,o.t)("all contact added will have this access")})]}),isOpaqueBg:!0,children:null!==(n=x.driveGrants)&&void 0!==n&&n.length?(0,b.jsx)("div",{className:"-my-6",children:x.driveGrants.map((function(e){return(0,b.jsx)(w.Z,{driveGrant:e,className:"my-6"},"".concat(e.permissionedDrive.drive.alias,"-").concat(e.permissionedDrive.drive.type))}))}):(0,b.jsx)("div",{className:"flex flex-row",children:(0,b.jsx)("p",{className:"my-auto",children:(0,o.t)("This circle doesn't have any access")})})}),(0,b.jsx)(k.Z,{isOpaqueBg:!0,isBorderLess:!0,title:(0,o.t)("Members"),children:null!==I&&void 0!==I&&I.length&&!D?(0,b.jsx)("div",{className:"-m-1 flex flex-row flex-wrap",children:I.map((function(e){return(0,b.jsx)(C,{circleId:m,dotYouId:e,className:"w-1/2 p-1 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6"},e)}))}):(0,b.jsxs)("div",{className:"flex flex-row",children:[(0,b.jsxs)("p",{className:"my-auto",children:[(0,o.t)("Mmh, this looks like an emtpy circle... Time to add some connections?")," "]}),(0,b.jsx)(u.Z,{onClick:function(e){return e.preventDefault(),Q(!0),!1},type:"secondary",className:"ml-2",children:(0,o.t)("Add")})]})}),(0,b.jsx)(v.Z,{title:"".concat((0,o.t)("Edit"),": ").concat(x.name),isOpen:K,confirmText:(0,o.t)("Update Circle"),defaultValue:x,onCancel:function(){$(!1)},onConfirm:function(){$(!1)}}),(0,b.jsx)(j,{isOpen:B,title:"".concat((0,o.t)("Add Members to")," ").concat(x.name),defaultMembers:I,onCancel:function(){Q(!1)},confirmationStatus:(0,u.s)(F,Y),onConfirm:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({circleId:m,dotYouIds:n});case 2:return e.next=4,G({circleId:m,dotYouIds:r});case 4:Q(!1);case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()})]}):(0,b.jsx)(b.Fragment,{children:"No matching circle found"})}},4257:function(e,n,r){var t=r(4165),a=r(5861),s=r(7408),i=r(7186),c=r(5144),o=r(6117);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pageSize:10},n=e.pageSize,r=(0,o.Z)(),l=r.getSharedSecret,d=c.e.getInstance(l()),u=i.I.getInstance(l()),m=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.pageSize,e.next=3,d.getPendingRequests({pageNumber:1,pageSize:r});case 3:return e.next=5,e.sent.results;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.pageSize,e.next=3,d.getSentRequests({pageNumber:1,pageSize:r});case 3:return e.next=5,e.sent.results;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.pageSize,e.next=3,u.getConnections({pageNumber:1,pageSize:r});case 3:return e.next=5,e.sent.results;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetchPending:(0,s.useQuery)(["pendingConnections",n],(function(){return m({pageSize:n})}),{refetchOnWindowFocus:!1,onError:function(e){return console.error(e)}}),fetchSent:(0,s.useQuery)(["sentRequests",n],(function(){return v({pageSize:n})}),{refetchOnWindowFocus:!1,onError:function(e){return console.error(e)}}),fetchActive:(0,s.useQuery)(["activeConnections",n],(function(){return f({pageSize:n})}),{refetchOnWindowFocus:!1,onError:function(e){return console.error(e)}})}}},1512:function(e,n,r){var t=r(4165),a=r(5861),s=r(7408),i=r(6752),c=r(6117);n.Z=function(e){var n=e.targetDrive,r=(0,c.Z)().getSharedSecret,o=new i.AO({api:i.Ii.Owner,sharedSecret:r()}),l=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return r=e.sent,e.abrupt("return",r.find((function(e){return e.targetDriveInfo.alias===n.alias&&e.targetDriveInfo.type===n.type})));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["drive","".concat(n.alias,"_").concat(n.type)],(function(){return l(n)}),{refetchOnWindowFocus:!1})}}},6770:function(e,n,r){var t=r(4165),a=r(5861),s=r(7408),i=r(6752),c=r(6117);n.Z=function(){var e=(0,c.Z)().getSharedSecret,n=new i.AO({api:i.Ii.Owner,sharedSecret:e()}),r=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["drives"],(function(){return r()}),{refetchOnWindowFocus:!1})}}},2562:function(e,n,r){r.d(n,{Ac:function(){return a},WW:function(){return s},c$:function(){return i}});var t=r(4990),a=[{name:(0,t.t)("None"),value:0},{name:(0,t.t)("Reader"),value:1},{name:(0,t.t)("Editor"),value:3}],s=[{name:(0,t.t)("None"),value:0},{name:(0,t.t)("Read Connections"),value:10},{name:(0,t.t)("Read Circle Members"),value:50}],i=[{name:(0,t.t)("None"),value:0},{name:(0,t.t)("Read Connections"),value:10},{name:(0,t.t)("Manage Connection Requests"),value:30},{name:(0,t.t)("Read Circle Members"),value:50}]}}]);
//# sourceMappingURL=311.b11d08c6.chunk.js.map