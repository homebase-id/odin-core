"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[815],{3692:function(e,t,n){n.d(t,{d:function(){return p}});var r=n(4990),a=n(5713),s=n(9779),i=n(9006),o=n(2042),c=n(2851),l=n(365),u=n(7369),d=n(4498),m=n(6554),v=n(9644),f=n(3779),x=n(1434),h=n(184),p=function(e){var t,n=e.dotYouId,r=e.contactId,o=e.className,c=(0,a.Z)(n?{dotYouId:n}:{id:r}).fetch.data,u=(0,s.Z)((null===c||void 0===c?void 0:c.imageFileId)||void 0,i.F.ContactTargetDrive).fetch.data;return(0,h.jsx)(h.Fragment,{children:null!==c&&void 0!==c&&c.imageUrl||u?(0,h.jsx)("figure",{className:"relative overflow-hidden ".concat(null!==o&&void 0!==o?o:""),children:(0,h.jsx)("img",{src:null!==(t=c.imageUrl)&&void 0!==t?t:u,className:"aspect-square w-full object-cover"})}):(0,h.jsx)(l.Z,{initials:null!==c&&void 0!==c&&c.name?"".concat(c.name.givenName[0]).concat(c.name.surname[0]):"",className:"".concat(null!==o&&void 0!==o?o:"")})})};t.Z=function(e){var t,n,s,i,l,Z,j,y,g,w,N=e.dotYouId,b=e.contactId,k=(0,a.Z)(N?{dotYouId:N}:{id:b}),I=k.fetch.data,C=k.refresh,D=C.mutate,Y=C.status,S=C.error;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.Z,{error:S}),(0,h.jsx)(x.Z,{isOpaqueBg:!0,title:(0,r.t)("Details"),actions:N&&I.id&&(0,h.jsx)(c.Z,{className:"m-2 text-base",state:Y,onClick:function(){return D({contact:I})},confirmOptions:{title:(0,r.t)("Refresh data"),buttonText:(0,r.t)("Refresh"),body:(0,r.t)("Are you sure you want to refresh data, overwritten data cannot be recovered.")},children:(0,r.t)("Refresh")}),children:(0,h.jsxs)("div",{className:"-mx-4 sm:flex sm:flex-row",children:[(0,h.jsx)("div",{className:"flex flex-row px-4 sm:mx-0",children:(0,h.jsx)(p,{dotYouId:N,contactId:b,className:"mx-auto h-[12rem] w-[12rem]"})}),(0,h.jsxs)("div",{className:"px-4",children:[(null===I||void 0===I?void 0:I.name)&&(0,h.jsxs)("div",{className:"my-3 flex flex-row",children:[(0,h.jsx)(m.Z,{className:"mr-2",children:(0,h.jsx)(v.Z,{className:"h-4 w-4"})}),null!==(t=I.name.givenName)&&void 0!==t?t:""," ",null!==(n=I.name.surname)&&void 0!==n?n:""]}),(0,h.jsxs)("div",{className:"my-3 flex flex-row",children:[(0,h.jsx)(m.Z,{className:"mr-2",children:(0,h.jsx)(f.Z,{className:"h-4 w-4"})})," ",null!==(s=null===(i=I.phone)||void 0===i?void 0:i.number)&&void 0!==s?s:""]}),(0,h.jsxs)("div",{className:"my-3 flex flex-row",children:[(0,h.jsx)(m.Z,{className:"mr-2",children:(0,h.jsx)(d.Z,{className:"h-4 w-4"})})," ",null!==(l=null===(Z=I.location)||void 0===Z?void 0:Z.city)&&void 0!==l?l:""," ",null!==(j=null===(y=I.location)||void 0===y?void 0:y.country)&&void 0!==j?j:""]}),(0,h.jsxs)("div",{className:"my-3 flex flex-row",children:[(0,h.jsx)(m.Z,{className:"mr-2",children:(0,h.jsx)(u.Z,{className:"h-4 w-4"})})," ",null!==(g=null===(w=I.birthday)||void 0===w?void 0:w.date)&&void 0!==g?g:""]})]})]})})]})}},1869:function(e,t,n){var r=n(3504),a=n(4990),s=n(5809),i=n(2562),o=n(706),c=n(7927),l=n(4411),u=n(7385),d=n(184);t.Z=function(e){var t,n,m,v,f,x=e.driveGrant,h=e.permissionTree,p=e.className,Z=(0,s.Z)({targetDrive:x.permissionedDrive.drive}).fetch,j=Z.data;return Z.isLoading?(0,d.jsx)(l.Z,{className:"h-4 max-w-xs ".concat(p)}):(0,d.jsx)("div",{className:"flex flex-row ".concat(p),title:h,children:(0,d.jsxs)(r.rU,{to:"/owner/drives/".concat(null===j||void 0===j||null===(v=j.targetDriveInfo)||void 0===v?void 0:v.alias,"_").concat(null===j||void 0===j||null===(f=j.targetDriveInfo)||void 0===f?void 0:f.type),className:"flex flex-row hover:text-slate-700 hover:underline dark:hover:text-slate-400",children:[(0,d.jsx)(c.Z,{className:"mt-1 mb-auto mr-3 h-6 w-6"}),(0,d.jsxs)("div",{className:"mr-2 flex flex-col",children:[(0,d.jsxs)("p",{className:"leading-none ".concat(h?"":"my-auto"),children:[null===j||void 0===j?void 0:j.name,":"," ",(0,u.hz)(null===x||void 0===x?void 0:x.permissionedDrive.permission,i.Ac).name]}),h&&(0,d.jsxs)("small",{className:"",children:[(0,a.t)("Via")," ",h]})]}),(0,d.jsx)(o.Z,{className:"my-auto ml-auto h-5 w-5"})]})},"".concat(null===x||void 0===x||null===(t=x.permissionedDrive)||void 0===t||null===(n=t.drive)||void 0===n?void 0:n.alias,"-").concat(null===x||void 0===x||null===(m=x.permissionedDrive.drive)||void 0===m?void 0:m.type))}},5809:function(e,t,n){var r=n(4165),a=n(5861),s=n(7408),i=n(9631),o=n(8609);t.Z=function(e){var t=e.targetDrive,n=(0,o.ZP)().getSharedSecret,c=new i.AO({api:i.Ii.Owner,sharedSecret:n()}),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return n=e.sent,e.abrupt("return",n.find((function(e){return e.targetDriveInfo.alias===t.alias&&e.targetDriveInfo.type===t.type})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["drive","".concat(t.alias,"_").concat(t.type)],(function(){return l(t)}),{refetchOnWindowFocus:!1})}}},2562:function(e,t,n){n.d(t,{Ac:function(){return a},WW:function(){return s},c$:function(){return i}});var r=n(4990),a=[{name:(0,r.t)("None"),value:0},{name:(0,r.t)("Reader"),value:1},{name:(0,r.t)("Editor"),value:3}],s=[{name:(0,r.t)("None"),value:0},{name:(0,r.t)("Read Connections"),value:10},{name:(0,r.t)("Read Circle Members"),value:50}],i=[{name:(0,r.t)("None"),value:0},{name:(0,r.t)("Read Connections"),value:10},{name:(0,r.t)("Manage Connection Requests"),value:30},{name:(0,r.t)("Read Circle Members"),value:50}]},1715:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(4165),a=n(5861),s=n(5671),i=n(3144),o=n(9340),c=n(1129),l=n(9631),u=n(7186),d=n(2008),m=n(2826),v=function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).transitProvider=void 0,r.circleNetworkProvider=void 0,r.transitProvider=m.Z.getInstance(e),r.circleNetworkProvider=u.I.getInstance(e),r}return(0,i.Z)(n,[{key:"getRecentsFromAllConnections",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n,s,i,o,c=this,l=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:10,n=l.length>1?l[1]:void 0,e.next=4,this.circleNetworkProvider.getConnections({pageNumber:1,pageSize:100});case 4:return s=e.sent,i={},e.next=8,Promise.all(s.results.map(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(a){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getRecents(a.dotYouId,t,null===n||void 0===n?void 0:n[a.dotYouId]);case 2:return s=e.sent,i[a.dotYouId]=s.cursorState,e.abrupt("return",s.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return o=e.sent,e.abrupt("return",{results:o.flat(1),cursorState:i});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRecents",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,s,i,o,c,u,d,m=this,v=arguments;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.length>1&&void 0!==v[1]?v[1]:10,s=v.length>2?v[2]:void 0,i=l.Hm.PublicChannelDrive,o={targetDrive:i,fileType:[l.Hm.PostFileType]},c={cursorState:s,maxRecords:n,includeMetadataHeader:!0},e.next=7,this.transitProvider.QueryBatch(t,o,c);case 7:return u=e.sent,e.next=10,Promise.all(u.searchResults.map(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.fileId,e.t1=null===(a=n.serverMetadata)||void 0===a?void 0:a.accessControlList,e.next=4,m.transitProvider.GetPayload(t,i,n.fileId,n.fileMetadata,n.sharedSecretEncryptedKeyHeader,u.includeMetadataHeader);case 4:return e.t2=e.sent,e.t3=t,e.abrupt("return",{fileId:e.t0,acl:e.t1,content:e.t2,dotYouId:e.t3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:return d=e.sent.filter((function(e){return!!e})),e.abrupt("return",{cursorState:u.cursorState,results:d});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getChannel",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a,s,i,o,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,l.V7)(n),s={targetDrive:a,fileType:[l.Hm.ChannelDefinitionFileType]},i={cursorState:void 0,maxRecords:1,includeMetadataHeader:!0},e.next=5,this.transitProvider.QueryBatch(t,s,i);case 5:if(o=e.sent,e.prev=6,1!=o.searchResults.length){e.next=12;break}return c=o.searchResults[0],e.next=11,this.transitProvider.GetPayload(t,a,c.fileId,c.fileMetadata,c.sharedSecretEncryptedKeyHeader,o.includeMetadataHeader);case 11:return e.abrupt("return",e.sent);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:case"end":return e.stop()}}),e,this,[[6,14]])})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(e){return n.instance||(n.instance=new n(e)),n.instance}}]),n}(d.$);v.instance=void 0},7815:function(e,t,n){n.r(t),n.d(t,{ConnectionPermissionViewer:function(){return q},default:function(){return B}});var r=n(3433),a=n(4165),s=n(5861),i=n(9439),o=n(2791),c=n(6871),l=n(4990),u=n(4395),d=n(3072),m=n(5713),v=n(7148),f=n(9747),x=n(2042),h=n(2851),p=n(4325),Z=n(3692),j=n(4164),y=n(4075),g=n(3412),w=n(8845),N=n(8930),b=n(184),k=function(e){var t=e.title,n=e.isOpen,c=e.currentCircleGrants,u=e.dotYouId,d=e.onConfirm,m=e.onCancel,v=(0,g.Z)("modal-container"),f=(0,y.Z)({}),p=f.provideGrant,Z=p.mutateAsync,k=p.error,I=f.revokeGrant,C=I.mutateAsync,D=I.error,Y=c.map((function(e){return e.circleId})),S=(0,o.useState)([]),R=(0,i.Z)(S,2),P=R[0],F=R[1],G=(0,o.useState)([]),M=(0,i.Z)(G,2),T=M[0],O=M[1];if(!n)return null;var A=(0,b.jsx)(N.Z,{title:t,onClose:m,children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{error:k}),(0,b.jsx)(x.Z,{error:D}),(0,b.jsxs)("form",{onSubmit:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Promise.all(T.map(function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z({circleId:t,dotYouId:u}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.next=5,Promise.all(P.map(function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C({circleId:t,dotYouId:u}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:O([]),F([]),d();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[(0,b.jsxs)("h2",{className:"mb-2 text-lg",children:[(0,l.t)("Member of"),":"]}),(0,b.jsx)(w.Z,{defaultValue:[].concat((0,r.Z)(Y),(0,r.Z)(T)).filter((function(e){return!P.some((function(t){return t===e}))})),onChange:function(e){var t=e.target.value,n=t.filter((function(e){return!Y.some((function(t){return t===e}))}));O(n);var r=Y.filter((function(e){return!t.some((function(t){return t===e}))}));F(r)}}),(0,b.jsxs)("div",{className:"-m-2 flex flex-row-reverse py-3",children:[(0,b.jsx)(h.Z,{className:"m-2",icon:"send",children:(0,l.t)("Save")}),(0,b.jsx)(h.Z,{className:"m-2",type:"secondary",onClick:m,children:(0,l.t)("Cancel")})]})]})]})});return(0,j.createPortal)(A,v)},I=n(8532),C=n(5194),D=n(9080),Y=n(7797),S=n(4411),R=n(8808),P=n(1869),F=n(1434),G=n(7408),M=n(1715),T=n(8609),O=function(e){var t=e.dotYouId,n=(0,T.ZP)().getSharedSecret,r=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=M.Z.getInstance(n()),e.next=5,r.getRecents(t,6);case 5:return e.next=7,e.sent.results;case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetchSingle:(0,G.useQuery)(["social-feed",t],(function(){return r(t)}),{enabled:!!t})}},A=function(e){var t=e.dotYouId,n=O({dotYouId:t}).fetchSingle.data;return(0,b.jsx)("ul",{className:"-m-1 flex flex-row flex-wrap",children:null===n||void 0===n?void 0:n.map((function(e){return(0,b.jsx)("li",{className:"w-1/2 p-1",children:(0,b.jsx)("a",{href:"https://".concat(e.dotYouId,"/home/posts/public-posts/").concat(e.content.slug),target:"__blank",rel:"nofollow noreferrer",children:(0,b.jsxs)("div",{className:"rounded-md border px-4 py-2 hover:shadow-md dark:border-slate-700 hover:dark:shadow-slate-600",children:[e.content.caption,(0,b.jsx)("small",{className:"block text-slate-400 dark:text-slate-600",children:new Date(e.content.dateUnixTime).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]})})},e.fileId)}))})},q=function(e){var t=e.accessGrant,n=e.className,a=e.openEditCircleMembership,s=(0,u.Z)().fetch,i=s.data,o=s.isLoading,c=null===i||void 0===i?void 0:i.filter((function(e){return t.circleGrants.some((function(t){return t.circleId===e.id}))})),d=null===c||void 0===c?void 0:c.flatMap((function(e){var t;return null!==(t=e.driveGrants)&&void 0!==t?t:[]})),m=null===d||void 0===d?void 0:d.reduce((function(e,t){var n=e.findIndex((function(e){return e.permissionedDrive.drive.alias===t.permissionedDrive.drive.alias&&e.permissionedDrive.drive.type===t.permissionedDrive.drive.type}));return-1!==n?(e[n].permissionedDrive.permission=Math.max(e[n].permissionedDrive.permission,t.permissionedDrive.permission),e):[].concat((0,r.Z)(e),[t])}),[]),v=null===m||void 0===m?void 0:m.map((function(e){var t=c.filter((function(t){var n;return null===(n=t.driveGrants)||void 0===n?void 0:n.some((function(t){return t.permissionedDrive.drive.alias===e.permissionedDrive.drive.alias&&t.permissionedDrive.drive.type===e.permissionedDrive.drive.type}))})).map((function(e){return e.name}));return{driveGrant:e,permissionTree:t.join(", ")}}));return(0,b.jsxs)("div",{className:n,children:[(0,b.jsx)(F.Z,{title:(0,l.t)("Member of the following circles"),actions:(0,b.jsx)(h.Z,{onClick:a,type:"mute",icon:"edit"}),isOpaqueBg:!0,children:o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(S.Z,{className:"mb-4 h-4 max-w-xs"}),(0,b.jsx)(S.Z,{className:"mb-4 h-4 max-w-xs"}),(0,b.jsx)(S.Z,{className:"mb-4 h-4 max-w-xs"})]}):c.length?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"-my-4",children:null===c||void 0===c?void 0:c.map((function(e){return(0,b.jsx)(R.Z,{circleDef:e,className:"my-4"},e.id)}))})}):(0,b.jsx)("p",{children:(0,l.t)("Member of no circles")})}),null!==v&&void 0!==v&&v.length?(0,b.jsx)(F.Z,{title:(0,l.t)("Access on the following drives"),isOpaqueBg:!0,children:(0,b.jsx)("div",{className:"-my-6",children:v.map((function(e){return(0,b.jsx)(P.Z,{driveGrant:e.driveGrant,permissionTree:e.permissionTree,className:"my-6"},"".concat(e.driveGrant.permissionedDrive.drive.alias,"-").concat(e.driveGrant.permissionedDrive.drive.type))}))})}):null]})},B=function(){var e,t,n=(0,c.UO)().dotYouId,r=(0,c.s0)(),u=(0,d.Z)({dotYouId:n}),j=u.fetch,y=j.data,g=j.isLoading,w=u.disconnect,N=w.mutate,S=w.status,R=w.error,P=u.ignoreRequest,G=P.mutateAsync,M=P.status,T=P.error,O=u.revokeConnectionRequest,B=O.mutate,H=O.status,U=O.error,E=u.block,L=E.mutate,_=E.status,Q=E.error,V=u.unblock,z=V.mutate,W=V.status,K=V.error,$=(0,v.Z)(),J=(0,o.useState)(!1),X=(0,i.Z)(J,2),ee=X[0],te=X[1],ne=(0,o.useState)(!1),re=(0,i.Z)(ne,2),ae=re[0],se=re[1],ie=(0,m.Z)({dotYouId:n}).fetch.data;if(g)return(0,b.jsx)(Y.Z,{});if(!y&&!ie)return(0,b.jsx)(b.Fragment,{children:(0,l.t)("No matching connection found")});var oe="connected"===y.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.Z,{type:"primary",className:"m-2",onClick:function(){se(!0)},state:S,children:(0,l.t)("Edit Access")}),(0,b.jsx)(h.Z,{type:"remove",className:"m-2",onClick:function(){return N({})},icon:"trash",state:S,confirmOptions:{title:"".concat((0,l.t)("Remove")," ").concat(n),buttonText:(0,l.t)("Remove"),body:"".concat((0,l.t)("Are you sure you want to remove")," ").concat(n," ").concat((0,l.t)("from your connections. They will lose all existing access."))},children:(0,l.t)("Remove")})]}):"sent"===y.status?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(h.Z,{type:"secondary",className:"m-2",onClick:function(){B({targetDotYouId:y.senderDotYouId},{onSuccess:function(){return r("/owner/connections")}})},state:H,children:(0,l.t)("Revoke")})}):(0,b.jsx)(b.Fragment,{}),ce=y;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Z,{error:R}),(0,b.jsx)(x.Z,{error:U}),(0,b.jsx)(x.Z,{error:Q}),(0,b.jsx)(x.Z,{error:K}),(0,b.jsx)(x.Z,{error:T}),(0,b.jsx)(D.Z,{icon:C.Z,title:(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("span",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"block",children:"".concat(null!==ie&&void 0!==ie&&ie.name?"".concat(ie.name.givenName," ").concat(ie.name.surname):n)}),(0,b.jsx)("small",{className:"block text-sm",children:"(".concat(y.status,")")})]})}),actions:(0,b.jsxs)(b.Fragment,{children:["blocked"===y.status?(0,b.jsx)(h.Z,{type:"remove",className:"m-2",onClick:function(){return z(n)},state:W,confirmOptions:{title:"".concat((0,l.t)("Unblock")," ").concat(n),buttonText:(0,l.t)("Unblock"),body:"".concat((0,l.t)("Are you sure you want to unblock")," ").concat(n)},children:(0,l.t)("Unblock")}):(0,b.jsx)(h.Z,{type:"remove",className:"m-2",onClick:function(){return L(n)},state:_,confirmOptions:{title:"".concat((0,l.t)("Block")," ").concat(n),buttonText:(0,l.t)("Block"),body:"".concat((0,l.t)("Are you sure you want to block")," ").concat(n)},children:(0,l.t)("Block")}),oe]}),breadCrumbs:[{href:"/owner/connections",title:"Contacts"},{title:n}]}),"blocked"===y.status?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(f.Z,{type:"critical",children:(0,l.t)("This person is currently blocked")})}):null,"pending"===y.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Z,{type:"info",children:(0,b.jsxs)("div",{className:"flex flex-grow flex-col sm:flex-row",children:[(0,b.jsxs)("div",{className:"mr-1",children:['"',(0,b.jsx)(p.Z,{children:y.senderDotYouId}),'"'," ",(0,l.t)("sent you a connection request"),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:y.message})]}),(0,b.jsxs)("div",{className:"my-auto ml-auto flex flex-row",children:[(0,b.jsxs)(h.Z,{type:"primary",className:"my-auto ml-auto",onClick:function(){te(!0)},icon:"check",children:[(0,l.t)("Confirm request"),"..."]}),(0,b.jsx)(h.Z,{type:"secondary",className:"m-2",onClick:(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G({senderDotYouId:y.senderDotYouId},{onSuccess:function(){return r("/owner/connections")}});case 2:$("Ignored");case 3:case"end":return e.stop()}}),e)}))),state:M,icon:"times",children:(0,l.t)("Ignore request")})]})]})}),(0,b.jsx)(I.Z,{isOpen:ee,senderDotYouId:y.senderDotYouId,confirmText:(0,l.t)("Connect"),onConfirm:function(){te(!1)},onCancel:function(){te(!1)},pendingConnection:y})]}):null,ie&&(0,b.jsx)(Z.Z,{dotYouId:n}),"connected"===y.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(F.Z,{isOpaqueBg:!0,title:"".concat((0,l.t)("Posts of")," ").concat(null===ie||void 0===ie||null===(e=ie.name)||void 0===e?void 0:e.givenName," ").concat(null===ie||void 0===ie||null===(t=ie.name)||void 0===t?void 0:t.surname),children:(0,b.jsx)(A,{dotYouId:n})}),(0,b.jsx)(q,{accessGrant:ce.accessGrant,openEditCircleMembership:function(){return se(!0)}}),(0,b.jsx)(k,{title:"".concat((0,l.t)("Edit Circle Membership for")," ").concat(n),isOpen:ae,dotYouId:n,currentCircleGrants:ce.accessGrant.circleGrants,onCancel:function(){se(!1)},onConfirm:function(){se(!1)}}),(0,b.jsx)("section",{children:(0,b.jsxs)("p",{className:"text-sm",children:[(0,l.t)("Connected since"),": ",new Date(ce.created).toLocaleDateString()]})})]}):null]})}}}]);
//# sourceMappingURL=815.370bac89.chunk.js.map