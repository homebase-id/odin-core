"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[20],{5660:function(e,t,n){var r=n(885),a=n(2791),s=n(184);t.Z=function(e){var t=e.className,n=e.state,i=(0,a.useState)(null),c=(0,r.Z)(i,2),u=c[0],o=c[1],l=(0,a.useState)(new Date),d=(0,r.Z)(l,2),p=d[0],f=d[1];if((0,a.useEffect)((function(){"success"===n&&o(new Date)}),[n]),(0,a.useEffect)((function(){var e=setTimeout((function(){f(new Date)}),3e4);return function(){clearTimeout(e)}}),[p]),!u)return null;var m=p.getTime()-u.getTime(),v=u?m<=6e4?"a few seconds ago":m<=6e5?"a few minutes ago":u.toLocaleString():"";return v?(0,s.jsxs)("p",{className:"".concat(t," text-sm"),children:["Last saved ",v]}):null}},3004:function(e,t,n){var r=n(3504),a=n(5660),s=n(184);t.Z=function(e){var t=e.title,n=e.actions,i=e.saveStatus,c=e.breadCrumbs,u=e.icon;return(0,s.jsx)("section",{className:"-my-8 -mx-10 mb-10 border-b-2 border-gray-100 bg-slate-50 py-8 px-10 dark:border-gray-700 dark:bg-slate-800",children:(0,s.jsxs)("div",{className:"flex flex-row",children:[(0,s.jsxs)("div",{className:"flex-col",children:[c&&(0,s.jsx)("ul",{className:"mb-2 hidden flex-row sm:flex",children:c.map((function(e,t){return(0,s.jsx)("li",{className:"mr-2",children:e.href?(0,s.jsxs)(r.rU,{to:e.href,className:"",children:[e.title,(0,s.jsx)("span",{className:"ml-2",children:">"})]}):(0,s.jsx)("span",{className:"text-slate-500",children:e.title})},t)}))}),t&&(0,s.jsxs)("h1",{className:"mb-5 flex flex-row text-4xl dark:text-white",children:[u&&u({className:"h-8 w-8 my-auto mr-4"})," ",t]})]}),(0,s.jsxs)("div",{className:"ml-auto ",children:[(0,s.jsx)("div",{className:"flex flex-row",children:n}),i&&(0,s.jsx)(a.Z,{className:"mt-1",state:i})]})]})})}},1869:function(e,t,n){var r=n(3504),a=n(1512),s=n(2562),i=n(894),c=n(7266),u=n(184);t.Z=function(e){var t,n,o=e.driveGrant,l=e.permissionTree,d=e.className,p=(0,a.Z)({targetDrive:o.drive}).fetch.data;return(0,u.jsx)("div",{className:"flex flex-row ".concat(d),title:l,children:(0,u.jsxs)(r.rU,{to:"/owner/drives/".concat(null===p||void 0===p||null===(t=p.targetDriveInfo)||void 0===t?void 0:t.alias,"_").concat(null===p||void 0===p||null===(n=p.targetDriveInfo)||void 0===n?void 0:n.type),className:"contents",children:[(0,u.jsx)(i.Z,{className:"mt-1 mb-auto mr-3 h-6 w-6"}),(0,u.jsxs)("div",{className:"flex flex-col",children:[(0,u.jsxs)("p",{className:"leading-none ".concat(l?"":"my-auto"),children:[null===p||void 0===p?void 0:p.name,":"," ",(0,c.hz)(o.permission,s.A).name]}),l&&(0,u.jsx)("small",{className:"ml-1",children:l})]})]})},"".concat(o.drive.alias,"-").concat(o.drive.type))}},8491:function(e,t,n){var r=n(184);t.Z=function(e){var t=e.title,n=e.className,a=e.children,s=e.isOpaqueBg,i=void 0!==s&&s,c=e.isBorderLess,u=void 0!==c&&c;return(0,r.jsxs)("section",{className:"my-5 rounded-md ".concat(i?u?"":"rounded-lg border-[1px] border-gray-200 border-opacity-80 px-5 dark:border-gray-700":"bg-slate-50 px-5 dark:bg-slate-800"," dark:text-slate-300 ").concat(null!==n&&void 0!==n?n:""),children:[t?(0,r.jsx)("div",{className:"relative border-b-[1px] border-gray-200 border-opacity-80 py-5 transition-all duration-300 dark:border-gray-700",children:(0,r.jsx)("h3",{className:"text-2xl dark:text-white",children:t})}):null,(0,r.jsx)("div",{className:"py-5 ",children:a})]})}},2020:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(6871),a=n(4990),s=n(4165),i=n(5861),c=n(7408),u=n(4180),o=n(6117),l=function(e){var t=e.appId,n=(0,o.Z)().getSharedSecret,r=u.Z.getInstance(n()),a=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appId,e.next=3,r.GetAppRegistration({appId:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,c.useQuery)(["app",t],(function(){return a({appId:t})}),{refetchOnMount:!1,refetchOnWindowFocus:!1})}},d=n(6814),p=n(3004),f=n(1869),m=n(8491),v=n(184),h=function(){var e,t,n,s=(0,r.UO)().appKey,i=decodeURIComponent(s),c=l({appId:i}).fetch,u=c.data;return c.isLoading&&v.Fragment,u?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(p.Z,{icon:d.Z,title:"".concat(u.name),breadCrumbs:[{href:"/owner/apps",title:"My apps"},{title:null!==(e=u.name)&&void 0!==e?e:""}]}),(0,v.jsx)("section",{children:(0,v.jsxs)("p",{children:["Permissions: ",u.grant.permissionSet.permissions]})}),(0,v.jsx)(m.Z,{title:(0,a.t)("Access on the following drives"),isOpaqueBg:!0,children:null!==(t=u.grant)&&void 0!==t&&null!==(n=t.driveGrants)&&void 0!==n&&n.length?(0,v.jsx)(v.Fragment,{children:u.grant.driveGrants.map((function(e){return(0,v.jsx)(f.Z,{driveGrant:e,className:"mb-6"},"".concat(e.drive.alias,"-").concat(e.drive.type))}))}):(0,v.jsx)("div",{className:"flex flex-row",children:(0,v.jsx)("p",{className:"my-auto",children:(0,a.t)("This app doesn't have any access")})})})]}):(0,v.jsx)(v.Fragment,{children:"No matching app found"})}},7266:function(e,t,n){n.d(t,{RG:function(){return i},fP:function(){return s},hz:function(){return c},rS:function(){return r},vr:function(){return a}});var r=function(e){return e[Math.floor(Math.random()*e.length)]},a=function(){return r(["Ut bibendum, neque ac lacinia aliquam, justo ipsum aliquam urna, id vestibulum augue mauris sit amet lacus.","Proin ante sapien, interdum sit amet eros sit amet, eleifend pharetra metus.","Sed elit mi, euismod eget neque at, suscipit aliquam nisi.","Nunc diam arcu, tincidunt quis dignissim ac, volutpat non odio."])},s=function(){var e=["adorable","beautiful","clean","drab","elegant","fancy","glamorous","handsome","long","magnificent","old-fashioned","plain","quaint","sparkling","ugliest","unsightly","angry","bewildered","clumsy","defeated","embarrassed","fierce","grumpy","helpless","itchy","jealous","lazy","mysterious","nervous","obnoxious","panicky","repulsive","scary","thoughtless","uptight","worried"];return"".concat(r(e)," ").concat(r(e)," ").concat(r(["women","men","children","teeth","feet","people","leaves","mice","geese","halves","knives","wives","lives","elves","loaves","potatoes","tomatoes","cacti","foci","fungi","nuclei","syllabuses","analyses","diagnoses","oases","theses","crises","phenomena","criteria","data"]))},i=function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),a=0;a<n;a++)r[a]=t.charCodeAt(a);return r.buffer},c=function(e,t){return t.reduce((function(t,n){return n.value>t.value&&n.value<=e?n:t}),t[0])}},1512:function(e,t,n){var r=n(4165),a=n(5861),s=n(7408),i=n(1803),c=n(6117);t.Z=function(e){var t=e.targetDrive,n=(0,c.Z)().getSharedSecret,u=new i.AO({api:i.Ii.Owner,sharedSecret:n()}),o=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return n=e.sent,e.abrupt("return",n.find((function(e){return e.targetDriveInfo.alias===t.alias&&e.targetDriveInfo.type===t.type})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["drive","".concat(t.alias,"_").concat(t.type)],(function(){return o(t)}),{refetchOnMount:!1,refetchOnWindowFocus:!1})}}},4180:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(4165),a=n(5861),s=n(5671),i=n(3144),c=n(9340),u=n(1129),o=function(e){(0,c.Z)(n,e);var t=(0,u.Z)(n);function n(e){return(0,s.Z)(this,n),t.call(this,e)}return(0,i.Z)(n,[{key:"RegisterAppClient",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createAxiosClient(),e.next=3,n.post("appmanagement/register/client",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"RegisterChatAppClient_temp",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createAxiosClient(),e.next=3,n.post("appmanagement/register/chatclient_temp",t);case 3:return a=e.sent,console.log("RegisterChatAppClient_temp returning response"),console.log(a),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"RegisterApp",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createAxiosClient(),e.next=3,n.post("appmanagement/register/app",t);case 3:return a=e.sent,console.log("RegisterApp returning response"),console.log(a),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetAppRegistration",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createAxiosClient(),e.next=3,n.post("appmanagement/app",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"GetAppRegistrations",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.createAxiosClient(),e.next=3,t.get("appmanagement/list");case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(e){return n.instance||(n.instance=new n(e)),n.instance}}]),n}(n(2008).$);o.instance=void 0},2562:function(e,t,n){n.d(t,{A:function(){return a},W:function(){return s}});var r=n(4990),a=[{name:(0,r.t)("None"),value:0},{name:(0,r.t)("Reader"),value:1},{name:(0,r.t)("Editor"),value:3}],s=[{name:(0,r.t)("None"),value:0},{name:(0,r.t)("Read Connections"),value:10},{name:(0,r.t)("Read Connection Requests"),value:30},{name:(0,r.t)("Read Circle Members"),value:50}]}}]);
//# sourceMappingURL=20.47fcb3cc.chunk.js.map