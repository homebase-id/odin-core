{"version":3,"file":"static/js/561.1d388e6a.chunk.js","mappings":"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","sources":["components/Dialog/CircleDialog/CircleDialog.tsx","components/Form/PermissionFlagsEditor.tsx","components/Form/PermissionLevelEditor.tsx","components/Icons/Triangle/Triangle.tsx","components/Templates/Circles/Circles.tsx","hooks/circles/useCircles.ts","hooks/drives/useDrives.ts","provider/connections/CircleMembershipProvider.ts","provider/connections/CircleProvider.ts","provider/permission/permissionLevels.ts","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import { useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { t } from '../../../helpers/i18n/dictionary';\nimport useCircles from '../../../hooks/circles/useCircles';\nimport useDrives from '../../../hooks/drives/useDrives';\nimport usePortal from '../../../hooks/portal/usePortal';\nimport { CircleDefinition } from '../../../provider/connections/CirlceDataTypes';\nimport {\n  circlePermissionLevels,\n  drivePermissionLevels,\n} from '../../../provider/permission/permissionLevels';\nimport ActionButton from '../../Buttons/ActionButton';\nimport Input from '../../Form/Input';\nimport PermissionFlagsEditor from '../../Form/PermissionFlagsEditor';\nimport PermissionLevelEditor from '../../Form/PermissionLevelEditor';\nimport Textarea from '../../Form/Textarea';\nimport DialogWrapper from '../Common/DialogWrapper';\n\nconst CircleDialog = ({\n  title,\n  confirmText,\n  isOpen,\n  defaultValue,\n  onConfirm,\n  onCancel,\n}: {\n  title: string;\n  confirmText?: string;\n\n  isOpen: boolean;\n  defaultValue?: CircleDefinition;\n\n  onConfirm: () => void;\n  onCancel: () => void;\n}) => {\n  const target = usePortal('modal-container');\n  const { mutate: createOrUpdate, status: createOrUpdateStatus } = useCircles().createOrUpdate;\n  const { data: drives } = useDrives().fetch;\n\n  const [newCircleDefinition, setNewCircleDefinition] = useState<CircleDefinition>({\n    drives: defaultValue.drivesGrants || [],\n    ...defaultValue,\n    drivesGrants: undefined,\n  });\n\n  if (!isOpen) {\n    return null;\n  }\n\n  const reset = () => {\n    setNewCircleDefinition({\n      drives: defaultValue.drivesGrants || [],\n      ...defaultValue,\n      drivesGrants: undefined,\n    });\n  };\n\n  const dialog = (\n    <DialogWrapper title={title} onClose={onCancel} size=\"4xlarge\">\n      <>\n        <form\n          onSubmit={(e) => {\n            e.preventDefault();\n\n            createOrUpdate(\n              { circleDefinition: newCircleDefinition },\n              {\n                onSuccess: () => {\n                  onConfirm();\n                  // Set timeout to give parent component time to update defaultValue\n                  setTimeout(() => {\n                    reset();\n                  }, 10);\n                },\n              }\n            );\n\n            return false;\n          }}\n        >\n          <div className=\"mb-5\">\n            <label htmlFor=\"name\">{t('Name')}</label>\n            <Input\n              id=\"name\"\n              name=\"circleName\"\n              defaultValue={newCircleDefinition.name}\n              onChange={(e) => {\n                setNewCircleDefinition({ ...newCircleDefinition, name: e.target.value });\n              }}\n              required\n            />\n          </div>\n          <div className=\"mb-5\">\n            <label htmlFor=\"name\">{t('Description')}</label>\n            <Textarea\n              id=\"description\"\n              name=\"circleDescription\"\n              defaultValue={newCircleDefinition.description}\n              onChange={(e) => {\n                setNewCircleDefinition({\n                  ...newCircleDefinition,\n                  description: e.target.value,\n                });\n              }}\n              required\n            />\n          </div>\n\n          <div className=\"mb-5 flex flex-row\">\n            <label htmlFor=\"name\" className=\"my-auto mr-2\">\n              {t('Permissions')}\n            </label>\n            <PermissionFlagsEditor\n              className=\"ml-auto\"\n              permissionLevels={circlePermissionLevels}\n              defaultValue={newCircleDefinition.permissions.keys ?? [0]}\n              onChange={(newValue) => {\n                setNewCircleDefinition({\n                  ...newCircleDefinition,\n                  permissions: { keys: newValue },\n                });\n              }}\n            />\n          </div>\n\n          {drives?.length ? (\n            <div className=\"my-7\">\n              <h2 className=\"mb-4 text-lg\">Drive Permissions:</h2>\n\n              {drives.map((drive, index) => {\n                return (\n                  <div key={index} className=\"mb-2 flex flex-row\">\n                    <label\n                      htmlFor={`${drive.targetDriveInfo.alias}-${drive.targetDriveInfo.type}`}\n                      className=\"my-auto mr-2\"\n                    >\n                      {drive.name}\n                    </label>\n                    <PermissionLevelEditor\n                      className=\"ml-auto\"\n                      permissionLevels={drivePermissionLevels}\n                      defaultValue={\n                        newCircleDefinition.drives?.find(\n                          (driveGrant) =>\n                            driveGrant.drive.alias === drive.targetDriveInfo.alias &&\n                            driveGrant.drive.type === drive.targetDriveInfo.type\n                        )?.permission ?? 0\n                      }\n                      onChange={(value) => {\n                        if (value > 0) {\n                          setNewCircleDefinition({\n                            ...newCircleDefinition,\n                            drives: [\n                              ...newCircleDefinition.drives.filter(\n                                (driveGrant) =>\n                                  driveGrant.drive.alias !== drive.targetDriveInfo.alias ||\n                                  driveGrant.drive.type !== drive.targetDriveInfo.type\n                              ),\n                              { drive: drive.targetDriveInfo, permission: value },\n                            ],\n                          });\n                        } else {\n                          setNewCircleDefinition({\n                            ...newCircleDefinition,\n                            drives: [\n                              ...newCircleDefinition.drives.filter(\n                                (driveGrant) =>\n                                  driveGrant.drive.alias !== drive.targetDriveInfo.alias ||\n                                  driveGrant.drive.type !== drive.targetDriveInfo.type\n                              ),\n                            ],\n                          });\n                        }\n                      }}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          ) : null}\n\n          <div className=\"-mx-2 py-3 sm:flex sm:flex-row-reverse\">\n            <ActionButton className=\"mx-2\" state={createOrUpdateStatus} icon={'send'}>\n              {confirmText || t('Add Circle')}\n            </ActionButton>\n            <ActionButton\n              className=\"mx-2\"\n              type=\"secondary\"\n              onClick={() => {\n                reset();\n                onCancel();\n              }}\n            >\n              {t('Cancel')}\n            </ActionButton>\n          </div>\n        </form>\n      </>\n    </DialogWrapper>\n  );\n\n  return createPortal(dialog, target);\n};\n\nexport default CircleDialog;\n","import { ReactNode, useRef, useState } from 'react';\nimport useOutsideTrigger from '../../hooks/clickedOutsideTrigger/useClickedOutsideTrigger';\nimport Check from '../Icons/Check/Check';\nimport Triangle from '../Icons/Triangle/Triangle';\n\nconst PermissionFlagsEditor = ({\n  className,\n  permissionLevels,\n  onChange,\n  defaultValue,\n}: {\n  className: string;\n  permissionLevels: { name: string; value: number }[];\n  onChange?: (value: number[]) => void;\n  defaultValue: number[];\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [value, setInnerValue] = useState(defaultValue);\n  const wrapperRef = useRef(null);\n  useOutsideTrigger(wrapperRef, () => setIsOpen(false));\n\n  const currentValue =\n    defaultValue?.length >= 2\n      ? 'Multiple'\n      : (defaultValue?.[0]\n          ? permissionLevels.find((level) => level.value === defaultValue[0])?.name\n          : permissionLevels[0].name) ?? permissionLevels[0].name;\n\n  const setValue = (value: number[]) => {\n    setInnerValue(value);\n    onChange && onChange(value);\n  };\n\n  return (\n    <div className={className ?? ''}>\n      <div\n        className=\"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800\"\n        onClick={() => setIsOpen(!isOpen)}\n        ref={wrapperRef}\n      >\n        <div className=\"flex min-w-[6rem] flex-row py-1 px-2\">\n          <span className=\"my-auto mr-2 select-none\">{currentValue}</span>{' '}\n          <Triangle className=\"my-auto ml-auto h-2 w-2 rotate-90\" />\n        </div>\n        <ul\n          className={`absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ${\n            isOpen\n              ? 'z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700'\n              : 'max-h-0'\n          }`}\n        >\n          {permissionLevels.map((level) => (\n            <Option\n              key={level.value}\n              isChecked={\n                value.some((val) => val === level.value) ||\n                (value.length === 0 && level.value === 0)\n              }\n              onChange={() =>\n                value.some((val) => val === level.value)\n                  ? setValue(value.filter((val) => val !== level.value))\n                  : level.value !== 0\n                  ? setValue([...value, level.value])\n                  : setValue([])\n              }\n            >\n              {level.name}\n            </Option>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nconst Option = ({\n  className,\n  isChecked,\n  children,\n  onChange,\n}: {\n  className?: string;\n  isChecked: boolean;\n  children: ReactNode;\n  onChange: () => void;\n}) => {\n  return (\n    <li\n      className={`flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ${className}`}\n      onClick={onChange}\n    >\n      <Check\n        className={`my-auto mr-3 h-4 w-4 ${\n          isChecked ? 'text-slate-700 dark:text-slate-200' : 'text-transparent'\n        }`}\n      />{' '}\n      <span className={`mr-auto block h-full py-1`}>{children}</span>\n    </li>\n  );\n};\n\nexport default PermissionFlagsEditor;\n","import { ReactNode, useRef, useState } from 'react';\nimport useOutsideTrigger from '../../hooks/clickedOutsideTrigger/useClickedOutsideTrigger';\nimport Check from '../Icons/Check/Check';\nimport Triangle from '../Icons/Triangle/Triangle';\n\nconst PermissionLevelEditor = ({\n  className,\n  permissionLevels,\n  onChange,\n  defaultValue,\n}: {\n  className: string;\n  permissionLevels: { name: string; value: number }[];\n  onChange?: (value: number) => void;\n  defaultValue: number;\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [value, setInnerValue] = useState(defaultValue);\n  const wrapperRef = useRef(null);\n  useOutsideTrigger(wrapperRef, () => setIsOpen(false));\n\n  const currentValue = permissionLevels.reduce((prevValue, currValue) => {\n    if (currValue.value > prevValue.value && currValue.value <= defaultValue) {\n      return currValue;\n    }\n\n    return prevValue;\n  }, permissionLevels[0]);\n\n  const setValue = (value: number) => {\n    setInnerValue(value);\n    onChange(value);\n  };\n\n  return (\n    <div className={className ?? ''}>\n      <div\n        className=\"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800\"\n        onClick={() => setIsOpen(!isOpen)}\n        ref={wrapperRef}\n      >\n        <div className=\"flex min-w-[6rem] flex-row py-1 px-2\">\n          <span className=\"my-auto mr-2 select-none\">{currentValue.name}</span>{' '}\n          <Triangle className=\"my-auto ml-auto h-2 w-2 rotate-90\" />\n        </div>\n        <ul\n          className={`absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ${\n            isOpen\n              ? 'z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700'\n              : 'max-h-0'\n          }`}\n        >\n          {permissionLevels.map((level) => (\n            <Option\n              key={level.value}\n              isChecked={level.value === 0 ? value === level.value : value >= level.value}\n              onChange={() => (value !== level.value ? setValue(level.value) : setValue(0))}\n            >\n              {level.name}\n            </Option>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nconst Option = ({\n  className,\n  isChecked,\n  children,\n  onChange,\n}: {\n  className?: string;\n  isChecked: boolean;\n  children: ReactNode;\n  onChange: () => void;\n}) => {\n  return (\n    <li\n      className={`flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ${className}`}\n      onClick={onChange}\n    >\n      <Check\n        className={`my-auto mr-3 h-4 w-4 ${\n          isChecked ? 'text-slate-700 dark:text-slate-200' : 'text-transparent'\n        }`}\n      />{' '}\n      <span className={`mr-auto block h-full py-1`}>{children}</span>\n    </li>\n  );\n};\n\nexport default PermissionLevelEditor;\n","import { FC } from 'react';\n\nconst Triangle: FC<IconProps> = ({ className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 384 512\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z\" />\n    </svg>\n  );\n};\n\nexport default Triangle;\n","import { BuiltInProfiles, getTargetDriveFromProfileId } from '@youfoundation/transit-lib';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { t } from '../../../helpers/i18n/dictionary';\nimport useCircles from '../../../hooks/circles/useCircles';\nimport CirclesIcon from '../../Icons/Circles/Circles';\nimport { CircleDefinition } from '../../../provider/connections/CirlceDataTypes';\nimport ActionButton from '../../Buttons/ActionButton';\nimport CircleDialog from '../../Dialog/CircleDialog/CircleDialog';\nimport PageMeta from '../../Layout/PageMeta/PageMeta';\n\nconst Circles = () => {\n  const {\n    fetch: { data: circles, isLoading: isCirclesLoading },\n  } = useCircles();\n\n  const [isOpenCreate, setIsOpenCreate] = useState(false);\n\n  if (isCirclesLoading) {\n    <>Loading</>;\n  }\n\n  return (\n    <>\n      <PageMeta\n        icon={CirclesIcon}\n        title={t('My Circles')}\n        actions={\n          <>\n            <ActionButton icon=\"plus\" onClick={() => setIsOpenCreate(true)}>\n              {t('Add Circle')}\n            </ActionButton>\n          </>\n        }\n      />\n      <section className=\"-my-4\">\n        {circles && !isCirclesLoading\n          ? circles.map((circleDef) => (\n              <CircleCard circleDefinintion={circleDef} key={circleDef.id} className=\"py-4\" />\n            ))\n          : null}\n      </section>\n      <CircleDialog\n        title={t('Create new Circle')}\n        isOpen={isOpenCreate}\n        defaultValue={{\n          name: '',\n          description: '',\n          drives: [\n            {\n              drive: getTargetDriveFromProfileId(BuiltInProfiles.StandardProfileId),\n              permission: 4,\n            },\n          ],\n          permissions: {\n            keys: [10],\n          },\n        }}\n        onConfirm={() => {\n          setIsOpenCreate(false);\n        }}\n        onCancel={() => {\n          setIsOpenCreate(false);\n        }}\n      />\n    </>\n  );\n};\n\nconst CircleCard = ({\n  circleDefinintion,\n  className,\n}: {\n  circleDefinintion: CircleDefinition;\n  className: string;\n}) => {\n  return (\n    <div className={`${className}`}>\n      <Link to={`/owner/circles/${encodeURIComponent(circleDefinintion.id)}`} className=\"contents\">\n        <div\n          className={`h-full rounded-md border-[1px] border-gray-200 border-opacity-60 bg-white transition-colors hover:bg-slate-100 dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-slate-700`}\n        >\n          <h2 className=\"bg-slate-100 p-4 text-xl dark:bg-slate-700 dark:text-slate-200\">\n            {circleDefinintion.name}\n          </h2>\n          <div className=\"p-4\">\n            <p>{circleDefinintion.description}</p>\n            <p className=\"text-xs\">\n              Created on: {new Date(circleDefinintion.created).toLocaleDateString()}\n            </p>\n          </div>\n        </div>\n      </Link>\n    </div>\n  );\n};\n\nexport default Circles;\n","import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { CircleMembershipProvider } from '../../provider/connections/CircleMembershipProvider';\nimport { CircleProvider } from '../../provider/connections/CircleProvider';\nimport { CircleDefinition } from '../../provider/connections/CirlceDataTypes';\nimport useAuth from '../auth/useAuth';\n\nconst useCircles = () => {\n  const queryClient = useQueryClient();\n\n  const { getSharedSecret } = useAuth();\n  const circleProvider = CircleProvider.getInstance(getSharedSecret());\n  const circleMembershipProvider = CircleMembershipProvider.getInstance(getSharedSecret());\n\n  const fetchAll = async () => {\n    return await circleProvider.getCircles();\n  };\n\n  const createOrUpdate = async ({ circleDefinition }: { circleDefinition: CircleDefinition }) => {\n    if (circleDefinition.id) {\n      return await circleProvider.updateDefinition(circleDefinition);\n    } else {\n      return await circleProvider.createDefinition(circleDefinition);\n    }\n  };\n\n  const provideGrant = async ({ circleId, dotYouId }: { circleId: string; dotYouId: string }) => {\n    return await circleMembershipProvider.add({ circleId: circleId, dotYouId: dotYouId });\n  };\n\n  const revokeGrant = async ({ circleId, dotYouId }: { circleId: string; dotYouId: string }) => {\n    return await circleMembershipProvider.remove({ circleId: circleId, dotYouId: dotYouId });\n  };\n\n  return {\n    fetch: useQuery(['circles'], () => fetchAll(), {\n      refetchOnWindowFocus: false,\n    }),\n\n    createOrUpdate: useMutation(createOrUpdate, {\n      onSuccess: (data, param) => {\n        queryClient.invalidateQueries(['circles']);\n      },\n      onError: (ex) => {\n        console.error(ex);\n      },\n    }),\n\n    provideGrant: useMutation(provideGrant, {\n      onSuccess: async (data, param) => {\n        queryClient.invalidateQueries(['circles']);\n        queryClient.invalidateQueries(['connectionInfo', param.dotYouId]);\n      },\n      onError: (ex) => {\n        console.error(ex);\n      },\n    }),\n\n    revokeGrant: useMutation(revokeGrant, {\n      onSuccess: async (data, param) => {\n        queryClient.invalidateQueries(['circles']);\n        queryClient.invalidateQueries(['connectionInfo', param.dotYouId]);\n      },\n      onError: (ex) => {\n        console.error(ex);\n      },\n    }),\n  };\n};\n\nexport default useCircles;\n","import { useQuery } from '@tanstack/react-query';\nimport { ApiType, CoreClient } from '@youfoundation/transit-lib';\nimport useAuth from '../auth/useAuth';\n\nconst useDrives = () => {\n  const { getSharedSecret } = useAuth();\n  const client = new CoreClient({ api: ApiType.Owner, sharedSecret: getSharedSecret() });\n\n  const fetchAll = async () => {\n    return await (\n      await client.driveProvider.GetDrives({ pageNumber: 1, pageSize: 100 })\n    ).results;\n  };\n\n  return {\n    fetch: useQuery(['drives'], () => fetchAll(), {\n      refetchOnWindowFocus: false,\n    }),\n  };\n};\n\nexport default useDrives;\n","import { OwnerProviderBase } from '../OwnerProviderBase';\n\n//Handles management of Circles\nexport class CircleMembershipProvider extends OwnerProviderBase {\n  private static instance: CircleMembershipProvider;\n  private root = '/circles/connections/circles';\n\n  constructor(sharedSecret: Uint8Array | undefined) {\n    if (!sharedSecret) {\n      throw 'Shared Secret is required';\n    }\n    super(sharedSecret);\n  }\n\n  async add(membershipGrant: { dotYouId: string; circleId: string }) {\n    const client = super.createAxiosClient();\n    const url = this.root + '/add';\n\n    return client\n      .post(url, membershipGrant)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  async remove(membershipGrant: { dotYouId: string; circleId: string }) {\n    const client = super.createAxiosClient();\n    const url = this.root + '/revoke';\n\n    return client\n      .post(url, membershipGrant)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  async fetchMembers(circleId: string): Promise<string[]> {\n    const client = super.createAxiosClient();\n    const url = this.root + '/list';\n\n    return client\n      .post(url, { circleId: circleId })\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  public static getInstance(sharedSecret): CircleMembershipProvider {\n    if (!CircleMembershipProvider.instance) {\n      CircleMembershipProvider.instance = new CircleMembershipProvider(sharedSecret);\n    }\n\n    return CircleMembershipProvider.instance;\n  }\n}\n","import { CircleDefinition } from './CirlceDataTypes';\nimport { OwnerProviderBase } from '../OwnerProviderBase';\n\n//Handles management of Circles\nexport class CircleProvider extends OwnerProviderBase {\n  private static instance: CircleProvider;\n  private root = '/circles/definitions';\n\n  constructor(sharedSecret: Uint8Array | undefined) {\n    if (!sharedSecret) {\n      throw 'Shared Secret is required';\n    }\n    super(sharedSecret);\n  }\n\n  async updateDefinition(circleDefinition: CircleDefinition) {\n    const client = super.createAxiosClient();\n    const url = this.root + '/update';\n\n    const data = { ...circleDefinition };\n    data.drivesGrants = data.drivesGrants || data.drives;\n    data.drives = undefined;\n    console.log('actual update data:', data);\n\n    return client\n      .post(url, data)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  async createDefinition(circleDefinition: CircleDefinition) {\n    const client = super.createAxiosClient();\n    const url = this.root + '/create';\n\n    return client\n      .post(url, circleDefinition)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  async getCircles(): Promise<CircleDefinition[]> {\n    const client = super.createAxiosClient();\n    const url = this.root + '/list';\n\n    return client\n      .get(url)\n      .then((response) => {\n        return response.data.map((circleDef) => {\n          circleDef.drivesGrants = circleDef.drivesGrants?.map((grant) => {\n            return {\n              ...grant,\n              permission:\n                grant.permission === 'Read'\n                  ? 2\n                  : grant.permission === 'Write'\n                  ? 4\n                  : grant.permission === 'ReadWrite'\n                  ? 5\n                  : grant.permission,\n            };\n          });\n\n          return circleDef;\n        });\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  async getCircle(circleId: string): Promise<CircleDefinition> {\n    const client = super.createAxiosClient();\n    const url = this.root + '/circle';\n\n    return client\n      .post(url, circleId)\n      .then((response) => {\n        return response.data;\n      })\n      .then((circleDef) => {\n        // Parse string permissionflags to number representations\n        circleDef.drivesGrants = circleDef.drivesGrants?.map((grant) => {\n          return {\n            ...grant,\n            permission:\n              grant.permission === 'Read'\n                ? 2\n                : grant.permission === 'Write'\n                ? 4\n                : grant.permission === 'ReadWrite'\n                ? 5\n                : grant.permission,\n          };\n        });\n\n        // const globalPermission = circleDef.permissions.permissions;\n        // circleDef.permissions.permissions =\n        //   globalPermission === 'ApproveConnection'\n        //     ? 1\n        //     : globalPermission === 'ReadConnections'\n        //     ? 2\n        //     : globalPermission === 'ApproveConnection, ReadConnections'\n        //     ? 3\n        //     : globalPermission === 'ApproveConnection, ReadConnections, UpdateConnections'\n        //     ? 7\n        //     : globalPermission ===\n        //       'ApproveConnection, ReadConnections, UpdateConnections, DeleteConnections'\n        //     ? 15\n        //     : globalPermission;\n        return circleDef;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  async removeCircle(circleId: string) {\n    const client = super.createAxiosClient();\n    const url = this.root + '/delete';\n\n    return client\n      .post(url, circleId)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  public static getInstance(sharedSecret): CircleProvider {\n    if (!CircleProvider.instance) {\n      CircleProvider.instance = new CircleProvider(sharedSecret);\n    }\n\n    return CircleProvider.instance;\n  }\n}\n","import { t } from '../../helpers/i18n/dictionary';\n\nexport const drivePermissionLevels = [\n  { name: t('None'), value: 0 },\n  { name: t('Reader'), value: 1 },\n  { name: t('Editor'), value: 3 },\n];\n\nexport const circlePermissionLevels = [\n  { name: t('None'), value: 0 },\n  { name: t('Read Connections'), value: 10 },\n  { name: t('Read Connection Requests'), value: 30 },\n  { name: t('Read Circle Members'), value: 50 },\n];\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["title","confirmText","isOpen","defaultValue","onConfirm","onCancel","target","usePortal","useCircles","createOrUpdate","mutate","createOrUpdateStatus","status","drives","useDrives","fetch","data","useState","drivesGrants","undefined","newCircleDefinition","setNewCircleDefinition","reset","dialog","onClose","size","onSubmit","e","preventDefault","circleDefinition","onSuccess","setTimeout","className","htmlFor","t","id","name","onChange","value","required","description","permissionLevels","circlePermissionLevels","permissions","keys","newValue","length","map","drive","index","targetDriveInfo","alias","type","drivePermissionLevels","find","driveGrant","permission","filter","state","icon","onClick","createPortal","Option","isChecked","children","setIsOpen","setInnerValue","wrapperRef","useRef","useOutsideTrigger","currentValue","level","setValue","ref","some","val","reduce","prevValue","currValue","xmlns","viewBox","fill","d","CircleCard","circleDefinintion","to","encodeURIComponent","Date","created","toLocaleDateString","circles","isCirclesLoading","isLoading","isOpenCreate","setIsOpenCreate","CirclesIcon","actions","circleDef","getTargetDriveFromProfileId","BuiltInProfiles","queryClient","useQueryClient","getSharedSecret","useAuth","circleProvider","CircleProvider","circleMembershipProvider","CircleMembershipProvider","fetchAll","getCircles","updateDefinition","createDefinition","provideGrant","circleId","dotYouId","add","revokeGrant","remove","useQuery","refetchOnWindowFocus","useMutation","param","invalidateQueries","onError","ex","console","error","client","CoreClient","api","ApiType","sharedSecret","driveProvider","GetDrives","pageNumber","pageSize","results","root","membershipGrant","url","this","post","then","response","catch","instance","OwnerProviderBase","log","get","grant","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}