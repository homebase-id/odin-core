"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[178],{5660:function(e,t,a){var s=a(885),n=a(2791),l=a(184);t.Z=function(e){var t=e.className,a=e.state,r=(0,n.useState)(null),c=(0,s.Z)(r,2),i=c[0],o=c[1],u=(0,n.useState)(new Date),d=(0,s.Z)(u,2),m=d[0],p=d[1];if((0,n.useEffect)((function(){"success"===a&&o(new Date)}),[a]),(0,n.useEffect)((function(){var e=setTimeout((function(){p(new Date)}),3e4);return function(){clearTimeout(e)}}),[m]),!i)return null;var x=m.getTime()-i.getTime(),f=i?x<=6e4?"a few seconds ago":x<=6e5?"a few minutes ago":i.toLocaleString():"";return f?(0,l.jsxs)("p",{className:"".concat(t," text-sm"),children:["Last saved ",f]}):null}},3004:function(e,t,a){var s=a(3504),n=a(5660),l=a(184);t.Z=function(e){var t=e.title,a=e.actions,r=e.saveStatus,c=e.breadCrumbs,i=e.icon;return(0,l.jsx)("section",{className:"-my-8 -mx-10 mb-10 border-b-2 border-gray-100 bg-slate-50 py-8 px-10 dark:border-gray-700 dark:bg-slate-800",children:(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsxs)("div",{className:"flex-col",children:[c&&(0,l.jsx)("ul",{className:"mb-2 hidden flex-row sm:flex",children:c.map((function(e,t){return(0,l.jsx)("li",{className:"mr-2",children:e.href?(0,l.jsxs)(s.rU,{to:e.href,className:"",children:[e.title,(0,l.jsx)("span",{className:"ml-2",children:">"})]}):(0,l.jsx)("span",{className:"text-slate-500",children:e.title})},t)}))}),t&&(0,l.jsxs)("h1",{className:"mb-5 flex flex-row text-4xl dark:text-white",children:[i&&i({className:"h-8 w-8 my-auto mr-4"})," ",t]})]}),(0,l.jsxs)("div",{className:"ml-auto ",children:[(0,l.jsx)("div",{className:"flex flex-row",children:a}),r&&(0,l.jsx)(n.Z,{className:"mt-1",state:r})]})]})})}},1582:function(e,t,a){a.r(t);var s=a(6871),n=a(4990),l=a(6376),r=a(9072),c=a(7631),i=a(3004),o=a(1869),u=a(8321),d=a(8491),m=a(184);t.default=function(){var e,t,a,p,x,f,v=(0,s.UO)().appKey,h=decodeURIComponent(v),y=(0,l.Z)({appId:h}),j=y.fetch,w=j.data,N=j.isLoading,g=y.revokeApp,b=g.mutate,k=g.status,Z=y.allowApp,A=Z.mutate,C=Z.status;return N&&m.Fragment,w?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.Z,{icon:c.Z,title:"".concat(w.name),breadCrumbs:[{href:"/owner/apps",title:"My apps"},{title:null!==(e=w.name)&&void 0!==e?e:""}],actions:(0,m.jsx)(m.Fragment,{children:w.isRevoked?(0,m.jsx)(r.Z,{type:"primary",className:"my-auto ml-2",onClick:function(){return A({appId:h})},state:C,confirmOptions:{title:(0,n.t)("Allow App"),buttonText:(0,n.t)("Allow"),body:"".concat((0,n.t)("Are you sure you want to restore")," ").concat(w.name," ").concat((0,n.t)("and allow access to your identity"))},children:"Allow app"}):(0,m.jsx)(r.Z,{type:"remove",className:"my-auto ml-2",onClick:function(){return b({appId:h})},state:k,confirmOptions:{title:(0,n.t)("Revoke App"),buttonText:(0,n.t)("Revoke"),body:"".concat((0,n.t)("Are you sure you want to revoke")," ").concat(w.name," ").concat((0,n.t)("from all access to your identity"))},children:"Revoke app"})})}),null!==(t=w.grant.permissionSet)&&void 0!==t&&t.keys?(0,m.jsx)(d.Z,{title:(0,n.t)("Access"),isOpaqueBg:!0,children:(0,m.jsx)("div",{className:"-my-4",children:w.grant.permissionSet.keys.map((function(e){return(0,m.jsx)(u.Z,{permission:e,className:"my-4"},"".concat(e))}))})}):null,(0,m.jsx)(d.Z,{title:(0,n.t)("Access on the following drives"),isOpaqueBg:!0,children:null!==(a=w.grant)&&void 0!==a&&null!==(p=a.driveGrants)&&void 0!==p&&p.length?(0,m.jsx)("div",{className:"-my-4",children:null===(x=w.grant)||void 0===x||null===(f=x.driveGrants)||void 0===f?void 0:f.map((function(e){var t,a;return(0,m.jsx)(o.Z,{driveGrant:e,className:"my-4"},"".concat(null===e||void 0===e||null===(t=e.drive)||void 0===t?void 0:t.alias,"-").concat(null===e||void 0===e||null===(a=e.drive)||void 0===a?void 0:a.type))}))}):(0,m.jsx)("div",{className:"flex flex-row",children:(0,m.jsx)("p",{className:"my-auto",children:(0,n.t)("This app doesn't have any access")})})})]}):(0,m.jsx)(m.Fragment,{children:"No matching app found"})}}}]);
//# sourceMappingURL=178.0b20d0c9.chunk.js.map