"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[178],{5660:function(e,t,s){var a=s(885),n=s(2791),l=s(184);t.Z=function(e){var t=e.className,s=e.state,r=(0,n.useState)(null),i=(0,a.Z)(r,2),o=i[0],c=i[1],d=(0,n.useState)(new Date),m=(0,a.Z)(d,2),u=m[0],p=m[1];if((0,n.useEffect)((function(){"success"===s&&c(new Date)}),[s]),(0,n.useEffect)((function(){var e=setTimeout((function(){p(new Date)}),3e4);return function(){clearTimeout(e)}}),[u]),!o)return null;var x=u.getTime()-o.getTime(),f=o?x<=6e4?"a few seconds ago":x<=6e5?"a few minutes ago":o.toLocaleString():"";return f?(0,l.jsxs)("p",{className:"".concat(t," text-sm"),children:["Last saved ",f]}):null}},3004:function(e,t,s){var a=s(3504),n=s(5660),l=s(184);t.Z=function(e){var t=e.title,s=e.actions,r=e.saveStatus,i=e.breadCrumbs,o=e.icon;return(0,l.jsx)("section",{className:"-my-8 -mx-10 mb-10 border-b-2 border-gray-100 bg-slate-50 py-8 px-10 dark:border-gray-700 dark:bg-slate-800",children:(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,l.jsxs)("div",{className:"flex-col",children:[i&&(0,l.jsx)("ul",{className:"mb-2 hidden flex-row sm:flex",children:i.map((function(e,t){return(0,l.jsx)("li",{className:"mr-2",children:e.href?(0,l.jsxs)(a.rU,{to:e.href,className:"",children:[e.title,(0,l.jsx)("span",{className:"ml-2",children:">"})]}):(0,l.jsx)("span",{className:"text-slate-500",children:e.title})},t)}))}),t&&(0,l.jsxs)("h1",{className:"mb-5 flex flex-row text-4xl dark:text-white",children:[o&&o({className:"h-8 w-8 my-auto mr-4"})," ",t]})]}),(0,l.jsxs)("div",{className:"ml-auto",children:[(0,l.jsx)("div",{className:"-m-2 flex flex-col flex-wrap justify-end sm:flex-row sm:items-center",children:s}),r&&(0,l.jsx)(n.Z,{className:"mt-1",state:r})]})]})})}},1582:function(e,t,s){s.r(t);var a=s(6871),n=s(4990),l=s(6376),r=s(9072),i=s(7631),o=s(3004),c=s(1869),d=s(8321),m=s(8491),u=s(184);t.default=function(){var e,t,s,p,x,f,v=(0,a.UO)().appKey,h=decodeURIComponent(v),y=(0,l.Z)({appId:h}),j=y.fetch,N=j.data,g=j.isLoading,w=y.revokeApp,b=w.mutate,k=w.status,Z=y.allowApp,A=Z.mutate,R=Z.status;return g&&u.Fragment,N?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.Z,{icon:i.Z,title:"".concat(N.name),breadCrumbs:[{href:"/owner/apps",title:"My apps"},{title:null!==(e=N.name)&&void 0!==e?e:""}],actions:(0,u.jsx)(u.Fragment,{children:N.isRevoked?(0,u.jsx)(r.Z,{type:"primary",className:"m-2 my-auto",onClick:function(){return A({appId:h})},state:R,confirmOptions:{title:(0,n.t)("Restore App"),buttonText:(0,n.t)("Restore"),body:"".concat((0,n.t)("Are you sure you want to restore")," ").concat(N.name," ").concat((0,n.t)("and allow access to your identity"))},children:"Restore app"}):(0,u.jsx)(r.Z,{type:"remove",className:"m-2 my-auto",onClick:function(){return b({appId:h})},state:k,confirmOptions:{title:(0,n.t)("Revoke App"),buttonText:(0,n.t)("Revoke"),body:"".concat((0,n.t)("Are you sure you want to revoke")," ").concat(N.name," ").concat((0,n.t)("from all access to your identity"))},children:"Revoke app"})})}),null!==(t=N.grant.permissionSet)&&void 0!==t&&t.keys?(0,u.jsx)(m.Z,{title:(0,n.t)("Access"),isOpaqueBg:!0,children:(0,u.jsx)("div",{className:"-my-4",children:N.grant.permissionSet.keys.map((function(e){return(0,u.jsx)(d.Z,{permission:e,className:"my-4"},"".concat(e))}))})}):null,(0,u.jsx)(m.Z,{title:(0,n.t)("Access on the following drives"),isOpaqueBg:!0,children:null!==(s=N.grant)&&void 0!==s&&null!==(p=s.driveGrants)&&void 0!==p&&p.length?(0,u.jsx)("div",{className:"-my-4",children:null===(x=N.grant)||void 0===x||null===(f=x.driveGrants)||void 0===f?void 0:f.map((function(e){var t,s,a,n;return(0,u.jsx)(c.Z,{driveGrant:e,className:"my-4"},"".concat(null===e||void 0===e||null===(t=e.permissionedDrive)||void 0===t||null===(s=t.drive)||void 0===s?void 0:s.alias,"-").concat(null===e||void 0===e||null===(a=e.permissionedDrive)||void 0===a||null===(n=a.drive)||void 0===n?void 0:n.type))}))}):(0,u.jsx)("div",{className:"flex flex-row",children:(0,u.jsx)("p",{className:"my-auto",children:(0,n.t)("This app doesn't have any access")})})})]}):(0,u.jsx)(u.Fragment,{children:"No matching app found"})}}}]);
//# sourceMappingURL=178.bff27302.chunk.js.map