"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[987],{340:function(e,t,r){r.d(t,{Z:function(){return S},V:function(){return C}});var n=r(1413),i=r(9439),a=r(6752),o=r(2791),s=r(4990),u=r(4164),c=r(4395),l=r(3412),p=r(9072),d=r(3433),f=r(4925),h=r(1261),v=r(4665),m=r(1688),y=r(184),g=["defaultValue","options","onChange"],b=function(e){var t,r=e.defaultValue,a=e.options,u=e.onChange,c=(0,f.Z)(e,g),l=(0,o.useRef)(null),p=(0,o.useState)(!1),b=(0,i.Z)(p,2),x=b[0],Z=b[1];(0,h.Z)(l,(function(){return Z(!1)}));var w=(0,o.useState)(null!==r&&void 0!==r?r:[]),P=(0,i.Z)(w,2),j=P[0],O=P[1];(0,o.useEffect)((function(){O(null!==r&&void 0!==r?r:[])}),[r]);var k=function(e){j.some((function(t){return t.value===e.value}))?O((0,d.Z)(j.filter((function(t){return t.value!==e.value})))):O([].concat((0,d.Z)(j),[e]))},C=a.filter((function(e){return!j.some((function(t){return t.value===e.value}))}));return(0,o.useEffect)((function(){x||u({target:{name:e.name,value:null===j||void 0===j?void 0:j.map((function(e){return e.value}))}})}),[x]),(0,y.jsxs)("div",{className:"relative",ref:l,children:[(0,y.jsxs)("ul",{className:"relative flex min-h-[2.7rem] select-none flex-row flex-wrap py-[6px] px-[10px]",onClick:function(e){return e.preventDefault(),Z(!x),!1},children:[j.map((function(e){return(0,y.jsxs)("li",{className:"my-auto mr-1 mb-1 flex cursor-pointer flex-row bg-slate-100 p-1 text-xs hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-500",onClick:function(){return k(e)},children:[e.label,(0,y.jsx)(m.Z,{className:"my-auto ml-1 h-2 w-2"})]},e.value)})),(0,y.jsx)(v.Z,{className:"my-auto ml-auto h-4 w-4 rotate-90"})]}),x&&(0,y.jsx)("ul",{className:"absolute top-full left-0 right-0 z-30 select-none border border-slate-100 bg-white dark:border-slate-700 dark:bg-gray-800",children:null!==C&&void 0!==C&&C.length?C.map((function(e){return(0,y.jsx)("li",{onClick:function(){return k(e)},className:"cursor-pointer px-2 py-1 text-sm hover:bg-slate-50 dark:hover:bg-slate-600",children:e.label},e.value)})):(0,y.jsx)("li",{className:"px-2 py-1 text-sm",children:(0,s.t)("No options")})}),(0,y.jsx)("input",(0,n.Z)((0,n.Z)({},c),{},{onClick:function(e){return e.preventDefault(),Z(!x),!1},type:null!==(t=e.type)&&void 0!==t?t:"input",className:"absolute inset-0 w-full rounded border border-gray-300 bg-transparent py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 ".concat(e.className)}))]})},x=r(3225),Z=function(e){var t=e.className;return(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"currentColor",className:t,children:(0,y.jsx)("path",{d:"M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"})})},w=function(e){var t=e.className;return(0,y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",fill:"currentColor",className:t,children:(0,y.jsx)("path",{d:"M352 144c0-44.2 35.8-80 80-80s80 35.8 80 80v48c0 17.7 14.3 32 32 32s32-14.3 32-32V144C576 64.5 511.5 0 432 0S288 64.5 288 144v48H64c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V256c0-35.3-28.7-64-64-64H352V144z"})})},P=r(1326),j=r(8395),O=function(e){var t=e.group,r=e.onChange,n=t===a.hh.Anonymous.toLowerCase()||t===a.hh.Authenticated.toLowerCase()?w:Z;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"flex w-full rounded-lg border p-4",children:[(0,y.jsx)("div",{className:"mr-2 flex flex-col justify-center",children:(0,y.jsx)("div",{className:"rounded-full bg-slate-100 p-3",children:(0,y.jsx)(n,{className:"h-5 w-5"})})}),(0,y.jsxs)("div",{className:"flex w-full flex-col",children:[(0,y.jsxs)(x.Z,{value:t.toLowerCase(),onChange:r,className:"w-full border-0 pl-0",children:[(0,y.jsx)("option",{value:"anonymous",children:(0,s.t)("Public")}),(0,y.jsx)("option",{value:"authenticated",children:(0,s.t)("Authenticated")}),(0,y.jsx)("option",{value:"connected",children:(0,s.t)("Connected")}),(0,y.jsx)("option",{value:"owner",children:(0,s.t)("Owner")})]}),(0,y.jsx)("p",{className:"pl-[0.2rem] text-sm text-slate-500",children:t===a.hh.Anonymous.toLowerCase()?(0,s.t)("Accessible by everyone on the internet"):t===a.hh.Authenticated.toLowerCase()?(0,s.t)("Only people that are authenticated"):t===a.hh.Connected.toLowerCase()?(0,s.t)("Only people that are connected to you"):(0,s.t)("Only you")})]})]})})},k=function(e){var t,r,d=e.title,f=e.confirmText,h=e.isOpen,v=e.acl,m=e.onConfirm,g=e.onCancel,x=(0,l.Z)("modal-container"),Z=(0,o.useState)(v),w=(0,i.Z)(Z,2),k=w[0],C=w[1],S=(0,c.Z)().fetch.data;if(!h)return null;var A=(0,y.jsx)(j.Z,{title:d,onClose:g,children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h2",{className:"mb-2 text-xl",children:(0,s.t)("Circles with access")}),(0,y.jsx)("div",{className:"mb-4",children:(0,y.jsx)(b,{id:"circles",onChange:function(e){C((0,n.Z)((0,n.Z)({},k),{},{circleIdList:e.target.value,requiredSecurityGroup:!e.target.value.length||k.requiredSecurityGroup!==a.hh.Anonymous.toLowerCase()&&k.requiredSecurityGroup!==a.hh.Owner.toLowerCase()?k.requiredSecurityGroup:a.hh.Connected}))},defaultValue:null===(t=k.circleIdList)||void 0===t?void 0:t.map((function(e){var t;return{value:e,label:null===(t=S.find((function(t){return a.j4.stringGuidsEqual(t.id,e)})))||void 0===t?void 0:t.name}})).filter((function(e){return void 0!==e.label})),options:null===S||void 0===S?void 0:S.map((function(e){return{value:e.id,label:e.name}})),className:"dark:text-color-100 dark:bg-slate-700"})}),(0,y.jsx)("h2",{className:"mb-2 text-xl",children:(0,s.t)("General access")}),(0,y.jsx)(O,{onChange:function(e){var t=(0,n.Z)((0,n.Z)({},k),{},{requiredSecurityGroup:a.hh[(0,P.Ho)(e.target.value)]});!t.circleIdList||t.requiredSecurityGroup!==a.hh.Owner.toLowerCase()&&t.requiredSecurityGroup!==a.hh.Anonymous.toLowerCase()||(t.circleIdList=[]),C(t)},group:null!==(r=k.requiredSecurityGroup)&&void 0!==r?r:a.hh.Owner}),(0,y.jsxs)("div",{className:"-m-2 flex flex-row-reverse px-4 py-3",children:[(0,y.jsx)(p.Z,{className:"m-2",onClick:function(){m(k)},children:null!==f&&void 0!==f?f:"Save"}),(0,y.jsx)(p.Z,{className:"m-2",type:"secondary",onClick:function(){C(v),g()},children:(0,s.t)("Cancel")})]})]})});return(0,u.createPortal)(A,x)},C=function(e){return e.requiredSecurityGroup===a.hh.Anonymous.toLowerCase()?(0,s.t)("Public"):e.requiredSecurityGroup===a.hh.Authenticated.toLowerCase()?(0,s.t)("Authenticated"):e.requiredSecurityGroup===a.hh.Connected.toLowerCase()?(0,s.t)("Connections"):(e.requiredSecurityGroup,a.hh.Owner.toLowerCase(),(0,s.t)("Owner"))},S=function(e){var t=e.acl,r=e.onChange,u=e.isEdit,c=e.onClose,l=e.className,p=(0,o.useState)(!1),d=(0,i.Z)(p,2),f=d[0],h=d[1],v=function(e){return t.requiredSecurityGroup===a.hh.Anonymous.toLowerCase()||t.requiredSecurityGroup===a.hh.Authenticated.toLowerCase()?(0,y.jsx)(w,(0,n.Z)({},e)):(0,y.jsx)(Z,(0,n.Z)({},e))};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{title:t.requiredSecurityGroup,className:"mr-2 inline-block ".concat(r?"":"cursor-default"," ").concat(null!==l&&void 0!==l?l:""),onClick:function(){return r&&h(!0)},children:(0,y.jsx)(v,{className:"h-5 w-5"})}),(0,y.jsx)(k,{acl:t,isOpen:u||f,title:(0,s.t)("Edit security"),onCancel:function(){h(!1),c&&c()},onConfirm:function(e){r(e),h(!1),c&&c()}})]})}},6916:function(e,t,r){var n=r(1413),i=r(184);t.Z=function(e){var t;return(0,i.jsx)("input",(0,n.Z)((0,n.Z)({},e),{},{type:null!==(t=e.type)&&void 0!==t?t:"input",className:"w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 ".concat(e.className)}))}},3225:function(e,t,r){var n=r(1413),i=r(184);t.Z=function(e){return(0,i.jsx)("select",(0,n.Z)((0,n.Z)({},e),{},{className:"w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 ".concat(e.className),children:e.children}))}},2465:function(e,t,r){var n=r(1413),i=r(184);t.Z=function(e){return(0,i.jsx)("textarea",(0,n.Z)((0,n.Z)({},e),{},{className:"w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 ".concat(e.className)}))}},8491:function(e,t,r){var n=r(184);t.Z=function(e){var t=e.title,r=e.className,i=e.children,a=e.isOpaqueBg,o=void 0!==a&&a,s=e.isBorderLess,u=void 0!==s&&s;return(0,n.jsxs)("section",{className:"my-5 rounded-md ".concat(o?u?"":"rounded-lg border-[1px] border-gray-200 border-opacity-80 px-5 dark:border-gray-700":"bg-slate-50 px-5 dark:bg-slate-800"," dark:text-slate-300 ").concat(null!==r&&void 0!==r?r:""),children:[t?(0,n.jsx)("div",{className:"relative border-b-[1px] border-gray-200 border-opacity-80 py-5 transition-all duration-300 dark:border-gray-700",children:(0,n.jsx)("h3",{className:"text-2xl dark:text-white",children:t})}):null,(0,n.jsx)("div",{className:"py-5 ",children:i})]})}},4395:function(e,t,r){var n=r(4165),i=r(5861),a=r(7408),o=r(3766),s=r(6117);t.Z=function(){var e=(0,s.Z)().getSharedSecret,t=o.k.getInstance(e()),r=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCircles();case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r?void 0:r.sort((function(e,t){return(e.disabled?1:0)-(t.disabled?1:0)})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetch:(0,a.useQuery)(["circles"],(function(){return r()}),{refetchOnWindowFocus:!1})}}},7221:function(e,t,r){var n=r(4165),i=r(1413),a=r(5861),o=r(7408),s=r(6752),u=r(6117);t.Z=function(e){var t=e.profileId,r=e.sectionId,c=(0,u.Z)().getSharedSecret,l=new s.KU({api:s.Ii.Owner,sharedSecret:c()}),p=(0,o.useQueryClient)(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l.profileDataProvider.getProfileAttributes(t,r,100);case 4:return a=e.sent,e.abrupt("return",a.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{typeDefinition:Object.values(s.H1).find((function(t){return t.type.toString()===e.type}))})})));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,i,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.profileId,i=t.sectionId,r&&i){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,l.profileDataProvider.getProfileAttributes(r,i,100);case 5:return o=e.sent,e.next=8,Promise.all(o.map(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.profileDataProvider.removeAttribute(r,t.fileId));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,o.useQuery)(["attributes",t,r],(function(){return d(t,r)}),{refetchOnWindowFocus:!1}),removeAttributes:(0,o.useMutation)(f,{onError:function(e){console.error(e)},onSettled:function(e,t,r){p.invalidateQueries(["attributes",r.profileId,r.sectionId])}})}}},2516:function(e,t,r){var n=r(4165),i=r(1413),a=r(5861),o=r(7408),s=r(6752),u=r(6117);t.Z=function(){var e=(0,u.Z)().getSharedSecret,t=new s.KU({api:s.Ii.Owner,sharedSecret:e()}),r=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.homePageProvider.getAttributes(s.Dg.HomePage.toString());case 2:return r=e.sent.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{typeDefinition:{type:s.Dg.HomePage.toString(),name:"Home Page",description:""}})})),e.next=5,t.homePageProvider.getAttributes(s.Dg.Theme.toString());case 5:return a=e.sent.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{typeDefinition:{type:s.Dg.Theme.toString(),name:"Theme",description:""}})})),e.abrupt("return",{home:r,theme:a});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetch:(0,o.useQuery)(["homeAtrributes"],(function(){return r()}),{refetchOnWindowFocus:!1})}}},1695:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(3433),i=r(4165),a=r(1413),o=r(5861),s=r(7408),u=r(6752),c=r(5671),l=r(3144),p=r(9340),d=r(1129),f=function(e){(0,p.Z)(r,e);var t=(0,d.Z)(r);function r(e){var n;return(0,c.Z)(this,r),(n=t.call(this,{api:u.Ii.Owner,sharedSecret:e})).publishFile=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,r){var o,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.createAxiosClient(),s={filename:t,config:{crossOriginBehavior:"allowAllOrigins",contentType:"string"},sections:r.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{queryParams:h(e.queryParams)})}))},e.next=4,o.post("/optimization/cdn/publish",s);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),n}return(0,l.Z)(r,null,[{key:"getInstance",value:function(e){return r.instance||(r.instance=new r(e)),r.instance}}]),r}(u.BX);f.instance=void 0;var h=function(e){return(e=(0,a.Z)({},e)).tagsMatchAtLeastOne&&(e.tagsMatchAtLeastOne=e.tagsMatchAtLeastOne.map((function(e){return u.j4.uint8ArrayToBase64(u.j4.stringToUint8Array(e))}))),e.tagsMatchAll&&(e.tagsMatchAll=e.tagsMatchAll.map((function(e){return u.j4.uint8ArrayToBase64(u.j4.stringToUint8Array(e))}))),e.sender&&(e.sender=e.sender.map((function(e){return u.j4.uint8ArrayToBase64(u.j4.stringToUint8Array(e))}))),e},v=r(6117),m=r(7221),y=r(2516),g=function(){var e=(0,v.Z)().getSharedSecret,t=(0,y.Z)().fetch.data,r=(0,m.Z)({profileId:u.P.StandardProfileId.toString(),sectionId:u.P.PersonalInfoSectionId.toString()}).fetch.data,c=new u.KU({api:u.Ii.Owner,sharedSecret:e()}),l=function(){var s=(0,o.Z)((0,i.Z)().mark((function s(){var l,p,d,h;return(0,i.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return l=f.getInstance(e()),p=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var n,o,s,c,p,d,f,h,v,m,y,g,b,x,Z,w,P,j,O,k,C;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={alias:u.Ib.DefaultDriveId.toString(),type:u._U.ProfileDriveType.toString()},p={alias:u.P.StandardProfileId.toString(),type:u._U.ProfileDriveType.toString()},d={targetDrive:p,fileType:[u.Uz.AttributeFileType],tagsMatchAll:[u.P.PersonalInfoSectionId.toString(),u.H1.Name.type.toString()]},f={targetDrive:p,fileType:[u.Uz.AttributeFileType],tagsMatchAll:[u.P.PersonalInfoSectionId.toString(),u.H1.Photo.type.toString()]},h={targetDrive:p,fileType:[u.Uz.AttributeFileType],tagsMatchAtLeastOne:[u.P.ExternalLinksSectionId.toString()]},v={targetDrive:c,fileType:[u.Uz.AttributeFileType],tagsMatchAtLeastOne:[u.Dg.Theme.toString()]},m={targetDrive:p,fileType:[u.Uz.AttributeFileType],tagsMatchAtLeastOne:[u.H1.FullBio.type.toString()]},y={targetDrive:p,fileType:[u.Uz.AttributeFileType],tagsMatchAtLeastOne:[u.H1.Link.type.toString()]},g={targetDrive:c,fileType:[u.Uz.AttributeFileType],tagsMatchAtLeastOne:[u.Dg.HomePage.toString()]},x=[{name:"socials",queryParams:h,resultOptions:b={includeAdditionalThumbnails:!1,includeJsonContent:!0,includePayload:!1,excludePreviewThumbnail:!1}},{name:"name",queryParams:d,resultOptions:b},{name:"photo",queryParams:f,resultOptions:b},{name:"bio",queryParams:m,resultOptions:b},{name:"link",queryParams:y,resultOptions:b},{name:"theme",queryParams:v,resultOptions:b},{name:"home",queryParams:g,resultOptions:b}],Z=[{name:"name",queryParams:d,resultOptions:b},{name:"photo",queryParams:f,resultOptions:b}],w=null===(n=t.home[0])||void 0===n?void 0:n.data.headerImageUrl,P=(0,u.H3)(u.Ib.DefaultDriveId.toString()),j={targetDrive:P,fileType:[0],tagsMatchAtLeastOne:[w]},w&&x.push({name:w,queryParams:j,resultOptions:b}),O=null===r||void 0===r||null===(o=r.find((function(e){return e.acl.requiredSecurityGroup===u.hh.Anonymous&&e.type===u.H1.Photo.type.toString()})))||void 0===o||null===(s=o.data)||void 0===s?void 0:s.profileImageId,k=(0,u.H3)(u.P.StandardProfileId.toString()),C={targetDrive:k,fileType:[0],tagsMatchAtLeastOne:[O]},O&&(x.push({name:O,queryParams:C,resultOptions:b}),Z.push({name:O,queryParams:C,resultOptions:(0,a.Z)((0,a.Z)({},b),{},{includeAdditionalThumbnails:!0})})),e.t0=Promise,e.next=23,l.publishFile("profile.json",x);case 23:return e.t1=e.sent,e.next=26,l.publishFile("public.json",Z);case 26:return e.t2=e.sent,e.t3=[e.t1,e.t2],e.next=30,e.t0.all.call(e.t0,e.t3);case 30:return e.abrupt("return",e.sent);case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,r,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,u.T4)(),r={targetDrive:t,fileType:[u.Hm.BlogChannelDefinitionFileType]},n=[{name:"channels",queryParams:r,resultOptions:{includeAdditionalThumbnails:!1,includeJsonContent:!0,includePayload:!1,excludePreviewThumbnail:!1}}],e.next=6,l.publishFile("channels.json",n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(){var t,r,a,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={includeAdditionalThumbnails:!1,includeJsonContent:!0,includePayload:!1,excludePreviewThumbnail:!1},e.next=3,c.blogDefinitionProvider.getChannelDefinitions();case 3:return r=e.sent,a=r.map((function(e){var r={targetDrive:{alias:e.channelId,type:u.Hm.ChannelDriveType.toString()},fileType:[u.Hm.BlogPostFileType]};return{name:e.channelId,queryParams:r,resultOptions:t}})),e.next=7,c.blogPostReadonlyProvider.getRecentPosts("Article",6*r.length);case 7:return o=e.sent.map((function(e){var r={targetDrive:c.blogDefinitionProvider.getPublishChannelDrive(e.channelId),fileType:[0],tagsMatchAtLeastOne:[e.primaryImageFileId]};return{name:e.primaryImageFileId,queryParams:r,resultOptions:t}})),e.next=10,l.publishFile("blogs.json",[].concat((0,n.Z)(a),(0,n.Z)(o)));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.next=6,p();case 6:return s.next=8,d();case 8:return s.next=10,h();case 10:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}();return{publish:(0,s.useMutation)(l,{onError:function(e){console.error(e)}})}}},3766:function(e,t,r){r.d(t,{k:function(){return d}});var n=r(4165),i=r(1413),a=r(5861),o=r(5671),s=r(3144),u=r(1752),c=r(1120),l=r(9340),p=r(1129),d=function(e){(0,l.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;if((0,o.Z)(this,r),!e)throw"Shared Secret is required";return(n=t.call(this,e)).root="/circles/definitions",n}return(0,s.Z)(r,[{key:"updateDefinition",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,o,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,u.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),o=this.root+"/update",(s=(0,i.Z)({},t)).driveGrants=s.driveGrants||[],e.abrupt("return",a.post(o,s).then((function(e){return e.data})).catch((0,u.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createDefinition",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,u.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),a=this.root+"/create",e.abrupt("return",i.post(a,t).then((function(e){return e.data})).catch((0,u.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parsePermissions",value:function(e){if("string"!==typeof e)return e;var t=e.toLowerCase();return"read"===t?2:"write"===t?4:"readwrite"===t?5:e}},{key:"getCircles",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,a,o=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,u.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),a=this.root+"/list",e.abrupt("return",t.get(a).then((function(e){return e.data.map((function(e){var t;return e.driveGrants=null===(t=e.driveGrants)||void 0===t?void 0:t.map((function(e){return{permissionedDrive:(0,i.Z)((0,i.Z)({},e.permissionedDrive),{},{permission:o.parsePermissions(e.permissionedDrive.permission)})}})),e}))})).catch((0,u.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCircle",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a,o,s=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,u.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),o=this.root+"/circle",e.abrupt("return",a.post(o,t).then((function(e){return e.data})).then((function(e){var t;return e.driveGrants=null===(t=e.driveGrants)||void 0===t?void 0:t.map((function(e){return{permissionedDrive:(0,i.Z)((0,i.Z)({},e.permissionedDrive),{},{permission:s.parsePermissions(e.permissionedDrive.permission)})}})),e})).catch((0,u.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disableCircle",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,u.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),a=this.root+"/disable",e.abrupt("return",i.post(a,t).then((function(e){return e.data})).catch((0,u.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"enableCircle",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,u.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),a=this.root+"/enable",e.abrupt("return",i.post(a,t).then((function(e){return e.data})).catch((0,u.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeCircle",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,u.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),a=this.root+"/delete",e.abrupt("return",i.post(a,t).then((function(e){return e.data})).catch((0,u.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(e){return r.instance||(r.instance=new r(e)),r.instance}}]),r}(r(2008).$);d.instance=void 0},4942:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return n}})},1413:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(4942);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},4925:function(e,t,r){function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}r.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=987.86966691.chunk.js.map