"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[178],{5939:function(e,s,t){var a=t(1088),n=t(184);s.Z=function(e){var s=e.type,t=e.title,r=e.children,l=e.className,i="critical"===s?"bg-red-50 dark:bg-red-900 border-red-100 dark:border-red-800 dark:text-white":"warning"===s?"bg-orange-50 border-orange-100":"";return(0,n.jsx)("section",{className:"bg-red rounded-lg border-[1px] p-5 ".concat(i," ").concat(null!==l&&void 0!==l?l:""),children:(0,n.jsxs)("div",{className:"flex flex-row flex-wrap sm:flex-nowrap",children:["critical"===s?(0,n.jsx)("div",{className:"flex h-8 w-8 flex-shrink-0 text-red-400 dark:text-red-300 sm:my-auto sm:mx-0 sm:h-10 sm:w-10",children:(0,n.jsx)(a.Z,{})}):(0,n.jsx)("div",{className:"flex h-8 w-8 flex-shrink-0 text-red-400 sm:my-auto sm:mx-0 sm:h-10 sm:w-10",children:(0,n.jsx)(a.Z,{})}),(0,n.jsxs)("div",{className:"ml-5 contents sm:block",children:[(0,n.jsx)("p",{className:"ml-3 mb-2 text-2xl sm:ml-0",children:t}),r]})]})})}},5660:function(e,s,t){var a=t(885),n=t(2791),r=t(184);s.Z=function(e){var s=e.className,t=e.state,l=(0,n.useState)(null),i=(0,a.Z)(l,2),c=i[0],o=i[1],d=(0,n.useState)(new Date),m=(0,a.Z)(d,2),u=m[0],x=m[1];if((0,n.useEffect)((function(){"success"===t&&o(new Date)}),[t]),(0,n.useEffect)((function(){var e=setTimeout((function(){x(new Date)}),3e4);return function(){clearTimeout(e)}}),[u]),!c)return null;var p=u.getTime()-c.getTime(),v=c?p<=6e4?"a few seconds ago":p<=6e5?"a few minutes ago":c.toLocaleString():"";return v?(0,r.jsxs)("p",{className:"".concat(s," text-sm"),children:["Last saved ",v]}):null}},3004:function(e,s,t){var a=t(3504),n=t(5660),r=t(184);s.Z=function(e){var s=e.title,t=e.actions,l=e.saveStatus,i=e.breadCrumbs,c=e.icon;return(0,r.jsx)("section",{className:"-mx-5 -mt-4 mb-10 border-b-2 border-gray-100 bg-slate-50 py-4 pr-5 pl-10 dark:border-gray-700 dark:bg-slate-800 sm:-mx-10 sm:-mt-8 sm:py-8 sm:px-10",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,r.jsxs)("div",{className:"flex-col",children:[i&&(0,r.jsx)("ul",{className:"mb-2 hidden flex-row sm:flex",children:i.map((function(e,s){return(0,r.jsx)("li",{className:"mr-2",children:e.href?(0,r.jsxs)(a.rU,{to:e.href,className:"",children:[e.title,(0,r.jsx)("span",{className:"ml-2",children:">"})]}):(0,r.jsx)("span",{className:"text-slate-500",children:e.title})},s)}))}),s&&(0,r.jsxs)("h1",{className:"mb-5 flex flex-row text-4xl dark:text-white",children:[c&&c({className:"h-8 w-8 my-auto mr-4"})," ",s]})]}),(0,r.jsxs)("div",{className:"ml-auto",children:[(0,r.jsx)("div",{className:"-m-2 flex flex-col flex-wrap justify-end sm:flex-row sm:items-center",children:t}),l&&(0,r.jsx)(n.Z,{className:"mt-1",state:l})]})]})})}},1582:function(e,s,t){t.r(s);var a=t(6871),n=t(4990),r=t(6376),l=t(5939),i=t(9072),c=t(7631),o=t(3004),d=t(1869),m=t(8321),u=t(8491),x=t(184);s.default=function(){var e,s,t,p,v,f,h=(0,a.UO)().appKey,j=decodeURIComponent(h),y=(0,r.Z)({appId:j}),g=y.fetch,w=g.data,N=g.isLoading,b=y.revokeApp,k=b.mutate,Z=b.status,A=y.allowApp,R=A.mutate,T=A.status;return N&&x.Fragment,w?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.Z,{icon:c.Z,title:"".concat(w.name),breadCrumbs:[{href:"/owner/apps",title:"My apps"},{title:null!==(e=w.name)&&void 0!==e?e:""}],actions:(0,x.jsx)(x.Fragment,{children:w.isRevoked?(0,x.jsx)(i.Z,{type:"primary",className:"m-2 my-auto",onClick:function(){return R({appId:j})},state:T,confirmOptions:{title:(0,n.t)("Restore App"),buttonText:(0,n.t)("Restore"),body:"".concat((0,n.t)("Are you sure you want to restore")," ").concat(w.name," ").concat((0,n.t)("and allow access to your identity"))},children:"Restore app"}):(0,x.jsx)(i.Z,{type:"remove",className:"m-2 my-auto",onClick:function(){return k({appId:j})},state:Z,confirmOptions:{title:(0,n.t)("Revoke App"),buttonText:(0,n.t)("Revoke"),body:"".concat((0,n.t)("Are you sure you want to revoke")," ").concat(w.name," ").concat((0,n.t)("from all access to your identity"))},children:"Revoke app"})})}),w.isRevoked&&(0,x.jsx)(l.Z,{type:"critical",title:(0,n.t)("App is revoked"),className:"mb-5",children:(0,n.t)("This app is revoked, it no longer has the access provided")}),null!==(s=w.grant.permissionSet)&&void 0!==s&&s.keys?(0,x.jsx)(u.Z,{title:(0,n.t)("Access"),isOpaqueBg:!0,children:(0,x.jsx)("div",{className:"-my-4",children:w.grant.permissionSet.keys.map((function(e){return(0,x.jsx)(m.Z,{permission:e,className:"my-4"},"".concat(e))}))})}):null,(0,x.jsx)(u.Z,{title:(0,n.t)("Access on the following drives"),isOpaqueBg:!0,children:null!==(t=w.grant)&&void 0!==t&&null!==(p=t.driveGrants)&&void 0!==p&&p.length?(0,x.jsx)("div",{className:"-my-4",children:null===(v=w.grant)||void 0===v||null===(f=v.driveGrants)||void 0===f?void 0:f.map((function(e){var s,t,a,n;return(0,x.jsx)(d.Z,{driveGrant:e,className:"my-4"},"".concat(null===e||void 0===e||null===(s=e.permissionedDrive)||void 0===s||null===(t=s.drive)||void 0===t?void 0:t.alias,"-").concat(null===e||void 0===e||null===(a=e.permissionedDrive)||void 0===a||null===(n=a.drive)||void 0===n?void 0:n.type))}))}):(0,x.jsx)("div",{className:"flex flex-row",children:(0,x.jsx)("p",{className:"my-auto",children:(0,n.t)("This app doesn't have any access")})})})]}):(0,x.jsx)(x.Fragment,{children:"No matching app found"})}}}]);
//# sourceMappingURL=178.0e5955e5.chunk.js.map