"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[469],{4226:function(e,t,n){var r=n(1803),a=n(2878),i=n(2791),o=n(4990),s=n(3197),l=n(6916),u=n(3225),c=n(2465),d=n(184);t.Z=function(e){var t,n,m,f,v,h,p,x,g,b,j,y,Z,w,N,k,C,I,S,F,T,D,O,A,P,V,_,H,M,Q,U,L,q=e.attribute,B=e.onChange,z=(0,i.useMemo)((function(){return(0,a.Z)(B,500)}),[B]),W=Object.keys(r.Qv).filter((function(e){return!isNaN(Number(e))})),E=Object.keys(r.Qv).filter((function(e){return isNaN(Number(e))}));switch(q.type){case r.H1.Name.type.toString():return(0,d.jsxs)("div",{className:"-mx-2 flex flex-row",children:[(0,d.jsxs)("div",{className:"mb-5 w-2/5 px-2",children:[(0,d.jsx)("label",{htmlFor:"given-name",children:(0,o.t)("Given name")}),(0,d.jsx)(l.Z,{id:"given-name",name:"givenName",defaultValue:null!==(t=null===(n=q.data)||void 0===n?void 0:n.givenName)&&void 0!==t?t:"",onChange:z})]}),(0,d.jsxs)("div",{className:"mb-5 w-3/5 px-2",children:[(0,d.jsx)("label",{htmlFor:"sur-name",children:(0,o.t)("Surname")}),(0,d.jsx)(l.Z,{id:"sur-name",name:"surname",defaultValue:null!==(m=null===(f=q.data)||void 0===f?void 0:f.surname)&&void 0!==m?m:"",onChange:z})]})]});case r.H1.Photo.type.toString():return(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"profileImageId",children:(0,o.t)("Profile Image")}),(0,d.jsx)(s.Z,{id:"profileImageId",name:"profileImageId",defaultValue:null!==(v=null===(h=q.data)||void 0===h?void 0:h.profileImageId)&&void 0!==v?v:"",onChange:z,acl:q.acl,targetDrive:(0,r.H3)(r.P.StandardProfileId.toString())})]});case r.H1.InstagramUsername.type.toString():case r.H1.TiktokUsername.type.toString():case r.H1.TwitterUsername.type.toString():case r.H1.LinkedinUsername.type.toString():case r.H1.FacebookUsername.type.toString():return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"handle",children:q.typeDefinition.name}),(0,d.jsx)(l.Z,{id:"handle",name:q.typeDefinition.name.toLowerCase(),defaultValue:null!==(p=null===(x=q.data)||void 0===x?void 0:x[q.typeDefinition.name.toLowerCase()])&&void 0!==p?p:"",onChange:z})]})});case r.H1.FullBio.type.toString():return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"short-bio",children:(0,o.t)("Bio")}),(0,d.jsx)(l.Z,{id:"short-bio",name:"short_bio",defaultValue:null!==(g=null===(b=q.data)||void 0===b?void 0:b.short_bio)&&void 0!==g?g:"",onChange:z})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"full-bio",children:(0,o.t)("Full bio")}),(0,d.jsx)(c.Z,{id:"full-bio",name:"full_bio",defaultValue:null!==(j=null===(y=q.data)||void 0===y?void 0:y.full_bio)&&void 0!==j?j:"",onChange:z})]})]});case r.H1.ShortBio.type.toString():return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"short-bio",children:(0,o.t)("Bio")}),(0,d.jsx)(l.Z,{id:"short-bio",name:"short_bio",defaultValue:null!==(Z=null===(w=q.data)||void 0===w?void 0:w.short_bio)&&void 0!==Z?Z:"",onChange:z})]})});case r.H1.Link.type.toString():return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"link-text",children:(0,o.t)("Text")}),(0,d.jsx)(l.Z,{id:"link-text",name:"link_text",defaultValue:null!==(N=null===(k=q.data)||void 0===k?void 0:k.link_text)&&void 0!==N?N:"",onChange:z})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"link-target",children:(0,o.t)("Target")}),(0,d.jsx)(l.Z,{id:"link-target",name:"link_target",defaultValue:null!==(C=null===(I=q.data)||void 0===I?void 0:I.link_target)&&void 0!==C?C:"",onChange:z})]})]});case r.H1.CreditCard.type.toString():return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"cc-alias",children:(0,o.t)("Alias")}),(0,d.jsx)(l.Z,{id:"cc-alias",name:"cc_alias",defaultValue:null!==(S=null===(F=q.data)||void 0===F?void 0:F.cc_alias)&&void 0!==S?S:"",onChange:z})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"cc-name",children:(0,o.t)("Name on Card")}),(0,d.jsx)(l.Z,{id:"cc-name",name:"cc_name",defaultValue:null!==(T=null===(D=q.data)||void 0===D?void 0:D.cc_name)&&void 0!==T?T:"",onChange:z})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"cc-number",children:(0,o.t)("Credit card number")}),(0,d.jsx)(l.Z,{id:"cc-number",name:"cc_number",defaultValue:null!==(O=null===(A=q.data)||void 0===A?void 0:A.cc_number)&&void 0!==O?O:"",onChange:z})]})]});case r.Dg.HomePage.toString():return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"headerImageUrl",children:(0,o.t)("Header Image")}),(0,d.jsx)(s.Z,{id:"headerImageUrl",name:"headerImageUrl",defaultValue:null!==(P=null===(V=q.data)||void 0===V?void 0:V.headerImageUrl)&&void 0!==P?P:"",onChange:z,acl:q.acl,targetDrive:(0,r.H3)(r.Ib.DefaultDriveId.toString())})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"tagLine",children:(0,o.t)("Tag Line")}),(0,d.jsx)(l.Z,{id:"tagLine",name:"tagLine",defaultValue:null!==(_=null===(H=q.data)||void 0===H?void 0:H.tagLine)&&void 0!==_?_:"",onChange:z})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"leadText",children:(0,o.t)("Lead Text")}),(0,d.jsx)(c.Z,{id:"leadText",name:"leadText",defaultValue:null!==(M=null===(Q=q.data)||void 0===Q?void 0:Q.leadText)&&void 0!==M?M:"",onChange:z})]})]});case r.Dg.Theme.toString():return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"themeId",children:(0,o.t)("Theme")}),(0,d.jsxs)(u.Z,{id:"themeId",name:"themeId",defaultValue:null!==(U=null===(L=q.data)||void 0===L?void 0:L.themeId)&&void 0!==U?U:"",onChange:z,children:[(0,d.jsx)("option",{children:(0,o.t)("Make a selection")}),W.map((function(e,t){return(0,d.jsx)("option",{value:e,children:(0,o.t)(E[t])},e)}))]})]})});default:return(0,d.jsx)(d.Fragment,{children:Object.keys(q.data).map((function(e){return(0,d.jsxs)("p",{className:"whitespace-pre-line",children:[e,": ",q.data[e]]},e)}))})}}},3469:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(885),a=n(2791),i=n(4165),o=n(1413),s=n(2982),l=n(5861),u=n(7266),c=n(9077),d=function(e){var t=e.attributes,n=(0,c.Z)({}).save.mutateAsync,r=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(r,a){var c,d,m,f,v,h,p,x,g;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=t.indexOf(r),!(-1===(v=f+a)||v>=t.length)){e.next=4;break}return e.abrupt("return",r.priority);case 4:if(h=t[-1===a?v-1:v],p=t[-1===a?v:v+1],x=Math.ceil(Math.abs((null!==(c=null===h||void 0===h?void 0:h.priority)&&void 0!==c?c:0)+((null!==(d=null===p||void 0===p?void 0:p.priority)&&void 0!==d?d:t[t.length-1].priority+2e3)-(null!==(m=null===h||void 0===h?void 0:h.priority)&&void 0!==m?m:0))/2)),(g=(0,s.Z)(t))[f]=(0,o.Z)((0,o.Z)({},g[f]),{},{priority:x}),!g.some((function(e){return g.some((function(t){return t.priority===e.priority&&t.id!==e.id}))}))){e.next=14;break}return(0,u.m3)(g,f,v),e.next=13,Promise.all(g.map(function(){var e=(0,l.Z)((0,i.Z)().mark((function e(t,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n((0,o.Z)((0,o.Z)({},t),{},{priority:1e3*(r+1)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 13:return e.abrupt("return");case 14:return e.abrupt("return",x);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{reorderAttr:r}},m=n(184),f=function(e){var t=e.className;return(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",className:t,children:(0,m.jsx)("path",{d:"M215.1 272h-136c-12.94 0-24.63 7.797-29.56 19.75C45.47 303.7 48.22 317.5 57.37 326.6l30.06 30.06l-78.06 78.07c-12.5 12.5-12.5 32.75-.0012 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.26 .0013l78.06-78.07l30.06 30.06c6.125 6.125 14.31 9.367 22.63 9.367c4.125 0 8.279-.7891 12.25-2.43c11.97-4.953 19.75-16.62 19.75-29.56V296C239.1 282.7 229.3 272 215.1 272zM296 240h136c12.94 0 24.63-7.797 29.56-19.75c4.969-11.97 2.219-25.72-6.938-34.87l-30.06-30.06l78.06-78.07c12.5-12.5 12.5-32.76 .0002-45.26l-22.62-22.62c-12.5-12.5-32.76-12.5-45.26-.0003l-78.06 78.07l-30.06-30.06c-9.156-9.141-22.87-11.84-34.87-6.937c-11.97 4.953-19.75 16.62-19.75 29.56v135.1C272 229.3 282.7 240 296 240z"})})},v=n(4990),h=n(9072),p=n(5660),x=n(8491),g=n(2723),b=n(4226),j=function(e){var t=e.attribute,n=e.className,s=e.reorderAttr,u=(0,c.Z)({}),d=u.save,f=d.mutate,j=d.status,y=d.isLoading,Z=d.isError,w=d.isSuccess,N=u.remove.mutate,k=(0,a.useState)((0,o.Z)({},t)),C=(0,r.Z)(k,2),I=C[0],S=C[1],F=function(e){f(e)},T=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(n){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t,n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:a=(0,o.Z)((0,o.Z)({},I),{},{priority:r}),S(a),F(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(x.Z,{isOpaqueBg:!0,title:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(g.Z,{acl:I.acl,onChange:function(e){var t=(0,o.Z)((0,o.Z)({},I),{},{acl:e});S(t),F(t)}})," ",I.typeDefinition.name]}),className:"".concat(n," relative"),children:[(0,m.jsx)(b.Z,{attribute:I,onChange:function(e){var t=(0,o.Z)({},I);t.data[e.target.name]=e.target.value,S(t),F(t)}}),(0,m.jsxs)("div",{className:"top-5 right-5 flex flex-row md:absolute",children:[s&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(h.Z,{className:"ml-2",icon:"up",type:"secondary",onClick:function(){return T(-1)}}),(0,m.jsx)(h.Z,{className:"ml-2",icon:"down",type:"secondary",onClick:function(){return T(1)}})]}),(0,m.jsx)(h.Z,{type:"remove",icon:"trash",className:"ml-2",confirmOptions:{title:(0,v.t)("Remove Attribute"),buttonText:(0,v.t)("Permanently remove"),body:"".concat((0,v.t)("Are you sure you want to remove your")," ").concat(t.typeDefinition.name," ").concat((0,v.t)("attribute. This action cannot be undone."))},onClick:function(){return N(t)}}),(0,m.jsx)(h.Z,{state:y?"loading":w?"success":Z?"error":"success",type:"primary",className:"ml-2",onClick:function(){return F(I)},children:(0,v.t)("Save")})]}),(0,m.jsx)(p.Z,{className:"mt-2 text-right sm:mt-0",state:j})]})})},y=function(e){var t=e.attributes,n=e.groupTitle,i=(0,a.useState)(1===t.length),o=(0,r.Z)(i,2),s=o[0],l=o[1],u=d({attributes:t}).reorderAttr;return 1===t.length?(0,m.jsx)(j,{attribute:t[0]}):(0,m.jsxs)("div",{className:"relative my-10 overflow-x-hidden ".concat(s?"":"cursor-pointer transition-transform"),style:{paddingBottom:"".concat(10*t.length,"px")},onClick:function(){s||l(!0)},children:[(0,m.jsxs)("h2",{onClick:function(){return l(!1)},className:"cursor-pointer text-2xl",children:[(0,m.jsx)(f,{className:"inline-block h-4 w-4 ".concat(s?"opacity-100":"opacity-0")})," ",n," ",(0,m.jsxs)("small",{children:["(",t.length,")"]})]}),(0,m.jsx)("div",{className:"mt-5 border-l-[16px] border-slate-50 transition-transform dark:border-slate-600 ".concat(s?"pl-5":"-translate-x-4 hover:translate-x-0"),children:t.map((function(e,t){return(0,m.jsx)("span",{className:s||0===t?"":"absolute left-0 right-0 top-0 bg-white shadow-slate-50 dark:bg-slate-800",style:{transform:"translateX(".concat(4*t,"px) translateY(").concat(10*t,"px)")},children:(0,m.jsx)(j,{attribute:e,className:s?"mt-0 mb-5":"pointer-events-none my-0 opacity-50 grayscale",reorderAttr:u})},e.id)}))})]})}},6691:function(e,t,n){var r=n(4165),a=n(5861),i=n(885),o=n(2791),s=n(4164),l=n(4990),u=n(8088),c=n(3412),d=n(9072),m=n(184);t.Z=function(e){var t=e.title,n=e.confirmText,f=e.isOpen,v=e.acl,h=e.targetDrive,p=e.onConfirm,x=e.onCancel,g=(0,c.Z)("modal-container"),b=(0,u.Z)().save,j=b.mutate,y=b.status,Z=(0,o.useState)(),w=(0,i.Z)(Z,2),N=w[0],k=w[1];if(!f)return null;var C=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,N.arrayBuffer();case 3:e.t1=e.sent,t=new e.t0(e.t1),j({acl:v,bytes:t,fileId:void 0,targetDrive:h},{onSuccess:p});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=(0,m.jsxs)("div",{className:"relative z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[(0,m.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),(0,m.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,m.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,m.jsxs)("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all dark:bg-black sm:my-8 sm:w-full sm:max-w-lg",children:[(0,m.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 dark:bg-black sm:p-6 sm:pb-4",children:(0,m.jsx)("div",{className:"sm:flex sm:items-start",children:(0,m.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,m.jsx)("h3",{className:"mb-3 text-lg font-medium leading-6 text-gray-900 dark:text-slate-50",id:"modal-title",children:t}),(0,m.jsx)("input",{onChange:function(e){var t=e.target.files[0];t&&k(t)},type:"file",accept:"image/png, image/jpeg, image/tiff, image/webp",className:"w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100"})]})})}),(0,m.jsxs)("div",{className:"-mx-2 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,m.jsx)(d.Z,{className:"mx-2",onClick:C,state:y,children:null!==n&&void 0!==n?n:"Add"}),(0,m.jsx)(d.Z,{className:"mx-2",type:"secondary",onClick:x,children:(0,l.t)("Cancel")})]})]})})})]});return(0,s.createPortal)(I,g)}},3197:function(e,t,n){var r=n(885),a=n(2791),i=n(4990),o=n(8088),s=n(8923),l=n(1088),u=n(7804),c=n(7134),d=n(6691),m=n(184);t.Z=function(e){var t=e.targetDrive,n=e.acl,f=e.onChange,v=e.defaultValue,h=e.name,p=(0,o.Z)("string"===typeof v?v:void 0,t),x=p.fetch,g=x.data,b=x.isLoading,j=p.remove.mutate,y=(0,a.useState)(!1),Z=(0,r.Z)(y,2),w=Z[0],N=Z[1],k=(0,a.useState)(!1),C=(0,r.Z)(k,2),I=C[0],S=C[1];return b?(0,m.jsx)("div",{className:"aspect-square max-w-[20rem] animate-pulse bg-slate-100 dark:bg-slate-700"}):(0,m.jsxs)(m.Fragment,{children:[g?(0,m.jsx)("div",{className:"flex",children:(0,m.jsxs)("div",{className:"relative mr-auto",children:[(0,m.jsx)("button",{className:"absolute top-2 right-2 rounded-full bg-white p-2",onClick:function(e){return e.preventDefault(),N(!0),!1},children:(0,m.jsx)(u.Z,{className:"h-4 w-4 text-black"})}),(0,m.jsx)("button",{className:"absolute bottom-2 right-2 rounded-full bg-red-200 p-2",onClick:function(){return S(!0),!1},children:(0,m.jsx)(c.Z,{className:"h-4 w-4 text-black"})}),(0,m.jsx)("img",{src:g,alt:g,className:"max-h-[20rem]",onClick:function(){N(!0)}})]})}):(0,m.jsxs)("div",{className:"relative flex aspect-video max-w-[20rem] cursor-pointer bg-slate-100 dark:bg-slate-700",onClick:function(e){e.preventDefault(),N(!0)},children:[(0,m.jsx)(l.Z,{className:"m-auto h-8 w-8"}),(0,m.jsx)("p",{className:"absolute inset-0 top-auto pb-5 text-center text-slate-400",children:(0,i.t)("No image selected")})]}),(0,m.jsx)(d.Z,{acl:n,isOpen:w,targetDrive:t,title:(0,i.t)("Insert image"),confirmText:(0,i.t)("Add"),onCancel:function(){return N(!1)},onConfirm:function(e){f({target:{name:h,value:e}}),N(!1)}}),(0,m.jsx)(s.Z,{title:"Remove Current Image",confirmText:"Permanently remove",needConfirmation:I,onConfirm:function(){j({fileId:"string"===typeof v?v:void 0,targetDrive:t},{onSuccess:function(){f({target:{name:h,value:""}})}})},onCancel:function(){S(!1)},children:(0,m.jsx)("p",{className:"text-sm text-gray-500",children:(0,i.t)("Are you sure you want to remove the current file? This action cannot be undone.")})})]})}},7266:function(e,t,n){n.d(t,{RG:function(){return o},fP:function(){return i},hz:function(){return s},m3:function(){return l},rS:function(){return r},vr:function(){return a}});var r=function(e){return e[Math.floor(Math.random()*e.length)]},a=function(){return r(["Ut bibendum, neque ac lacinia aliquam, justo ipsum aliquam urna, id vestibulum augue mauris sit amet lacus.","Proin ante sapien, interdum sit amet eros sit amet, eleifend pharetra metus.","Sed elit mi, euismod eget neque at, suscipit aliquam nisi.","Nunc diam arcu, tincidunt quis dignissim ac, volutpat non odio."])},i=function(){var e=["adorable","beautiful","clean","drab","elegant","fancy","glamorous","handsome","long","magnificent","old-fashioned","plain","quaint","sparkling","ugliest","unsightly","angry","bewildered","clumsy","defeated","embarrassed","fierce","grumpy","helpless","itchy","jealous","lazy","mysterious","nervous","obnoxious","panicky","repulsive","scary","thoughtless","uptight","worried"];return"".concat(r(e)," ").concat(r(e)," ").concat(r(["women","men","children","teeth","feet","people","leaves","mice","geese","halves","knives","wives","lives","elves","loaves","potatoes","tomatoes","cacti","foci","fungi","nuclei","syllabuses","analyses","diagnoses","oases","theses","crises","phenomena","criteria","data"]))},o=function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),a=0;a<n;a++)r[a]=t.charCodeAt(a);return r.buffer},s=function(e,t){return t.reduce((function(t,n){return n.value>t.value&&n.value<=e?n:t}),t[0])},l=function(e,t,n){var r=e[t];return e.splice(t,1),e.splice(n,0,r),e}},8088:function(e,t,n){var r=n(4165),a=n(5861),i=n(7408),o=n(1803),s=n(6117),l={alias:o.Ib.BlogMainContentDriveId.toString(),type:o.Hm.DriveType.toString()};t.Z=function(e,t){var n=(0,s.Z)().getSharedSecret,u=(0,i.useQueryClient)(),c=new o.KU({api:o.Ii.Owner,sharedSecret:n()}),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&""!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,c.mediaProvider.getDecryptedImageUrl(null!==n&&void 0!==n?n:l,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,i,s,u,d,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bytes,a=t.targetDrive,i=void 0===a?l:a,s=t.acl,u=void 0===s?{requiredSecurityGroup:o.hh.Anonymous}:s,d=t.fileId,m=void 0===d?void 0:d,e.next=3,c.mediaProvider.uploadImage(i,void 0,u,n,m);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.targetDrive,a=void 0===n?l:n,i=t.fileId,e.next=3,c.mediaProvider.removeImage(i,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,i.useQuery)(["image",e,t],(function(){return d(e,t)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0}),save:(0,i.useMutation)(m,{onSuccess:function(e,t){var n;t.fileId?u.removeQueries(["image",t.fileId,null!==(n=t.targetDrive)&&void 0!==n?n:l]):u.removeQueries(["image"])}}),remove:(0,i.useMutation)(f,{onSuccess:function(e,t){var n;t.fileId?u.removeQueries(["image",t.fileId,null!==(n=t.targetDrive)&&void 0!==n?n:l]):u.removeQueries(["image"])}})}}},9077:function(e,t,n){var r=n(4165),a=n(5861),i=n(7408),o=n(1803),s=n(6117),l=n(1695);t.Z=function(e){var t=e.profileId,n=e.attributeId,u=(0,s.Z)().getSharedSecret,c=new o.KU({api:o.Ii.Owner,sharedSecret:u()}),d=(0,i.useQueryClient)(),m=(0,l.Z)().publish.mutate,f=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,c.profileDataProvider.getAttribute(t,n);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.profileDataProvider.saveAttribute(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.fileId){e.next=5;break}return e.next=3,c.profileDataProvider.removeAttribute(t.sectionId,t.fileId);case 3:e.next=6;break;case 5:console.log("error...");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,i.useQuery)(["attribute",t,n],(function(){return f(t,n)}),{refetchOnWindowFocus:!1}),save:(0,i.useMutation)(v,{onSuccess:function(e,t){t.id?d.invalidateQueries(["attribute",t.profileId,t.id]):d.invalidateQueries(["attribute"]),d.invalidateQueries(["attributes",t.profileId,t.sectionId]),m()}}),remove:(0,i.useMutation)(h,{onSuccess:function(e,t){t.id?d.invalidateQueries(["attribute",t.profileId,t.id]):d.invalidateQueries(["attribute"]),d.invalidateQueries(["attributes",t.profileId,t.sectionId]),m()}})}}},2878:function(e,t,n){n.d(t,{Z:function(){return D}});var r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},a="object"==typeof global&&global&&global.Object===Object&&global,i="object"==typeof self&&self&&self.Object===Object&&self,o=a||i||Function("return this")(),s=function(){return o.Date.now()},l=/\s/;var u=function(e){for(var t=e.length;t--&&l.test(e.charAt(t)););return t},c=/^\s+/;var d=function(e){return e?e.slice(0,u(e)+1).replace(c,""):e},m=o.Symbol,f=Object.prototype,v=f.hasOwnProperty,h=f.toString,p=m?m.toStringTag:void 0;var x=function(e){var t=v.call(e,p),n=e[p];try{e[p]=void 0;var r=!0}catch(i){}var a=h.call(e);return r&&(t?e[p]=n:delete e[p]),a},g=Object.prototype.toString;var b=function(e){return g.call(e)},j=m?m.toStringTag:void 0;var y=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":j&&j in Object(e)?x(e):b(e)};var Z=function(e){return null!=e&&"object"==typeof e};var w=function(e){return"symbol"==typeof e||Z(e)&&"[object Symbol]"==y(e)},N=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,C=/^0o[0-7]+$/i,I=parseInt;var S=function(e){if("number"==typeof e)return e;if(w(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=d(e);var n=k.test(e);return n||C.test(e)?I(e.slice(2),n?2:8):N.test(e)?NaN:+e},F=Math.max,T=Math.min;var D=function(e,t,n){var a,i,o,l,u,c,d=0,m=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=a,r=i;return a=i=void 0,d=t,l=e.apply(r,n)}function p(e){return d=e,u=setTimeout(g,t),m?h(e):l}function x(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-d>=o}function g(){var e=s();if(x(e))return b(e);u=setTimeout(g,function(e){var n=t-(e-c);return f?T(n,o-(e-d)):n}(e))}function b(e){return u=void 0,v&&a?h(e):(a=i=void 0,l)}function j(){var e=s(),n=x(e);if(a=arguments,i=this,c=e,n){if(void 0===u)return p(c);if(f)return clearTimeout(u),u=setTimeout(g,t),h(c)}return void 0===u&&(u=setTimeout(g,t)),l}return t=S(t)||0,r(n)&&(m=!!n.leading,o=(f="maxWait"in n)?F(S(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),j.cancel=function(){void 0!==u&&clearTimeout(u),d=0,a=c=i=u=void 0},j.flush=function(){return void 0===u?l:b(s())},j}}}]);
//# sourceMappingURL=469.576ededd.chunk.js.map