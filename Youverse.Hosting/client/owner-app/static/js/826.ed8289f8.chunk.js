"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[826],{9835:function(e,n,r){var t=r(3504),a=r(184);n.Z=function(e){var n=e.name,r=e.href,s=e.className,i=e.children,c=e.onClick,o=function(e){var n=e.children;return r?(0,a.jsx)(t.rU,{to:r,children:n}):(0,a.jsx)(a.Fragment,{children:n})};return(0,a.jsx)("div",{className:s,children:(0,a.jsx)(o,{children:(0,a.jsxs)("div",{className:"h-full rounded-md border-[1px] border-gray-200 border-opacity-60 bg-white transition-colors dark:border-gray-800 dark:bg-gray-800",onClick:c,children:[(0,a.jsx)("div",{className:"aspect-square",children:(0,a.jsx)("img",{src:"https://placehold.co/200",className:"h-full w-full"})}),(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsx)("h2",{className:"font-thiner mb-6 dark:text-white",children:n}),i]})]})})})}},808:function(e,n,r){var t=r(2982),a=r(1413),s=r(885),i=r(2791),c=r(4164),o=r(4990),u=r(4395),l=r(6770),d=r(3412),f=r(2562),m=r(9072),v=r(6916),p=r(6990),h=r(2284),x=r(2465),Z=r(6123),g=r(184);n.Z=function(e){var n,r=e.title,w=e.confirmText,y=e.isOpen,b=e.defaultValue,j=e.onConfirm,N=e.onCancel,k=(0,d.Z)("modal-container"),I=(0,u.Z)().createOrUpdate,C=I.mutate,S=I.status,Y=(0,l.Z)().fetch.data,Q=(0,i.useState)((0,a.Z)((0,a.Z)({drives:b.drivesGrants||[]},b),{},{drivesGrants:void 0})),D=(0,s.Z)(Q,2),M=D[0],F=D[1];if(!y)return null;var O=function(){F((0,a.Z)((0,a.Z)({drives:b.drivesGrants||[]},b),{},{drivesGrants:void 0}))},G=(0,g.jsx)(Z.Z,{title:r,onClose:N,size:"4xlarge",children:(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),C({circleDefinition:M},{onSuccess:function(){j(),setTimeout((function(){O()}),10)}}),!1},children:[(0,g.jsxs)("div",{className:"mb-5",children:[(0,g.jsx)("label",{htmlFor:"name",children:(0,o.t)("Name")}),(0,g.jsx)(v.Z,{id:"name",name:"circleName",defaultValue:M.name,onChange:function(e){F((0,a.Z)((0,a.Z)({},M),{},{name:e.target.value}))},required:!0})]}),(0,g.jsxs)("div",{className:"mb-5",children:[(0,g.jsx)("label",{htmlFor:"name",children:(0,o.t)("Description")}),(0,g.jsx)(x.Z,{id:"description",name:"circleDescription",defaultValue:M.description,onChange:function(e){F((0,a.Z)((0,a.Z)({},M),{},{description:e.target.value}))},required:!0})]}),(0,g.jsxs)("div",{className:"mb-5 flex flex-row",children:[(0,g.jsx)("label",{htmlFor:"name",className:"my-auto mr-2",children:(0,o.t)("Permissions")}),(0,g.jsx)(p.Z,{className:"ml-auto",permissionLevels:f.W,defaultValue:null!==(n=M.permissions.keys)&&void 0!==n?n:[0],onChange:function(e){F((0,a.Z)((0,a.Z)({},M),{},{permissions:{keys:e}}))}})]}),null!==Y&&void 0!==Y&&Y.length?(0,g.jsxs)("div",{className:"my-7",children:[(0,g.jsx)("h2",{className:"mb-4 text-lg",children:"Drive Permissions:"}),Y.map((function(e,n){var r,s,i;return(0,g.jsxs)("div",{className:"mb-2 flex flex-row",children:[(0,g.jsx)("label",{htmlFor:"".concat(e.targetDriveInfo.alias,"-").concat(e.targetDriveInfo.type),className:"my-auto mr-2",children:e.name}),(0,g.jsx)(h.Z,{className:"ml-auto",permissionLevels:f.A,defaultValue:null!==(r=null===(s=M.drives)||void 0===s||null===(i=s.find((function(n){return n.drive.alias===e.targetDriveInfo.alias&&n.drive.type===e.targetDriveInfo.type})))||void 0===i?void 0:i.permission)&&void 0!==r?r:0,onChange:function(n){F(n>0?(0,a.Z)((0,a.Z)({},M),{},{drives:[].concat((0,t.Z)(M.drives.filter((function(n){return n.drive.alias!==e.targetDriveInfo.alias||n.drive.type!==e.targetDriveInfo.type}))),[{drive:e.targetDriveInfo,permission:n}])}):(0,a.Z)((0,a.Z)({},M),{},{drives:(0,t.Z)(M.drives.filter((function(n){return n.drive.alias!==e.targetDriveInfo.alias||n.drive.type!==e.targetDriveInfo.type})))}))}})]},n)}))]}):null,(0,g.jsxs)("div",{className:"-mx-2 py-3 sm:flex sm:flex-row-reverse",children:[(0,g.jsx)(m.Z,{className:"mx-2",state:S,icon:"send",children:w||(0,o.t)("Add Circle")}),(0,g.jsx)(m.Z,{className:"mx-2",type:"secondary",onClick:function(){O(),N()},children:(0,o.t)("Cancel")})]})]})})});return(0,c.createPortal)(G,k)}},6990:function(e,n,r){var t=r(2982),a=r(885),s=r(2791),i=r(1261),c=r(4648),o=r(245),u=r(184),l=function(e){var n=e.className,r=e.isChecked,t=e.children,a=e.onChange;return(0,u.jsxs)("li",{className:"flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ".concat(n),onClick:a,children:[(0,u.jsx)(c.Z,{className:"my-auto mr-3 h-4 w-4 ".concat(r?"text-slate-700 dark:text-slate-200":"text-transparent")})," ",(0,u.jsx)("span",{className:"mr-auto block h-full py-1",children:t})]})};n.Z=function(e){var n,r,c=e.className,d=e.permissionLevels,f=e.onChange,m=e.defaultValue,v=(0,s.useState)(!1),p=(0,a.Z)(v,2),h=p[0],x=p[1],Z=(0,s.useState)(m),g=(0,a.Z)(Z,2),w=g[0],y=g[1],b=(0,s.useRef)(null);(0,i.Z)(b,(function(){return x(!1)}));var j=(null===m||void 0===m?void 0:m.length)>=2?"Multiple":null!==(n=null!==m&&void 0!==m&&m[0]?null===(r=d.find((function(e){return e.value===m[0]})))||void 0===r?void 0:r.name:d[0].name)&&void 0!==n?n:d[0].name,N=function(e){y(e),f&&f(e)};return(0,u.jsx)("div",{className:null!==c&&void 0!==c?c:"",children:(0,u.jsxs)("div",{className:"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800",onClick:function(){return x(!h)},ref:b,children:[(0,u.jsxs)("div",{className:"flex min-w-[6rem] flex-row py-1 px-2",children:[(0,u.jsx)("span",{className:"my-auto mr-2 select-none",children:j})," ",(0,u.jsx)(o.Z,{className:"my-auto ml-auto h-2 w-2 rotate-90"})]}),(0,u.jsx)("ul",{className:"absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ".concat(h?"z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700":"max-h-0"),children:d.map((function(e){return(0,u.jsx)(l,{isChecked:w.some((function(n){return n===e.value}))||0===w.length&&0===e.value,onChange:function(){return w.some((function(n){return n===e.value}))?N(w.filter((function(n){return n!==e.value}))):0!==e.value?N([].concat((0,t.Z)(w),[e.value])):N([])},children:e.name},e.value)}))})]})})}},2284:function(e,n,r){var t=r(885),a=r(2791),s=r(1261),i=r(4648),c=r(245),o=r(184),u=function(e){var n=e.className,r=e.isChecked,t=e.children,a=e.onChange;return(0,o.jsxs)("li",{className:"flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ".concat(n),onClick:a,children:[(0,o.jsx)(i.Z,{className:"my-auto mr-3 h-4 w-4 ".concat(r?"text-slate-700 dark:text-slate-200":"text-transparent")})," ",(0,o.jsx)("span",{className:"mr-auto block h-full py-1",children:t})]})};n.Z=function(e){var n=e.className,r=e.permissionLevels,i=e.onChange,l=e.defaultValue,d=(0,a.useState)(!1),f=(0,t.Z)(d,2),m=f[0],v=f[1],p=(0,a.useState)(l),h=(0,t.Z)(p,2),x=h[0],Z=h[1],g=(0,a.useRef)(null);(0,s.Z)(g,(function(){return v(!1)}));var w=r.reduce((function(e,n){return n.value>e.value&&n.value<=l?n:e}),r[0]),y=function(e){Z(e),i(e)};return(0,o.jsx)("div",{className:null!==n&&void 0!==n?n:"",children:(0,o.jsxs)("div",{className:"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800",onClick:function(){return v(!m)},ref:g,children:[(0,o.jsxs)("div",{className:"flex min-w-[6rem] flex-row py-1 px-2",children:[(0,o.jsx)("span",{className:"my-auto mr-2 select-none",children:w.name})," ",(0,o.jsx)(c.Z,{className:"my-auto ml-auto h-2 w-2 rotate-90"})]}),(0,o.jsx)("ul",{className:"absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ".concat(m?"z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700":"max-h-0"),children:r.map((function(e){return(0,o.jsx)(u,{isChecked:0===e.value?x===e.value:x>=e.value,onChange:function(){return x!==e.value?y(e.value):y(0)},children:e.name},e.value)}))})]})})}},245:function(e,n,r){var t=r(184);n.Z=function(e){var n=e.className;return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",className:n,children:(0,t.jsx)("path",{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"})})}},1869:function(e,n,r){var t=r(3504),a=r(1512),s=r(2562),i=r(4665),c=r(894),o=r(7266),u=r(184);n.Z=function(e){var n,r,l,d,f=e.driveGrant,m=e.permissionTree,v=e.className,p=(0,a.Z)({targetDrive:f.drive}).fetch.data;return(0,u.jsx)("div",{className:"flex flex-row ".concat(v),title:m,children:(0,u.jsxs)(t.rU,{to:"/owner/drives/".concat(null===p||void 0===p||null===(l=p.targetDriveInfo)||void 0===l?void 0:l.alias,"_").concat(null===p||void 0===p||null===(d=p.targetDriveInfo)||void 0===d?void 0:d.type),className:"flex flex-row hover:text-slate-700 hover:underline dark:hover:text-slate-400",children:[(0,u.jsx)(c.Z,{className:"mt-1 mb-auto mr-3 h-6 w-6"}),(0,u.jsxs)("div",{className:"mr-2 flex flex-col",children:[(0,u.jsxs)("p",{className:"leading-none ".concat(m?"":"my-auto"),children:[null===p||void 0===p?void 0:p.name,":"," ",(0,o.hz)(null===f||void 0===f?void 0:f.permission,s.A).name]}),m&&(0,u.jsx)("small",{className:"",children:m})]}),(0,u.jsx)(i.Z,{className:"my-auto ml-auto h-5 w-5"})]})},"".concat(null===f||void 0===f||null===(n=f.drive)||void 0===n?void 0:n.alias,"-").concat(null===f||void 0===f||null===(r=f.drive)||void 0===r?void 0:r.type))}},709:function(e,n,r){r.r(n),r.d(n,{default:function(){return Q}});var t=r(4165),a=r(5861),s=r(885),i=r(2791),c=r(6871),o=r(4990),u=r(7408),l=r(136),d=r(3766),f=r(6117),m=function(e){var n=e.circleId,r=(0,u.useQueryClient)(),s=(0,f.Z)().getSharedSecret,i=d.k.getInstance(s()),c=l.W.getInstance(s()),o=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.circleId,e.next=3,i.getCircle(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.circleId,e.next=3,c.fetchMembers(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.dotYouIds,e.next=3,Promise.all(s.map(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.add({circleId:n,dotYouId:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.dotYouIds,e.next=3,Promise.all(s.map(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.remove({circleId:n,dotYouId:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.dotYouId,e.next=3,c.add({circleId:n,dotYouId:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.dotYouId,e.next=3,c.remove({circleId:n,dotYouId:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.circleId,e.next=3,i.removeCircle(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetch:(0,u.useQuery)(["circle",n],(function(){return o({circleId:n})}),{refetchOnWindowFocus:!1}),fetchMembers:(0,u.useQuery)(["cirleMembers",n],(function(){return m({circleId:n})}),{refetchOnWindowFocus:!1}),provideGrants:(0,u.useMutation)(v,{onSuccess:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(s,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.invalidateQueries(["circles"]),r.invalidateQueries(["circle",n]),r.invalidateQueries(["cirleMembers",n]),e.next=5,Promise.all(i.dotYouIds.map(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.invalidateQueries(["connectionInfo",n]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),onError:function(e){console.error(e)}}),revokeGrants:(0,u.useMutation)(p,{onSuccess:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(s,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.invalidateQueries(["circles"]),r.invalidateQueries(["circle",n]),r.invalidateQueries(["cirleMembers",n]),e.next=5,Promise.all(i.dotYouIds.map(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.invalidateQueries(["connectionInfo",n]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),onError:function(e){console.error(e)}}),provideGrant:(0,u.useMutation)(h,{onSuccess:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(a,s){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.invalidateQueries(["circles"]),r.invalidateQueries(["circle",n]),r.invalidateQueries(["cirleMembers",n]),r.invalidateQueries(["connectionInfo",s.dotYouId]);case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),onError:function(e){console.error(e)}}),revokeGrant:(0,u.useMutation)(x,{onSuccess:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(a,s){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.invalidateQueries(["circles"]),r.invalidateQueries(["circle",n]),r.invalidateQueries(["cirleMembers",n]),r.invalidateQueries(["connectionInfo",s.dotYouId]);case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),onError:function(e){console.error(e)}}),removeCircle:(0,u.useMutation)(Z,{onSuccess:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.invalidateQueries(["circles"]),r.invalidateQueries(["circle",a.circleId]);case 2:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),onError:function(e){console.error(e)}})}},v=r(9072),p=r(9835),h=r(808),x=r(2982),Z=r(4164),g=r(4257),w=r(3412),y=r(6419),b=r(6123),j=r(184),N=function(e){var n=e.title,r=e.confirmText,t=e.isOpen,a=e.defaultMembers,c=e.confirmationStatus,u=e.onConfirm,l=e.onCancel,d=(0,w.Z)("modal-container"),f=(0,g.Z)().fetchActive,m=f.data,h=f.isLoading,N=(0,i.useState)([]),k=(0,s.Z)(N,2),I=k[0],C=k[1],S=(0,i.useState)([]),Y=(0,s.Z)(S,2),Q=Y[0],D=Y[1];if(!t)return null;var M=function(e,n){e?(a.some((function(e){return e===n}))||C([].concat((0,x.Z)(I),[n])),D(Q.filter((function(e){return e!==n})))):(a.some((function(e){return e===n}))&&D([].concat((0,x.Z)(Q),[n])),C(I.filter((function(e){return e!==n}))))},F=(0,j.jsx)(b.Z,{size:"4xlarge",onClose:l,title:n,children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{children:null!==m&&void 0!==m&&m.length&&!h?m.map((function(e){return(0,j.jsx)(p.Z,{name:e.givenName&&e.surName?"".concat(e.givenName," ").concat(e.surName):e.dotYouId,className:"relative w-1/2 p-1 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6",onClick:function(){var n=a.some((function(n){return n===e.dotYouId})),r=Q.some((function(n){return n===e.dotYouId})),t=I.some((function(n){return n===e.dotYouId}));M(!(n?!r:t),e.dotYouId)},children:(0,j.jsx)(y.Z,{className:"absolute top-4 left-4",onChange:function(n){M(n.target.checked,e.dotYouId)},defaultChecked:a.some((function(n){return n===e.dotYouId}))&&!Q.some((function(n){return n===e.dotYouId}))||I.some((function(n){return n===e.dotYouId}))})},e.dotYouId)})):(0,j.jsx)(j.Fragment,{})}),(0,j.jsxs)("div",{className:"-mx-2 py-3 sm:flex sm:flex-row-reverse",children:[(0,j.jsx)(v.Z,{className:"mx-2",icon:"send",state:c,onClick:function(){u(I,Q)},children:r||(0,o.t)("Update Circle")}),(0,j.jsx)(v.Z,{className:"mx-2",type:"secondary",onClick:l,children:(0,o.t)("Cancel")})]})]})});return(0,Z.createPortal)(F,d)},k=r(715),I=r(3004),C=r(1869),S=r(8491),Y=function(e){var n,r=e.circleId,t=e.dotYouId,a=e.className,s=m({circleId:r}).revokeGrants,i=s.mutate,c=s.status;return(0,j.jsx)(p.Z,{className:a,name:t,href:null!==(n=t&&"/owner/connections/".concat(t))&&void 0!==n?n:void 0,children:(0,j.jsx)(v.Z,{type:"secondary",className:"w-full",onClick:function(e){e.preventDefault(),i({dotYouIds:[t]})},state:c,children:"Remove from circle"})})},Q=function(){var e,n,r=(0,c.UO)().circleKey,u=decodeURIComponent(r),l=m({circleId:u}),d=l.fetch,f=d.data,p=d.isLoading,x=l.fetchMembers,Z=x.data,g=x.isLoading,w=l.provideGrants,y=w.mutateAsync,b=w.status,Q=l.revokeGrants,D=Q.mutateAsync,M=Q.status,F=l.removeCircle,O=F.mutateAsync,G=F.status,A=(0,i.useState)(!1),q=(0,s.Z)(A,2),R=q[0],P=q[1],z=(0,i.useState)(!1),L=(0,s.Z)(z,2),W=L[0],E=L[1];return p&&j.Fragment,f?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(I.Z,{icon:k.Z,title:"".concat(f.name),actions:(0,j.jsxs)(j.Fragment,{children:[" ",(0,j.jsx)(v.Z,{type:"remove",icon:"trash",className:"my-auto ml-auto",state:G,onClick:function(){O({circleId:f.id})},confirmOptions:{title:"".concat((0,o.t)("Remove Circle")," ").concat(f.name),buttonText:(0,o.t)("Remove"),body:(0,o.t)("Are you sure you want to remove this cirlce, all members will lose their access provided by the permissions of this circle?")},children:"Delete"}),(0,j.jsx)(v.Z,{type:"primary",className:"my-auto ml-2",onClick:function(){P(!0)},children:"Edit Members"}),(0,j.jsx)(v.Z,{type:"primary",icon:"edit",className:"my-auto ml-2",onClick:function(){E(!0)},children:"Edit Circle"})]}),breadCrumbs:[{href:"/owner/circles",title:"My Circles"},{title:null!==(e=f.name)&&void 0!==e?e:""}]}),(0,j.jsx)("section",{children:f.description}),(0,j.jsx)(S.Z,{title:(0,o.t)("Access on the following drives"),isOpaqueBg:!0,children:null!==(n=f.drivesGrants)&&void 0!==n&&n.length?(0,j.jsx)(j.Fragment,{children:f.drivesGrants.map((function(e){return(0,j.jsx)(C.Z,{driveGrant:e,className:"mb-6"},"".concat(e.drive.alias,"-").concat(e.drive.type))}))}):(0,j.jsx)("div",{className:"flex flex-row",children:(0,j.jsx)("p",{className:"my-auto",children:(0,o.t)("This circle doesn't have any access")})})}),(0,j.jsx)(S.Z,{isOpaqueBg:!0,isBorderLess:!0,title:(0,o.t)("Members"),children:null!==Z&&void 0!==Z&&Z.length&&!g?(0,j.jsx)("div",{className:"-m-1 flex flex-row flex-wrap",children:Z.map((function(e){return(0,j.jsx)(Y,{circleId:u,dotYouId:e,className:"w-1/2 p-1 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6"},e)}))}):(0,j.jsxs)("div",{className:"flex flex-row",children:[(0,j.jsxs)("p",{className:"my-auto",children:[(0,o.t)("Mmh, this looks like an emtpy circle... Time to add some connections?")," "]}),(0,j.jsx)(v.Z,{onClick:function(e){return e.preventDefault(),P(!0),!1},type:"secondary",className:"ml-2",children:(0,o.t)("Add")})]})}),(0,j.jsx)(h.Z,{title:"".concat((0,o.t)("Edit"),": ").concat(f.name),isOpen:W,confirmText:(0,o.t)("Update Circle"),defaultValue:f,onCancel:function(){E(!1)},onConfirm:function(){E(!1)}}),(0,j.jsx)(N,{isOpen:R,title:"".concat((0,o.t)("Add Members to")," ").concat(f.name),defaultMembers:Z,onCancel:function(){P(!1)},confirmationStatus:(0,v.s)(b,M),onConfirm:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({dotYouIds:n});case 2:return e.next=4,D({dotYouIds:r});case 4:P(!1);case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()})]}):(0,j.jsx)(j.Fragment,{children:"No matching circle found"})}},7266:function(e,n,r){r.d(n,{RG:function(){return i},fP:function(){return s},hz:function(){return c},m3:function(){return o},rS:function(){return t},vr:function(){return a}});var t=function(e){return e[Math.floor(Math.random()*e.length)]},a=function(){return t(["Ut bibendum, neque ac lacinia aliquam, justo ipsum aliquam urna, id vestibulum augue mauris sit amet lacus.","Proin ante sapien, interdum sit amet eros sit amet, eleifend pharetra metus.","Sed elit mi, euismod eget neque at, suscipit aliquam nisi.","Nunc diam arcu, tincidunt quis dignissim ac, volutpat non odio."])},s=function(){var e=["adorable","beautiful","clean","drab","elegant","fancy","glamorous","handsome","long","magnificent","old-fashioned","plain","quaint","sparkling","ugliest","unsightly","angry","bewildered","clumsy","defeated","embarrassed","fierce","grumpy","helpless","itchy","jealous","lazy","mysterious","nervous","obnoxious","panicky","repulsive","scary","thoughtless","uptight","worried"];return"".concat(t(e)," ").concat(t(e)," ").concat(t(["women","men","children","teeth","feet","people","leaves","mice","geese","halves","knives","wives","lives","elves","loaves","potatoes","tomatoes","cacti","foci","fungi","nuclei","syllabuses","analyses","diagnoses","oases","theses","crises","phenomena","criteria","data"]))},i=function(e){for(var n=window.atob(e),r=n.length,t=new Uint8Array(r),a=0;a<r;a++)t[a]=n.charCodeAt(a);return t.buffer},c=function(e,n){return n.reduce((function(n,r){return r.value>n.value&&r.value<=e?r:n}),n[0])},o=function(e,n,r){var t=e[n];return e.splice(n,1),e.splice(r,0,t),e}},4257:function(e,n,r){var t=r(4165),a=r(5861),s=r(7408),i=r(7186),c=r(5144),o=r(6117);n.Z=function(){var e=(0,o.Z)().getSharedSecret,n=c.e.getInstance(e()),r=i.I.getInstance(e()),u=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getPendingRequests({pageNumber:1,pageSize:10});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getSentRequests({pageNumber:1,pageSize:10});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getConnections({pageNumber:1,pageSize:10});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetchPending:(0,s.useQuery)(["pendingConnections"],(function(){return u()}),{refetchOnWindowFocus:!1}),fetchSent:(0,s.useQuery)(["sentRequests"],(function(){return l()}),{refetchOnWindowFocus:!1}),fetchActive:(0,s.useQuery)(["activeConnections"],(function(){return d()}),{refetchOnWindowFocus:!1})}}},1512:function(e,n,r){var t=r(4165),a=r(5861),s=r(7408),i=r(1803),c=r(6117);n.Z=function(e){var n=e.targetDrive,r=(0,c.Z)().getSharedSecret,o=new i.AO({api:i.Ii.Owner,sharedSecret:r()}),u=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return r=e.sent,e.abrupt("return",r.find((function(e){return e.targetDriveInfo.alias===n.alias&&e.targetDriveInfo.type===n.type})));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["drive","".concat(n.alias,"_").concat(n.type)],(function(){return u(n)}),{refetchOnWindowFocus:!1})}}},6770:function(e,n,r){var t=r(4165),a=r(5861),s=r(7408),i=r(1803),c=r(6117);n.Z=function(){var e=(0,c.Z)().getSharedSecret,n=new i.AO({api:i.Ii.Owner,sharedSecret:e()}),r=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["drives"],(function(){return r()}),{refetchOnWindowFocus:!1})}}},2562:function(e,n,r){r.d(n,{A:function(){return a},W:function(){return s}});var t=r(4990),a=[{name:(0,t.t)("None"),value:0},{name:(0,t.t)("Reader"),value:1},{name:(0,t.t)("Editor"),value:3}],s=[{name:(0,t.t)("None"),value:0},{name:(0,t.t)("Read Connections"),value:10},{name:(0,t.t)("Read Connection Requests"),value:30},{name:(0,t.t)("Read Circle Members"),value:50}]}}]);
//# sourceMappingURL=826.ed8289f8.chunk.js.map