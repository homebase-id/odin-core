"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[604],{5660:function(e,n,r){var t=r(885),a=r(2791),s=r(184);n.Z=function(e){var n=e.className,r=e.state,l=(0,a.useState)(null),i=(0,t.Z)(l,2),o=i[0],c=i[1],u=(0,a.useState)(new Date),d=(0,t.Z)(u,2),m=d[0],f=d[1];if((0,a.useEffect)((function(){"success"===r&&c(new Date)}),[r]),(0,a.useEffect)((function(){var e=setTimeout((function(){f(new Date)}),3e4);return function(){clearTimeout(e)}}),[m]),!o)return null;var v=m.getTime()-o.getTime(),x=o?v<=6e4?"a few seconds ago":v<=6e5?"a few minutes ago":o.toLocaleString():"";return x?(0,s.jsxs)("p",{className:"".concat(n," text-sm"),children:["Last saved ",x]}):null}},6990:function(e,n,r){var t=r(2982),a=r(885),s=r(2791),l=r(1261),i=r(4648),o=r(245),c=r(184),u=function(e){var n=e.className,r=e.isChecked,t=e.children,a=e.onChange;return(0,c.jsxs)("li",{className:"flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ".concat(n),onClick:a,children:[(0,c.jsx)(i.Z,{className:"my-auto mr-3 h-4 w-4 ".concat(r?"text-slate-700 dark:text-slate-200":"text-transparent")})," ",(0,c.jsx)("span",{className:"mr-auto block h-full py-1",children:t})]})};n.Z=function(e){var n,r,i=e.className,d=e.permissionLevels,m=e.onChange,f=e.defaultValue,v=(0,s.useState)(!1),x=(0,a.Z)(v,2),h=x[0],p=x[1],b=(0,s.useState)(f),g=(0,a.Z)(b,2),j=g[0],N=g[1],w=(0,s.useRef)(null);(0,l.Z)(w,(function(){return p(!1)}));var y=(null===f||void 0===f?void 0:f.length)>=2?"Multiple":null!==(n=null!==f&&void 0!==f&&f[0]?null===(r=d.find((function(e){return e.value===f[0]})))||void 0===r?void 0:r.name:d[0].name)&&void 0!==n?n:d[0].name,Z=function(e){N(e),m&&m(e)};return(0,c.jsx)("div",{className:null!==i&&void 0!==i?i:"",children:(0,c.jsxs)("div",{className:"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800",onClick:function(){return p(!h)},ref:w,children:[(0,c.jsxs)("div",{className:"flex min-w-[6rem] flex-row py-1 px-2",children:[(0,c.jsx)("span",{className:"my-auto mr-2 select-none",children:y})," ",(0,c.jsx)(o.Z,{className:"my-auto ml-auto h-2 w-2 rotate-90"})]}),(0,c.jsx)("ul",{className:"absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ".concat(h?"z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700":"max-h-0"),children:d.map((function(e){return(0,c.jsx)(u,{isChecked:j.some((function(n){return n===e.value}))||0===j.length&&0===e.value,onChange:function(){return j.some((function(n){return n===e.value}))?Z(j.filter((function(n){return n!==e.value}))):0!==e.value?Z([].concat((0,t.Z)(j),[e.value])):Z([])},children:e.name},e.value)}))})]})})}},2284:function(e,n,r){var t=r(885),a=r(2791),s=r(1261),l=r(4648),i=r(245),o=r(184),c=function(e){var n=e.className,r=e.isChecked,t=e.children,a=e.onChange;return(0,o.jsxs)("li",{className:"flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ".concat(n),onClick:a,children:[(0,o.jsx)(l.Z,{className:"my-auto mr-3 h-4 w-4 ".concat(r?"text-slate-700 dark:text-slate-200":"text-transparent")})," ",(0,o.jsx)("span",{className:"mr-auto block h-full py-1",children:t})]})};n.Z=function(e){var n=e.className,r=e.permissionLevels,l=e.onChange,u=e.defaultValue,d=(0,a.useState)(!1),m=(0,t.Z)(d,2),f=m[0],v=m[1],x=(0,a.useState)(u),h=(0,t.Z)(x,2),p=h[0],b=h[1],g=(0,a.useRef)(null);(0,s.Z)(g,(function(){return v(!1)}));var j=r.reduce((function(e,n){return n.value>e.value&&n.value<=u?n:e}),r[0]),N=function(e){b(e),l(e)};return(0,o.jsx)("div",{className:null!==n&&void 0!==n?n:"",children:(0,o.jsxs)("div",{className:"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800",onClick:function(){return v(!f)},ref:g,children:[(0,o.jsxs)("div",{className:"flex min-w-[6rem] flex-row py-1 px-2",children:[(0,o.jsx)("span",{className:"my-auto mr-2 select-none",children:j.name})," ",(0,o.jsx)(i.Z,{className:"my-auto ml-auto h-2 w-2 rotate-90"})]}),(0,o.jsx)("ul",{className:"absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ".concat(f?"z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700":"max-h-0"),children:r.map((function(e){return(0,o.jsx)(c,{isChecked:0===e.value?p===e.value:p>=e.value,onChange:function(){return p!==e.value?N(e.value):N(0)},children:e.name},e.value)}))})]})})}},4648:function(e,n,r){var t=r(184);n.Z=function(e){var n=e.className;return(0,t.jsxs)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",className:n,viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),(0,t.jsx)("path",{d:"M22 4L12 14.01l-3-3"})]})}},245:function(e,n,r){var t=r(184);n.Z=function(e){var n=e.className;return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",className:n,children:(0,t.jsx)("path",{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"})})}},3004:function(e,n,r){var t=r(3504),a=r(5660),s=r(184);n.Z=function(e){var n=e.title,r=e.actions,l=e.saveStatus,i=e.breadCrumbs,o=e.icon;return(0,s.jsx)("section",{className:"-my-8 -mx-10 mb-10 border-b-2 border-gray-100 bg-slate-50 py-8 px-10 dark:border-gray-700 dark:bg-slate-800",children:(0,s.jsxs)("div",{className:"flex flex-row",children:[(0,s.jsxs)("div",{className:"flex-col",children:[i&&(0,s.jsx)("ul",{className:"mb-2 hidden flex-row sm:flex",children:i.map((function(e,n){return(0,s.jsx)("li",{className:"mr-2",children:e.href?(0,s.jsxs)(t.rU,{to:e.href,className:"",children:[e.title,(0,s.jsx)("span",{className:"ml-2",children:">"})]}):(0,s.jsx)("span",{className:"text-slate-500",children:e.title})},n)}))}),n&&(0,s.jsxs)("h1",{className:"mb-5 flex flex-row text-4xl dark:text-white",children:[o&&o({className:"h-8 w-8 my-auto mr-4"})," ",n]})]}),(0,s.jsxs)("div",{className:"ml-auto ",children:[(0,s.jsx)("div",{className:"flex flex-row",children:r}),l&&(0,s.jsx)(a.Z,{className:"mt-1",state:l})]})]})})}},8491:function(e,n,r){var t=r(184);n.Z=function(e){var n=e.title,r=e.className,a=e.children,s=e.isOpaqueBg,l=void 0!==s&&s,i=e.isBorderLess,o=void 0!==i&&i;return(0,t.jsxs)("section",{className:"my-5 rounded-md ".concat(l?o?"":"rounded-lg border-[1px] border-gray-200 border-opacity-80 px-5 dark:border-gray-700":"bg-slate-50 px-5 dark:bg-slate-800"," dark:text-slate-300 ").concat(null!==r&&void 0!==r?r:""),children:[n?(0,t.jsx)("div",{className:"relative border-b-[1px] border-gray-200 border-opacity-80 py-5 transition-all duration-300 dark:border-gray-700",children:(0,t.jsx)("h3",{className:"text-2xl dark:text-white",children:n})}):null,(0,t.jsx)("div",{className:"py-5 ",children:a})]})}},1604:function(e,n,r){r.r(n);var t=r(2982),a=r(1413),s=r(885),l=r(2791),i=r(4990),o=r(6770),c=r(2562),u=r(6990),d=r(2284),m=r(2891),f=r(3004),v=r(8491),x=r(184),h=function(){var e,n=(0,o.Z)().fetch.data,r=(0,l.useState)({name:"All",description:"",permissions:{keys:[0]},drives:[]}),m=(0,s.Z)(r,2),f=m[0],h=m[1];return(0,x.jsxs)(v.Z,{title:(0,i.t)("General settings for all connections"),children:[(0,x.jsxs)("div",{className:"mb-5 flex flex-row",children:[(0,x.jsx)("label",{htmlFor:"name",className:"my-auto mr-2",children:(0,i.t)("Connections can:")}),(0,x.jsx)(u.Z,{className:"ml-auto",permissionLevels:c.W,defaultValue:null!==(e=f.permissions.keys)&&void 0!==e?e:[0],onChange:function(e){h((0,a.Z)((0,a.Z)({},f),{},{permissions:{keys:e}}))}})]}),null!==n&&void 0!==n&&n.length?(0,x.jsxs)("div",{className:"my-10",children:[(0,x.jsx)("h2",{className:"mb-4 text-2xl",children:"Per Drive Permissions:"}),n.map((function(e,n){var r,s,l;return(0,x.jsxs)("div",{className:"mb-2 flex flex-row",children:[(0,x.jsx)("label",{htmlFor:"".concat(e.targetDriveInfo.alias,"-").concat(e.targetDriveInfo.type),className:"my-auto mr-2",children:e.name}),(0,x.jsx)(d.Z,{className:"ml-auto",permissionLevels:c.A,defaultValue:null!==(r=null===(s=f.drives)||void 0===s||null===(l=s.find((function(n){return n.drive.alias===e.targetDriveInfo.alias&&n.drive.type===e.targetDriveInfo.type})))||void 0===l?void 0:l.permission)&&void 0!==r?r:0,onChange:function(n){h(n>0?(0,a.Z)((0,a.Z)({},f),{},{drives:[].concat((0,t.Z)(f.drives.filter((function(n){return n.drive.alias!==e.targetDriveInfo.alias||n.drive.type!==e.targetDriveInfo.type}))),[{drive:e.targetDriveInfo,permission:n}])}):(0,a.Z)((0,a.Z)({},f),{},{drives:(0,t.Z)(f.drives.filter((function(n){return n.drive.alias!==e.targetDriveInfo.alias||n.drive.type!==e.targetDriveInfo.type})))}))}})]},n)}))]}):null]})};n.default=function(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(f.Z,{icon:m.Z,title:"".concat((0,i.t)("Settings"))}),(0,x.jsx)(h,{})]})}},1261:function(e,n,r){var t=r(2791);n.Z=function(e,n){(0,t.useEffect)((function(){function r(r){e.current&&!e.current.contains(r.target)&&n()}return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}),[e])}},6770:function(e,n,r){var t=r(4165),a=r(5861),s=r(7408),l=r(1803),i=r(6117);n.Z=function(){var e=(0,i.Z)().getSharedSecret,n=new l.AO({api:l.Ii.Owner,sharedSecret:e()}),r=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["drives"],(function(){return r()}),{refetchOnWindowFocus:!1})}}},2562:function(e,n,r){r.d(n,{A:function(){return a},W:function(){return s}});var t=r(4990),a=[{name:(0,t.t)("None"),value:0},{name:(0,t.t)("Reader"),value:1},{name:(0,t.t)("Editor"),value:3}],s=[{name:(0,t.t)("None"),value:0},{name:(0,t.t)("Read Connections"),value:10},{name:(0,t.t)("Read Connection Requests"),value:30},{name:(0,t.t)("Read Circle Members"),value:50}]},4942:function(e,n,r){function t(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}r.d(n,{Z:function(){return t}})},1413:function(e,n,r){r.d(n,{Z:function(){return s}});var t=r(4942);function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}}}]);
//# sourceMappingURL=604.dc3a19f8.chunk.js.map