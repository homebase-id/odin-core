"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[469],{4226:function(e,t,r){var n=r(6752),a=r(2878),i=r(2791),o=r(4990),s=r(3197),l=r(6916),u=r(3225),c=r(2465),d=r(184);t.Z=function(e){var t,r,m,f,v,p,h,x,b,g,y,j,Z,w,N,k,I,C,S,D,F,A,T,M,Q,O,V,_,H,U,P,L,B=e.attribute,E=e.onChange,G=(0,i.useMemo)((function(){return(0,a.Z)(E,500)}),[E]),R=Object.keys(n.Qv).filter((function(e){return!isNaN(Number(e))})),q=Object.keys(n.Qv).filter((function(e){return isNaN(Number(e))}));switch(B.type){case n.H1.Name.type.toString():return(0,d.jsxs)("div",{className:"-mx-2 flex flex-row",children:[(0,d.jsxs)("div",{className:"mb-5 w-2/5 px-2",children:[(0,d.jsx)("label",{htmlFor:"given-name",children:(0,o.t)("Given name")}),(0,d.jsx)(l.Z,{id:"given-name",name:"givenName",defaultValue:null!==(t=null===(r=B.data)||void 0===r?void 0:r.givenName)&&void 0!==t?t:"",onChange:G})]}),(0,d.jsxs)("div",{className:"mb-5 w-3/5 px-2",children:[(0,d.jsx)("label",{htmlFor:"sur-name",children:(0,o.t)("Surname")}),(0,d.jsx)(l.Z,{id:"sur-name",name:"surname",defaultValue:null!==(m=null===(f=B.data)||void 0===f?void 0:f.surname)&&void 0!==m?m:"",onChange:G})]})]});case n.H1.Photo.type.toString():return(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"profileImageId",children:(0,o.t)("Profile Image")}),(0,d.jsx)(s.Z,{id:"profileImageId",name:"profileImageId",defaultValue:null!==(v=null===(p=B.data)||void 0===p?void 0:p.profileImageId)&&void 0!==v?v:"",onChange:G,acl:B.acl,targetDrive:(0,n.H3)(B.profileId)})]});case n.H1.InstagramUsername.type.toString():case n.H1.TiktokUsername.type.toString():case n.H1.TwitterUsername.type.toString():case n.H1.LinkedinUsername.type.toString():case n.H1.FacebookUsername.type.toString():return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsxs)("label",{htmlFor:"handle",children:[B.typeDefinition.name," ",(0,o.t)("Username")]}),(0,d.jsx)(l.Z,{id:"handle",name:B.typeDefinition.name.toLowerCase(),defaultValue:null!==(h=null===(x=B.data)||void 0===x?void 0:x[B.typeDefinition.name.toLowerCase()])&&void 0!==h?h:"",onChange:G})]})});case n.H1.FullBio.type.toString():return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"short-bio",children:(0,o.t)("Bio")}),(0,d.jsx)(l.Z,{id:"short-bio",name:"short_bio",defaultValue:null!==(b=null===(g=B.data)||void 0===g?void 0:g.short_bio)&&void 0!==b?b:"",onChange:G})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"full-bio",children:(0,o.t)("Full bio")}),(0,d.jsx)(c.Z,{id:"full-bio",name:"full_bio",defaultValue:null!==(y=null===(j=B.data)||void 0===j?void 0:j.full_bio)&&void 0!==y?y:"",onChange:G})]})]});case n.H1.ShortBio.type.toString():return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"short-bio",children:(0,o.t)("Bio")}),(0,d.jsx)(l.Z,{id:"short-bio",name:"short_bio",defaultValue:null!==(Z=null===(w=B.data)||void 0===w?void 0:w.short_bio)&&void 0!==Z?Z:"",onChange:G})]})});case n.H1.Link.type.toString():return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"link-text",children:(0,o.t)("Text")}),(0,d.jsx)(l.Z,{id:"link-text",name:"link_text",defaultValue:null!==(N=null===(k=B.data)||void 0===k?void 0:k.link_text)&&void 0!==N?N:"",onChange:G})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"link-target",children:(0,o.t)("Target")}),(0,d.jsx)(l.Z,{id:"link-target",name:"link_target",defaultValue:null!==(I=null===(C=B.data)||void 0===C?void 0:C.link_target)&&void 0!==I?I:"",onChange:G})]})]});case n.H1.CreditCard.type.toString():return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"cc-alias",children:(0,o.t)("Alias")}),(0,d.jsx)(l.Z,{id:"cc-alias",name:"cc_alias",defaultValue:null!==(S=null===(D=B.data)||void 0===D?void 0:D.cc_alias)&&void 0!==S?S:"",onChange:G})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"cc-name",children:(0,o.t)("Name on Card")}),(0,d.jsx)(l.Z,{id:"cc-name",name:"cc_name",defaultValue:null!==(F=null===(A=B.data)||void 0===A?void 0:A.cc_name)&&void 0!==F?F:"",onChange:G})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"cc-number",children:(0,o.t)("Credit card number")}),(0,d.jsx)(l.Z,{id:"cc-number",name:"cc_number",defaultValue:null!==(T=null===(M=B.data)||void 0===M?void 0:M.cc_number)&&void 0!==T?T:"",onChange:G})]})]});case n.Dg.HomePage.toString():return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"headerImageUrl",children:(0,o.t)("Header Image")}),(0,d.jsx)(s.Z,{id:"headerImageUrl",name:"headerImageUrl",defaultValue:null!==(Q=null===(O=B.data)||void 0===O?void 0:O.headerImageUrl)&&void 0!==Q?Q:"",onChange:G,acl:B.acl,targetDrive:(0,n.H3)(n.Ib.DefaultDriveId.toString())})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"tagLine",children:(0,o.t)("Tag Line")}),(0,d.jsx)(l.Z,{id:"tagLine",name:"tagLine",defaultValue:null!==(V=null===(_=B.data)||void 0===_?void 0:_.tagLine)&&void 0!==V?V:"",onChange:G})]}),(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"leadText",children:(0,o.t)("Lead Text")}),(0,d.jsx)(c.Z,{id:"leadText",name:"leadText",defaultValue:null!==(H=null===(U=B.data)||void 0===U?void 0:U.leadText)&&void 0!==H?H:"",onChange:G})]})]});case n.Dg.Theme.toString():return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"mb-5",children:[(0,d.jsx)("label",{htmlFor:"themeId",children:(0,o.t)("Theme")}),(0,d.jsxs)(u.Z,{id:"themeId",name:"themeId",defaultValue:null!==(P=null===(L=B.data)||void 0===L?void 0:L.themeId)&&void 0!==P?P:"",onChange:G,children:[(0,d.jsx)("option",{children:(0,o.t)("Make a selection")}),R.map((function(e,t){return(0,d.jsx)("option",{value:e,children:(0,o.t)(q[t])},e)}))]})]})});default:return(0,d.jsx)(d.Fragment,{children:Object.keys(B.data).map((function(e){return(0,d.jsxs)("p",{className:"whitespace-pre-line",children:[e,": ",B.data[e]]},e)}))})}}},3469:function(e,t,r){r.d(t,{Z:function(){return Z}});var n=r(9439),a=r(6752),i=r(2791),o=r(4990),s=r(3433),l=r(4165),u=r(1413),c=r(5861),d=r(1326),m=r(9077),f=function(e){var t=e.attributes,r=e.groupedAttributes,n=(0,m.Z)({}).save.mutateAsync,a=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(t,r){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=(0,c.Z)((0,l.Z)().mark((function e(t,a){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n((0,u.Z)((0,u.Z)({},t),{},{priority:r+1e3*a}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),i=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(r,n){var i,o,c,m,f,v,p,h,x,b,g;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=t.indexOf(r),!(-1===(f=m+n)||f>=t.length)){e.next=4;break}return e.abrupt("return",r.priority);case 4:if(v=t[-1===n?f-1:f],p=t[-1===n?f:f+1],h=Math.min.apply(Math,(0,s.Z)(t.map((function(e){return e.priority})))),x=Math.max.apply(Math,(0,s.Z)(t.map((function(e){return e.priority})))),b=Math.ceil(Math.abs((null!==(i=null===v||void 0===v?void 0:v.priority)&&void 0!==i?i:h)+((null!==(o=null===p||void 0===p?void 0:p.priority)&&void 0!==o?o:x)-(null!==(c=null===v||void 0===v?void 0:v.priority)&&void 0!==c?c:h))/2)),(g=(0,s.Z)(t))[m]=(0,u.Z)((0,u.Z)({},g[m]),{},{priority:b}),!g.some((function(e){return g.some((function(t){return t.priority===e.priority&&t.id!==e.id}))}))){e.next=16;break}return(0,d.m3)(g,m,f),e.next=15,a(g,h);case 15:return e.abrupt("return");case 16:return e.abrupt("return",b);case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(n,i){var o,c,m,f,v,p,h,x,b,g,y;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=r.findIndex((function(e){return e.name===n})),f=r[m],!(-1===(v=m+i)||v>=r.length)){e.next=5;break}return e.abrupt("return",f.priority);case 5:if(p=r[-1===i?v-1:v],h=r[-1===i?v:v+1],x=null!==p&&void 0!==p&&null!==(o=p.attributes)&&void 0!==o&&o.length?Math.max.apply(Math,(0,s.Z)(p.attributes.map((function(e){return e.priority})))):0,b=Math.ceil(Math.abs((null!==x&&void 0!==x?x:0)+((null!==(c=null===h||void 0===h?void 0:h.priority)&&void 0!==c?c:t[t.length-1].priority+2e3)-(null!==x&&void 0!==x?x:0))/2)),(g=(0,s.Z)(r))[m]=(0,u.Z)((0,u.Z)({},g[m]),{},{priority:b}),!g.some((function(e){return g.some((function(t){return t.priority===e.priority&&t.name!==e.name}))}))){e.next=16;break}return(0,d.m3)(g,m,v),y=g.flatMap((function(e){return e.attributes})),a(y,1e3),e.abrupt("return");case 16:return e.abrupt("return",b);case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return{reorderAttr:i,reorderAttrGroup:o}},v=r(9072),p=r(184),h=function(e){var t=e.className;return(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",className:t,children:(0,p.jsx)("path",{d:"M215.1 272h-136c-12.94 0-24.63 7.797-29.56 19.75C45.47 303.7 48.22 317.5 57.37 326.6l30.06 30.06l-78.06 78.07c-12.5 12.5-12.5 32.75-.0012 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.26 .0013l78.06-78.07l30.06 30.06c6.125 6.125 14.31 9.367 22.63 9.367c4.125 0 8.279-.7891 12.25-2.43c11.97-4.953 19.75-16.62 19.75-29.56V296C239.1 282.7 229.3 272 215.1 272zM296 240h136c12.94 0 24.63-7.797 29.56-19.75c4.969-11.97 2.219-25.72-6.938-34.87l-30.06-30.06l78.06-78.07c12.5-12.5 12.5-32.76 .0002-45.26l-22.62-22.62c-12.5-12.5-32.76-12.5-45.26-.0003l-78.06 78.07l-30.06-30.06c-9.156-9.141-22.87-11.84-34.87-6.937c-11.97 4.953-19.75 16.62-19.75 29.56v135.1C272 229.3 282.7 240 296 240z"})})},x=r(5660),b=r(8491),g=r(340),y=r(4226),j=function(e){var t=e.attribute,r=e.className,a=e.reorderAttr,s=e.onSave,d=e.doRemove,f=(0,m.Z)({}),h=f.save,j=h.mutate,Z=h.status,w=f.remove.mutate,N=(0,i.useState)((0,u.Z)({},t)),k=(0,n.Z)(N,2),I=k[0],C=k[1],S=(0,i.useState)(!1),D=(0,n.Z)(S,2),F=D[0],A=D[1],T=function(e){j(e)},M=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(r){var n,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t,r);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:i=(0,u.Z)((0,u.Z)({},I),{},{priority:n}),C(i),T(i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(b.Z,{isOpaqueBg:!0,title:(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("span",{className:"flex flex-row",children:[(0,p.jsx)(g.Z,{className:"mt-2 mb-auto mr-2",acl:I.acl,onChange:function(e){var t=(0,u.Z)((0,u.Z)({},I),{},{acl:e});C(t),T(t)},onClose:function(){return A(!1)},isEdit:F})," ",(0,p.jsxs)("span",{onClick:function(){return A(!0)},children:[(0,g.V)(I.acl)," ",(0,p.jsx)("small",{className:"block text-xs",children:I.typeDefinition.name})]})]})}),className:"".concat(r," relative"),children:[(0,p.jsx)(y.Z,{attribute:I,onChange:function(e){var t=(0,u.Z)({},I);t.data[e.target.name]=e.target.value,C(t),T(t),s&&s(t)}}),(0,p.jsxs)("div",{className:"top-5 right-5 flex flex-row md:absolute",children:[a&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v.Z,{className:"ml-2",icon:"up",type:"secondary",onClick:function(){return M(-1)}}),(0,p.jsx)(v.Z,{className:"ml-2",icon:"down",type:"secondary",onClick:function(){return M(1)}})]}),(0,p.jsx)(v.Z,{icon:"shield",className:"ml-2",type:"secondary",onClick:function(){return A(!0)}}),(0,p.jsx)(v.Z,{type:"remove",icon:"trash",className:"ml-2",confirmOptions:{title:(0,o.t)("Remove Attribute"),buttonText:(0,o.t)("Permanently remove"),body:"".concat((0,o.t)("Are you sure you want to remove your")," ").concat(t.typeDefinition.name," ").concat((0,o.t)("attribute. This action cannot be undone."))},onClick:function(){return d?d(t):w(t)}}),"error"===Z&&(0,p.jsx)(v.Z,{state:Z,type:"primary",className:"ml-2",onClick:function(){return T(I)},children:(0,o.t)("Save")})]}),(0,p.jsx)(x.Z,{className:"mt-2 text-right sm:mt-0",state:Z})]})})},Z=function(e){var t=e.attributes,r=e.groupTitle,s=e.groupedAttributes,l=(0,i.useState)(!1),u=(0,n.Z)(l,2),c=u[0],d=u[1],m=(0,i.useState)(1===t.length),x=(0,n.Z)(m,2),b=x[0],g=x[1],y=f({attributes:t,groupedAttributes:s}),Z=y.reorderAttr,w=y.reorderAttrGroup;if(1===t.length&&!c)return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"relative my-10 overflow-x-hidden",children:[(0,p.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,p.jsxs)("h2",{onClick:function(){return g(!1)},className:"cursor-pointer pl-5 text-2xl",children:[r," ",(0,p.jsxs)("small",{children:["(",t.length,")"]})]}),(0,p.jsx)(v.Z,{onClick:function(){return d(!0)},className:"my-auto ".concat(b?"":"pointer-events-none opacity-50 grayscale"),icon:"plus",type:"mute",children:(0,o.t)("Add another")})]}),(0,p.jsx)(j,{attribute:t[0],reorderAttr:function(e,t){return w(r,t)}})]})});var N=null!==t&&void 0!==t&&t[0]?{profileId:t[0].profileId,sectionId:t[0].sectionId,type:t[0].type,typeDefinition:t[0].typeDefinition,acl:{requiredSecurityGroup:a.hh.Owner},id:void 0,priority:t[0].priority,data:{}}:void 0;return(0,p.jsxs)("div",{className:"relative my-10 overflow-x-hidden ".concat(b?"":"cursor-pointer transition-transform"),style:{paddingBottom:"".concat(10*t.length,"px")},onClick:function(){b||g(!0)},children:[(0,p.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,p.jsxs)("h2",{onClick:function(){return g(!1)},className:"cursor-pointer text-2xl",children:[(0,p.jsx)(h,{className:"inline-block h-4 w-4 ".concat(b?"opacity-100":"opacity-0")})," ",r," ",(0,p.jsxs)("small",{children:["(",t.length,")"]})]}),(0,p.jsx)(v.Z,{onClick:function(){return d(!0)},className:"my-auto ".concat(b?"":"pointer-events-none opacity-50 grayscale"),icon:"plus",type:"mute",children:(0,o.t)("Add another")})]}),(0,p.jsxs)("div",{className:"mt-5 border-l-[16px] border-slate-50 transition-transform dark:border-slate-600 ".concat(b?"pl-5":"-translate-x-4 hover:translate-x-0"),children:[c&&(0,p.jsx)("span",{className:"bg-pink-600",children:(0,p.jsx)(j,{attribute:N,onSave:function(){return d(!1)},doRemove:function(){return d(!1)}})},"new"),t.map((function(e,t){return(0,p.jsx)("span",{className:b||0===t?"":"absolute left-0 right-0 top-0 bg-white shadow-slate-50 dark:bg-slate-800",style:{transform:"translateX(".concat(4*t,"px) translateY(").concat(10*t,"px)")},children:(0,p.jsx)(j,{attribute:e,className:b?"mt-0 mb-5":"pointer-events-none my-0 opacity-50 grayscale",reorderAttr:Z})},e.id)}))]})]})}},6691:function(e,t,r){var n=r(4165),a=r(5861),i=r(9439),o=r(2791),s=r(4164),l=r(4990),u=r(9779),c=r(3412),d=r(9072),m=r(184);t.Z=function(e){var t=e.title,r=e.confirmText,f=e.isOpen,v=e.acl,p=e.targetDrive,h=e.onConfirm,x=e.onCancel,b=(0,c.Z)("modal-container"),g=(0,u.Z)().save,y=g.mutate,j=g.status,Z=(0,o.useState)(),w=(0,i.Z)(Z,2),N=w[0],k=w[1];if(!f)return null;var I=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,N.arrayBuffer();case 3:e.t1=e.sent,t=new e.t0(e.t1),y({acl:v,bytes:t,fileId:void 0,targetDrive:p},{onSuccess:h});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=(0,m.jsxs)("div",{className:"relative z-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[(0,m.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"}),(0,m.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,m.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,m.jsxs)("div",{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all dark:bg-black sm:my-8 sm:w-full sm:max-w-lg",children:[(0,m.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 dark:bg-black sm:p-6 sm:pb-4",children:(0,m.jsx)("div",{className:"sm:flex sm:items-start",children:(0,m.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,m.jsx)("h3",{className:"mb-3 text-lg font-medium leading-6 text-gray-900 dark:text-slate-50",id:"modal-title",children:t}),(0,m.jsx)("input",{onChange:function(e){var t=e.target.files[0];t&&k(t)},type:"file",accept:"image/png, image/jpeg, image/tiff, image/webp",className:"w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100"})]})})}),(0,m.jsxs)("div",{className:"-m-2 flex flex-row-reverse px-4 py-3",children:[(0,m.jsx)(d.Z,{className:"m-2",onClick:I,state:j,children:null!==r&&void 0!==r?r:"Add"}),(0,m.jsx)(d.Z,{className:"m-2",type:"secondary",onClick:x,children:(0,l.t)("Cancel")})]})]})})})]});return(0,s.createPortal)(C,b)}},3197:function(e,t,r){var n=r(9439),a=r(2791),i=r(4990),o=r(9779),s=r(1803),l=r(1088),u=r(7804),c=r(7134),d=r(6691),m=r(184);t.Z=function(e){var t=e.targetDrive,r=e.acl,f=e.onChange,v=e.defaultValue,p=e.name,h=(0,o.Z)("string"===typeof v?v:void 0,t),x=h.fetch,b=x.data,g=x.isLoading,y=h.remove.mutate,j=(0,a.useState)(!1),Z=(0,n.Z)(j,2),w=Z[0],N=Z[1],k=(0,a.useState)(!1),I=(0,n.Z)(k,2),C=I[0],S=I[1];return g?(0,m.jsx)("div",{className:"aspect-square max-w-[20rem] animate-pulse bg-slate-100 dark:bg-slate-700"}):(0,m.jsxs)(m.Fragment,{children:[b?(0,m.jsx)("div",{className:"flex",children:(0,m.jsxs)("div",{className:"relative mr-auto",children:[(0,m.jsx)("button",{className:"absolute top-2 right-2 rounded-full bg-white p-2",onClick:function(e){return e.preventDefault(),N(!0),!1},children:(0,m.jsx)(u.Z,{className:"h-4 w-4 text-black"})}),(0,m.jsx)("button",{className:"absolute bottom-2 right-2 rounded-full bg-red-200 p-2",onClick:function(){return S(!0),!1},children:(0,m.jsx)(c.Z,{className:"h-4 w-4 text-black"})}),(0,m.jsx)("img",{src:b,alt:b,className:"max-h-[20rem]",onClick:function(){N(!0)}})]})}):(0,m.jsxs)("div",{className:"relative flex aspect-video max-w-[20rem] cursor-pointer bg-slate-100 dark:bg-slate-700",onClick:function(e){e.preventDefault(),N(!0)},children:[(0,m.jsx)(l.Z,{className:"m-auto h-8 w-8"}),(0,m.jsx)("p",{className:"absolute inset-0 top-auto pb-5 text-center text-slate-400",children:(0,i.t)("No image selected")})]}),(0,m.jsx)(d.Z,{acl:r,isOpen:w,targetDrive:t,title:(0,i.t)("Insert image"),confirmText:(0,i.t)("Add"),onCancel:function(){return N(!1)},onConfirm:function(e){f({target:{name:p,value:e}}),N(!1)}}),(0,m.jsx)(s.Z,{title:"Remove Current Image",confirmText:"Permanently remove",needConfirmation:C,onConfirm:function(){y({fileId:"string"===typeof v?v:void 0,targetDrive:t},{onSuccess:function(){f({target:{name:p,value:""}})}})},onCancel:function(){S(!1)},children:(0,m.jsx)("p",{className:"text-sm text-gray-500",children:(0,i.t)("Are you sure you want to remove the current file? This action cannot be undone.")})})]})}},9779:function(e,t,r){var n=r(4165),a=r(5861),i=r(7408),o=r(6752),s=r(6117),l={alias:o.Ib.BlogMainContentDriveId.toString(),type:o.Hm.DriveType.toString()};t.Z=function(e,t){var r=(0,s.Z)().getSharedSecret,u=(0,i.useQueryClient)(),c=new o.KU({api:o.Ii.Owner,sharedSecret:r()}),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&""!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,c.mediaProvider.getDecryptedImageUrl(null!==r&&void 0!==r?r:l,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,i,s,u,d,m;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.bytes,a=t.targetDrive,i=void 0===a?l:a,s=t.acl,u=void 0===s?{requiredSecurityGroup:o.hh.Anonymous}:s,d=t.fileId,m=void 0===d?void 0:d,e.next=3,c.mediaProvider.uploadImage(i,void 0,u,r,m);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.targetDrive,a=void 0===r?l:r,i=t.fileId,e.next=3,c.mediaProvider.removeImage(i,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,i.useQuery)(["image",e,t],(function(){return d(e,t)}),{refetchOnMount:!1,refetchOnWindowFocus:!1,staleTime:1/0}),save:(0,i.useMutation)(m,{onSuccess:function(e,t){var r;t.fileId?u.removeQueries(["image",t.fileId,null!==(r=t.targetDrive)&&void 0!==r?r:l]):u.removeQueries(["image"])}}),remove:(0,i.useMutation)(f,{onSuccess:function(e,t){var r;t.fileId?u.removeQueries(["image",t.fileId,null!==(r=t.targetDrive)&&void 0!==r?r:l]):u.removeQueries(["image"])}})}}},9077:function(e,t,r){var n=r(3433),a=r(4165),i=r(5861),o=r(7408),s=r(6752),l=r(6117),u=r(1695);t.Z=function(e){var t=e.profileId,r=e.attributeId,c=(0,l.Z)().getSharedSecret,d=new s.KU({api:s.Ii.Owner,sharedSecret:c()}),m=(0,o.useQueryClient)(),f=(0,u.Z)().publish.mutate,v=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,r){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d.profileDataProvider.getAttribute(t,r);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.profileDataProvider.saveAttribute(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.fileId){e.next=6;break}return e.next=3,d.profileDataProvider.removeAttribute(t.profileId,t.fileId);case 3:return e.abrupt("return",e.sent);case 6:console.log("error...");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,o.useQuery)(["attribute",t,r],(function(){return v(t,r)}),{refetchOnWindowFocus:!1}),save:(0,o.useMutation)(p,{onMutate:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,i,o,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.cancelQueries(["attribute",t.profileId,t.id]);case 2:return i=m.getQueryData(["attribute",t.profileId,t.id]),m.setQueryData(["attribute",t.profileId,t.id],t),o=m.getQueryData(["attributes",t.profileId,t.sectionId]),s=null===(r=t.id?null===o||void 0===o?void 0:o.map((function(e){return e.id===t.id?t:e})):[t].concat((0,n.Z)(o)))||void 0===r?void 0:r.sort((function(e,t){return e.priority-t.priority})),m.setQueryData(["attributes",t.profileId,t.sectionId],s),e.abrupt("return",{previousAttr:i,newAttr:t,previousAttributes:o});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){console.error(e),m.setQueryData(["attribute",t.profileId,r.newAttr.id],r.previousAttr),m.setQueryData(["attributes",t.profileId,t.sectionId],r.previousAttributes)},onSettled:function(e){e.id?m.invalidateQueries(["attribute",e.profileId,e.id]):m.invalidateQueries(["attribute"]),m.invalidateQueries(["attributes",e.profileId,e.sectionId])},onSuccess:function(){f()}}),remove:(0,o.useMutation)(h,{onMutate:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.cancelQueries(["attributes",t.profileId,t.sectionId]);case 2:return r=m.getQueryData(["attributes",t.profileId,t.sectionId]),n=null===r||void 0===r?void 0:r.filter((function(e){return e.id!==t.id})),m.setQueryData(["attributes",t.profileId,t.sectionId],n),e.abrupt("return",{toRemoveAttr:t,previousAttributes:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){console.error(e),m.setQueryData(["attributes",t.profileId,t.sectionId],r.previousAttributes)},onSettled:function(e,t,r){m.invalidateQueries(["attributes",r.profileId,r.sectionId]),f()}})}}},2878:function(e,t,r){r.d(t,{Z:function(){return A}});var n=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},a="object"==typeof global&&global&&global.Object===Object&&global,i="object"==typeof self&&self&&self.Object===Object&&self,o=a||i||Function("return this")(),s=function(){return o.Date.now()},l=/\s/;var u=function(e){for(var t=e.length;t--&&l.test(e.charAt(t)););return t},c=/^\s+/;var d=function(e){return e?e.slice(0,u(e)+1).replace(c,""):e},m=o.Symbol,f=Object.prototype,v=f.hasOwnProperty,p=f.toString,h=m?m.toStringTag:void 0;var x=function(e){var t=v.call(e,h),r=e[h];try{e[h]=void 0;var n=!0}catch(i){}var a=p.call(e);return n&&(t?e[h]=r:delete e[h]),a},b=Object.prototype.toString;var g=function(e){return b.call(e)},y=m?m.toStringTag:void 0;var j=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":y&&y in Object(e)?x(e):g(e)};var Z=function(e){return null!=e&&"object"==typeof e};var w=function(e){return"symbol"==typeof e||Z(e)&&"[object Symbol]"==j(e)},N=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,I=/^0o[0-7]+$/i,C=parseInt;var S=function(e){if("number"==typeof e)return e;if(w(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=d(e);var r=k.test(e);return r||I.test(e)?C(e.slice(2),r?2:8):N.test(e)?NaN:+e},D=Math.max,F=Math.min;var A=function(e,t,r){var a,i,o,l,u,c,d=0,m=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var r=a,n=i;return a=i=void 0,d=t,l=e.apply(n,r)}function h(e){return d=e,u=setTimeout(b,t),m?p(e):l}function x(e){var r=e-c;return void 0===c||r>=t||r<0||f&&e-d>=o}function b(){var e=s();if(x(e))return g(e);u=setTimeout(b,function(e){var r=t-(e-c);return f?F(r,o-(e-d)):r}(e))}function g(e){return u=void 0,v&&a?p(e):(a=i=void 0,l)}function y(){var e=s(),r=x(e);if(a=arguments,i=this,c=e,r){if(void 0===u)return h(c);if(f)return clearTimeout(u),u=setTimeout(b,t),p(c)}return void 0===u&&(u=setTimeout(b,t)),l}return t=S(t)||0,n(r)&&(m=!!r.leading,o=(f="maxWait"in r)?D(S(r.maxWait)||0,t):o,v="trailing"in r?!!r.trailing:v),y.cancel=function(){void 0!==u&&clearTimeout(u),d=0,a=c=i=u=void 0},y.flush=function(){return void 0===u?l:g(s())},y}}}]);
//# sourceMappingURL=469.88e0bba4.chunk.js.map