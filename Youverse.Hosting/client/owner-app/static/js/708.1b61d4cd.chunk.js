"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[708],{9636:function(e,t,n){var r=n(4165),i=n(5861),o=n(1413),a=n(9439),s=n(2791),c=n(4164),u=n(4990),l=n(3412),f=n(3431),d=n(2042),p=n(2851),m=n(6916),v=n(3147),x=n(2465),h=n(8930),Z=n(184);t.Z=function(e){var t=e.title,n=e.confirmText,y=e.isOpen,j=e.defaultValue,g=e.onConfirm,w=e.onCancel,b=(0,l.Z)("modal-container"),I=(0,f.Z)().saveProfile,N=I.mutateAsync,S=I.status,k=I.error,C=(0,s.useState)((0,o.Z)({},j)),P=(0,a.Z)(C,2),D=P[0],A=P[1];if(!y)return null;var Q=(0,Z.jsx)(h.Z,{title:t,onClose:w,children:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(d.Z,{error:k}),(0,Z.jsxs)("form",{onSubmit:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,N(D);case 3:return g(),e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[(0,Z.jsxs)("div",{className:"mb-5",children:[(0,Z.jsx)(v.Z,{htmlFor:"name",children:(0,u.t)("Name")}),(0,Z.jsx)(m.Z,{id:"name",name:"profileName",defaultValue:D.name,onChange:function(e){A((0,o.Z)((0,o.Z)({},D),{},{name:e.target.value}))},required:!0})]}),(0,Z.jsxs)("div",{className:"mb-5",children:[(0,Z.jsx)(v.Z,{htmlFor:"name",children:(0,u.t)("Description")}),(0,Z.jsx)(x.Z,{id:"description",name:"profileDescription",defaultValue:D.description,onChange:function(e){A((0,o.Z)((0,o.Z)({},D),{},{description:e.target.value}))},required:!0})]}),(0,Z.jsxs)("div",{className:"-m-2 flex flex-row-reverse py-3",children:[(0,Z.jsx)(p.Z,{className:"m-2",state:S,icon:"send",children:n||(0,u.t)("Add Profile")}),(0,Z.jsx)(p.Z,{className:"m-2",type:"secondary",onClick:w,children:(0,u.t)("Cancel")})]})]})]})});return(0,c.createPortal)(Q,b)}},8575:function(e,t,n){var r=n(6871),i=n(3504),o=n(3225),a=n(4411),s=n(184);t.Z=function(e){var t=e.className,n=e.items,c=e.isLoading,u=(0,r.s0)(),l=(0,r.TH)(),f=(null===n||void 0===n?void 0:n.length)>=6;if(!0===c)return(0,s.jsx)(a.Z,{className:"h-10"});var d=!n.some((function(e){return e.path===l.pathname}));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"hidden flex-col flex-wrap ".concat(f?"":"sm:flex"," sm:flex-row ").concat(null!==t&&void 0!==t?t:""),children:n.map((function(e,t){return(0,s.jsx)(i.OL,{className:function(n){var r,i,o=n.isActive;return"".concat(e.className&&-1!==(null===(r=e.className)||void 0===r?void 0:r.indexOf("flex-grow"))?"":"flex-grow"," cursor-pointer border-b-2 py-2 px-1 text-lg ").concat(o||d&&0===t?"border-indigo-500 text-indigo-500 dark:text-indigo-400":"border-gray-300 transition-colors duration-300 hover:border-indigo-400 dark:border-gray-800 hover:dark:border-indigo-600"," ").concat(null!==(i=e.className)&&void 0!==i?i:"")},to:e.path,end:!0,children:e.title},e.key)}))}),(0,s.jsx)(o.Z,{className:"".concat(f?"":"sm:hidden"," py-4"),onChange:function(e){return u(e.target.value)},value:window.location.pathname,children:n.map((function(e){return(0,s.jsx)("option",{value:e.path,children:e.text||e.title},e.key)}))})]})}},3431:function(e,t,n){var r=n(4165),i=n(1413),o=n(5861),a=n(7408),s=n(9631),c=n(3990),u=n(8609);t.Z=function(){var e=(0,a.useQueryClient)(),t=(0,u.ZP)().getSharedSecret,n=new s.KU({api:s.Ii.Owner,sharedSecret:t()}),l=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.profileDefinitionProvider.getProfileDefinitions();case 2:return e.next=4,e.sent.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{slug:(0,c.Vj)(e.name)})}));case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.profileDefinitionProvider.saveProfileDefinition(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetchProfiles:(0,a.useQuery)(["profiles"],(function(){return l()}),{refetchOnWindowFocus:!1,retry:!1}),saveProfile:(0,a.useMutation)(f,{onMutate:function(){var t=(0,o.Z)((0,r.Z)().mark((function t(n){var o,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.cancelQueries(["profiles"]);case 2:return o=e.getQueryData(["profiles"]),a=null===o||void 0===o?void 0:o.map((function(e){return e.profileId===n.profileId?(0,i.Z)((0,i.Z)({},n),{},{slug:(0,c.Vj)(n.name)}):e})),e.setQueryData(["profiles"],a),t.abrupt("return",{previousProfiles:o,newProfile:n});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(t,n,r){console.error(t),e.setQueryData(["profiles"],r.previousProfiles)},onSettled:function(){e.invalidateQueries(["profiles"])}})}}},8708:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var r=n(4165),i=n(5861),o=n(3433),a=n(9439),s=n(9631),c=n(2791),u=n(6871),l=n(1413),f=n(7408),d=n(8609),p=function(e){var t=e.profileId,n=e.sectionId,o=(0,d.ZP)().getSharedSecret,a=new s.KU({api:s.Ii.Owner,sharedSecret:o()}),c=(0,f.useQueryClient)(),u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.profileDataProvider.getProfileAttributes(t,n,100);case 4:return i=e.sent,e.abrupt("return",i.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{typeDefinition:Object.values(s.H1).find((function(t){return t.type.toString()===e.type}))})})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,o,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.profileId,o=t.sectionId,n&&o){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,a.profileDataProvider.getProfileAttributes(n,o,100);case 5:return s=e.sent,e.next=8,Promise.all(s.map(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.profileDataProvider.removeAttribute(n,t.fileId));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,f.useQuery)(["attributes",t,n],(function(){return u(t,n)}),{refetchOnWindowFocus:!1}),removeAttributes:(0,f.useMutation)(p,{onError:function(e){console.error(e)},onSettled:function(e,t,n){c.invalidateQueries(["attributes",n.profileId,n.sectionId])}})}},m=n(3431),v=n(4990),x=n(9077),h=n(3561),Z=n(2042),y=n(2851),j=n(4925),g=n(1261),w=n(184),b=["options","onClick","className"],I=function(e){var t=e.options,n=e.onClick,r=e.className,i=(0,j.Z)(e,b),s=(0,c.useRef)(null);(0,g.Z)(t?s:void 0,(function(){return p(!1)}));var u=(0,c.useState)(!1),f=(0,a.Z)(u,2),d=f[0],p=f[1],m=t.reduce((function(e,t){return t.group?-1!==e.indexOf(t.group)?e:[].concat((0,o.Z)(e),[t.group]):e}),[]);m.sort();var v=m.map((function(e){return{name:e,options:t.filter((function(t){return t.group===e}))}})),x=function(e){return e.map((function(e){return(0,w.jsx)("li",{onClick:function(){return n(e.value)},className:"cursor-pointer px-2 py-1 hover:bg-slate-200 dark:hover:bg-slate-700",children:e.name},e.value)}))};return(0,w.jsxs)("div",{className:"relative ".concat(null!==r&&void 0!==r?r:""),ref:s,children:[(0,w.jsx)(y.Z,(0,l.Z)((0,l.Z)({},i),{},{className:"w-full sm:w-full",onClick:function(){return p(!d)},icon:"down"})),null!==v&&void 0!==v&&v.length?(0,w.jsx)("ul",{className:"absolute right-0 bottom-[100%] w-full shadow-md ".concat(d?"max-h-[15rem]":"max-h-0"," overflow-auto bg-white text-black dark:bg-slate-900 dark:text-white"),children:v.map((function(e){return(0,w.jsxs)("li",{className:"px-2 py-1",children:[(0,w.jsx)("p",{className:"font-bold text-slate-400 dark:text-slate-500",children:e.name}),(0,w.jsx)("ul",{children:x(e.options)})]},e.name)}))}):t?(0,w.jsx)("ul",{className:"absolute right-0 bottom-[100%] w-full ".concat(d?"max-h-[15rem]":"max-h-0"," overflow-auto bg-white text-black"),children:x(t)}):null]})},N=n(1434),S=n(4154),k=n(3120),C=function(e){var t,n=e.profileId,r=e.sectionId,i=e.newPriority,o=e.excludedTypes,u=(0,c.useState)(),f=(0,a.Z)(u,2),d=f[0],p=f[1],m=(0,c.useState)(!1),j=(0,a.Z)(m,2),g=j[0],b=j[1],C=(0,c.useState)(!0),P=(0,a.Z)(C,2),D=P[0],A=P[1],Q=(0,c.useState)(!1),O=(0,a.Z)(Q,2),F=O[0],H=O[1],L=(0,c.useRef)(),M=(0,x.Z)({}).save,U=M.mutate,E=M.status,T=M.error,q=function(){b(!1),p(void 0),A(!0)};(0,c.useEffect)((function(){g?(H(!0),L.current&&L.current.scrollIntoView({behavior:"smooth"})):H(!1)}),[g]);var R=Object.values(s.H1).filter((function(e){return!o.some((function(t){return t===e.type}))})).map((function(e){return{value:e.type.toString(),name:e.name,group:[s.H1.FacebookUsername.type,s.H1.DotYouIdentity.type,s.H1.InstagramUsername.type,s.H1.LinkedinUsername.type,s.H1.TiktokUsername.type,s.H1.TwitterUsername.type,s.H1.Link.type].includes(e.type)?(0,v.t)("Link"):[s.H1.Name.type,s.H1.Photo.type,s.H1.Location.type,s.H1.Birthday.type,s.H1.PhoneNumber.type].includes(e.type)?(0,v.t)("Details"):[s.H1.FullBio.type,s.H1.ShortBio.type].includes(e.type)?(0,v.t)("Bio"):[s.H1.CreditCard.type].includes(e.type)?(0,v.t)("Wallet"):""}}));return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Z.Z,{error:T}),g&&d?(0,w.jsx)(N.Z,{ref:L,title:(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("span",{className:"flex flex-row md:pr-[14rem]",children:[(0,w.jsx)("button",{title:d.acl.requiredSecurityGroup,className:"mr-2 inline-block",onClick:function(){return A(!0)},children:(0,w.jsx)(h.dU,{className:"h-5 w-5",acl:d.acl})}),(0,w.jsxs)("span",{children:["New".concat(d?":":""," ").concat(null!==(t=null===d||void 0===d?void 0:d.typeDefinition.name)&&void 0!==t?t:"")," ",(0,w.jsx)("small",{className:"block text-xs",children:(0,w.jsx)(h.L,{acl:null===d||void 0===d?void 0:d.acl})})]})]})}),isOpaqueBg:!0,className:"".concat(g&&!F?"bg-indigo-50 dark:bg-indigo-900":""," transition-colors duration-[3000ms] ").concat(F?"bg-transparent":""),children:D?(0,w.jsx)(k.Z,{acl:d.acl,onConfirm:function(e){p((0,l.Z)((0,l.Z)({},d),{},{acl:(0,l.Z)({},e)})),A(!1)},onCancel:q}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(S.Z,{attribute:d,onChange:function(e){if(d){var t=(0,l.Z)({},d);t.data[e.target.name]=e.target.value,p(t)}}}),(0,w.jsx)("div",{className:"flex flex-row justify-end pb-2",children:(0,w.jsxs)("p",{className:"text-slate-500",children:[(0,v.t)("Accessible by: ")," ",(0,w.jsx)(h.L,{acl:null===d||void 0===d?void 0:d.acl,maxLength:1/0})]})}),(0,w.jsxs)("div",{className:"flex flex-row",children:[(0,w.jsx)(y.Z,{type:"secondary",className:"ml-auto",onClick:q,children:(0,v.t)("Cancel")}),(0,w.jsx)(y.Z,{type:"primary",className:"ml-2",onClick:function(){U((0,l.Z)((0,l.Z)({},d),{},{typeDefinition:void 0}),{onSuccess:function(){q()}})},state:E,children:(0,v.t)("Save")})]})]})}):(0,w.jsx)("div",{className:"flex flex-row",children:(0,w.jsx)(I,{type:"primary",className:"mx-auto min-w-[13rem]",onClick:function(e){e&&function(e){var t=Object.values(s.H1).find((function(t){return t.type.toString()===e}));p({id:s.j4.getNewId(),type:e,sectionId:r,priority:i,data:{},typeDefinition:t,profileId:n,acl:{requiredSecurityGroup:s.hh.Owner}})}(e),b(!0)},options:R,children:(0,v.t)("Add Attribute")})})]})},P=n(6916),D=n(4602),A=n(9080),Q=n(9037),O=n(9636),F=n(5284),H=function(e){var t=e.profileId,n=(0,f.useQueryClient)(),o=(0,d.ZP)().getSharedSecret,a=p({}).removeAttributes.mutateAsync,c=new s.KU({api:s.Ii.Owner,sharedSecret:o()}),u=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.profileId){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,c.profileDefinitionProvider.getProfileSections(n);case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.profileId,i=t.profileSection,e.next=3,c.profileDefinitionProvider.saveProfileSection(n,i);case 3:return e.abrupt("return",{profileId:n,profileSection:i});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.profileId,i=t.profileSection,e.next=3,a({profileId:n,sectionId:i.sectionId});case 3:return e.next=5,c.profileDefinitionProvider.removeProfileSection(n,i.sectionId);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetchAll:(0,f.useQuery)(["profileSections",t],(function(){return u({profileId:t})}),{refetchOnWindowFocus:!1}),save:(0,f.useMutation)(l,{onMutate:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.profileId,o=t.profileSection,e.next=3,n.cancelQueries(["profileSections",i]);case 3:return a=n.getQueryData(["profileSections",i]),s=null===a||void 0===a?void 0:a.map((function(e){return e.sectionId===o.sectionId?o:e})),n.setQueryData(["profileSections",i],s),e.abrupt("return",{previousSections:a,newSection:o});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){console.error(e),n.setQueryData(["profileSections",t.profileId],r.previousSections)},onSettled:function(e){n.invalidateQueries(["profileSections",e.profileId])}}),remove:(0,f.useMutation)(m,{onMutate:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.profileId,o=t.profileSection,e.next=3,n.cancelQueries(["profileSections",i]);case 3:return a=n.getQueryData(["profileSections",i]),s=null===a||void 0===a?void 0:a.filter((function(e){return e.sectionId!==o.sectionId})),n.setQueryData(["profileSections",i],s),e.abrupt("return",{previousSections:a,toRemoveSection:o});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onError:function(e,t,r){console.error(e),n.setQueryData(["profileSections",t.profileId],r.previousSections)},onSettled:function(e,t,r){n.invalidateQueries(["profileSections",r.profileId])}})}},L=n(3147),M=function(e){var t=e.section,n=e.profileId,r=e.onClose,i=e.className,o=(0,c.useState)((0,l.Z)({},t)),s=(0,a.Z)(o,2),u=s[0],f=s[1],d=H({}),p=d.save,m=p.mutateAsync,x=p.status,h=p.error,j=d.remove,g=j.mutateAsync,b=j.status,I=j.error;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Z.Z,{error:h}),(0,w.jsx)(Z.Z,{error:I}),(0,w.jsx)(N.Z,{title:"".concat((0,v.t)("Edit"),": ").concat(t.name),isOpaqueBg:!0,className:null!==i&&void 0!==i?i:"",children:(0,w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m({profileId:n,profileSection:u},{onSuccess:function(){r()}})},children:[(0,w.jsxs)("div",{className:"mb-5",children:[(0,w.jsx)(L.Z,{htmlFor:"name",children:(0,v.t)("Name")}),(0,w.jsx)(P.Z,{id:"name",name:"name",defaultValue:t.name,onChange:function(e){var t=(0,l.Z)({},u);t[e.target.name]=e.target.value,f(t)}})]}),(0,w.jsxs)("div",{className:"-m-2 flex flex-row-reverse",children:[(0,w.jsx)(y.Z,{type:"primary",className:"m-2",state:x,children:(0,v.t)("Save")}),(0,w.jsx)(y.Z,{type:"secondary",className:"m-2",onClick:function(e){e.preventDefault(),r()},children:(0,v.t)("Cancel")}),(0,w.jsx)(y.Z,{type:"remove",icon:"trash",className:"m-2 mr-auto",state:b,onClick:function(){return g({profileId:n,profileSection:t})},confirmOptions:{title:(0,v.t)("Remove Section"),body:(0,v.t)("Are you sure you want to remove this section, this action cannot be undone. All attributes within this section will also be removed."),buttonText:(0,v.t)("Remove")},children:(0,v.t)("Remove")})]})]})})]})},U=n(8575),E=n(4411),T=n(7797),q=function(e){var t=e.profileId,n=e.onCreate,u=H({profileId:t}),l=u.fetchAll.data,f=u.save,d=f.mutateAsync,p=f.status,m=f.error,x=(0,c.useState)(""),h=(0,a.Z)(x,2),j=h[0],g=h[1],b=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(i){var a,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.preventDefault(),a=s.j4.getNewId(),c={sectionId:a,attributes:[],priority:null!==l&&void 0!==l&&l.length?Math.max.apply(Math,(0,o.Z)(l.map((function(e){return e.priority}))))+1e3:1e3,isSystemSection:!1,name:j},e.next=5,d({profileId:t,profileSection:c});case 5:n(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Z.Z,{error:m}),(0,w.jsx)(N.Z,{title:"New: section",isOpaqueBg:!0,children:(0,w.jsxs)("form",{onSubmit:b,children:[(0,w.jsxs)("div",{className:"mb-5",children:[(0,w.jsx)(L.Z,{htmlFor:"name",children:(0,v.t)("Name")}),(0,w.jsx)(P.Z,{id:"name",name:"sectionName",onChange:function(e){g(e.target.value)},required:!0})]}),(0,w.jsx)("div",{className:"flex flex-row",children:(0,w.jsx)(y.Z,{className:"ml-auto",state:p,children:(0,v.t)("Add section")})})]})})]})},R=function(e){var t=e.section,n=e.profileId,r=e.isParentLoading,i=p({profileId:n,sectionId:null===t||void 0===t?void 0:t.sectionId}).fetch,s=i.data,u=i.isLoading,l=(0,c.useState)(!1),f=(0,a.Z)(l,2),d=f[0],m=f[1];if(!s||u||r)return(0,w.jsxs)("div",{className:"-m-5 pt-5",children:[(0,w.jsx)(E.Z,{className:"m-5 h-20"}),(0,w.jsx)(E.Z,{className:"m-5 h-20"}),(0,w.jsx)(E.Z,{className:"m-5 h-20"}),(0,w.jsx)(E.Z,{className:"m-5 h-20"})]});var x=s.reduce((function(e,t){return-1!==e.indexOf(t.type)?e:[].concat((0,o.Z)(e),[t.type])}),[]),h=x.map((function(e){var t,n,r=s.filter((function(t){return t.type===e})),i=Math.min.apply(Math,(0,o.Z)(r.map((function(e){return e.priority}))));return{name:null===(t=r[0])||void 0===t||null===(n=t.typeDefinition)||void 0===n?void 0:n.name,attributes:r,priority:i}}));h.sort((function(e,t){return e.priority-t.priority}));var Z=s.reduce((function(e,t){return e>t.priority?e:t.priority}),0);return(0,w.jsxs)("div",{className:"pt-5",children:[t?d?(0,w.jsx)(M,{section:t,profileId:n,onClose:function(){return m(!1)},className:"bg-slate-50 dark:bg-slate-800"},t.sectionId):(0,w.jsxs)("section",{className:"items-center bg-slate-50 p-3 dark:bg-slate-800 sm:flex sm:flex-row",children:[(0,w.jsx)("p",{className:"sm:mr-2",children:t.name}),(0,w.jsx)(y.Z,{type:"secondary",className:"ml-auto",onClick:function(){return m(!0)},children:(0,v.t)("Edit Section")})]}):null,s.length?h.map((function(e){return(0,w.jsx)(Q.Z,{groupTitle:e.name,attributes:e.attributes,groupedAttributes:h},e.name)})):(0,w.jsx)("div",{className:"py-5",children:(0,v.t)("section-empty-attributes")}),(0,w.jsx)(C,{profileId:n,sectionId:t.sectionId,newPriority:Z+1e3,excludedTypes:x})]})},V=function(){var e=(0,m.Z)().fetchProfiles,t=e.data,n=e.isLoading,r=(0,u.UO)(),i=r.profileKey,s=r.sectionKey,l=(0,u.s0)(),f=(0,c.useState)(!1),d=(0,a.Z)(f,2),p=d[0],x=d[1],h=null===t||void 0===t?void 0:t.find((function(e){return e.slug===i})),Z=H({profileId:null===h||void 0===h?void 0:h.profileId}).fetchAll,j=Z.data,g=Z.isLoading,b=decodeURIComponent(s)||(null!==j&&void 0!==j&&j.length?j[0].sectionId:"");if(n)return(0,w.jsx)(T.Z,{});if(!t)return(0,w.jsx)(w.Fragment,{children:(0,v.t)("no-data-found")});if(!h)return(0,w.jsx)(w.Fragment,{children:"Incorrect profile path"});var I="new"===b||!(null!==j&&void 0!==j&&j.length)&&!g,N=I?void 0:(null===j||void 0===j?void 0:j.find((function(e){return e.sectionId===b})))||(null===j||void 0===j?void 0:j[0]),S=null!==j&&void 0!==j&&j.length?j.map((function(e,t){return{title:e.name,key:e.sectionId,path:"/owner/profile/".concat(i,"/").concat(encodeURIComponent(e.sectionId))}})):[];return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(A.Z,{icon:F.Z,title:h.name,actions:(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(y.Z,{onClick:function(){return x(!0)},className:"m-2",icon:"edit",children:(0,v.t)("Edit Profile")})}),breadCrumbs:[{href:"/owner/profile",title:"My Profiles"},{title:i}]}),(0,w.jsx)(U.Z,{className:"mt-5",items:[].concat((0,o.Z)(S),[{title:(0,w.jsx)(D.Z,{className:"h-5 w-5"}),text:"-- ".concat((0,v.t)("Create new section")," --"),key:"new",path:"/owner/profile/".concat(i,"/new"),className:"flex-grow-0"}]),isLoading:g}),I?(0,w.jsx)(q,{profileId:h.profileId,onCreate:function(e){return l("/owner/profile/".concat(i,"/").concat(e))}}):(0,w.jsx)(R,{section:N,profileId:null===h||void 0===h?void 0:h.profileId,isParentLoading:g},null===N||void 0===N?void 0:N.sectionId),(0,w.jsx)(O.Z,{isOpen:p,title:(0,v.t)("Edit Profile: ")+h.name,confirmText:(0,v.t)("Save"),defaultValue:h,onCancel:function(){x(!1)},onConfirm:function(){x(!1)}})]})}}}]);
//# sourceMappingURL=708.1b61d4cd.chunk.js.map