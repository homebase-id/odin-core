"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[826],{9835:function(e,n,r){var t=r(3504),a=r(184);n.Z=function(e){var n=e.name,r=e.href,s=e.className,i=e.children,c=e.onClick,o=function(e){var n=e.children;return r?(0,a.jsx)(t.rU,{to:r,children:n}):(0,a.jsx)(a.Fragment,{children:n})};return(0,a.jsx)("div",{className:s,children:(0,a.jsx)(o,{children:(0,a.jsxs)("div",{className:"h-full rounded-md border-[1px] border-gray-200 border-opacity-60 bg-white transition-colors dark:border-gray-800 dark:bg-gray-800",onClick:c,children:[(0,a.jsx)("div",{className:"aspect-square",children:(0,a.jsx)("img",{src:"https://placehold.co/200",className:"h-full w-full"})}),(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsx)("h2",{className:"font-thiner mb-6 dark:text-white",children:n}),i]})]})})})}},4523:function(e,n,r){r.d(n,{Z:function(){return N}});var t=r(2982),a=r(1413),s=r(885),i=r(2791),c=r(4164),o=r(4990),u=r(4395),l=r(6770),d=r(3412),f=r(2562),m=r(9072),v=r(6916),p=r(1261),h=r(4648),x=r(245),g=r(184),Z=function(e){var n=e.className,r=e.isChecked,t=e.children,a=e.onChange;return(0,g.jsxs)("li",{className:"flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ".concat(n),onClick:a,children:[(0,g.jsx)(h.Z,{className:"my-auto mr-3 h-4 w-4 ".concat(r?"text-slate-700 dark:text-slate-200":"text-transparent")})," ",(0,g.jsx)("span",{className:"mr-auto block h-full py-1",children:t})]})},w=function(e){var n,r,a=e.className,c=e.permissionLevels,o=e.onChange,u=e.defaultValue,l=(0,i.useState)(!1),d=(0,s.Z)(l,2),f=d[0],m=d[1],v=(0,i.useState)(u),h=(0,s.Z)(v,2),w=h[0],y=h[1],b=(0,i.useRef)(null);(0,p.Z)(b,(function(){return m(!1)}));var j=(null===u||void 0===u?void 0:u.length)>=2?"Multiple":null!==(n=null!==u&&void 0!==u&&u[0]?null===(r=c.find((function(e){return e.value===u[0]})))||void 0===r?void 0:r.name:c[0].name)&&void 0!==n?n:c[0].name,N=function(e){console.log(e),y(e),o(e)};return(0,g.jsx)("div",{className:null!==a&&void 0!==a?a:"",children:(0,g.jsxs)("div",{className:"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800",onClick:function(){return m(!f)},ref:b,children:[(0,g.jsxs)("div",{className:"flex min-w-[6rem] flex-row py-1 px-2",children:[(0,g.jsx)("span",{className:"my-auto mr-2 select-none",children:j})," ",(0,g.jsx)(x.Z,{className:"my-auto ml-auto h-2 w-2 rotate-90"})]}),(0,g.jsx)("ul",{className:"absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ".concat(f?"z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700":"max-h-0"),children:c.map((function(e){return(0,g.jsx)(Z,{isChecked:w.some((function(n){return n===e.value}))||0===w.length&&0===e.value,onChange:function(){return w.some((function(n){return n===e.value}))?N(w.filter((function(n){return n!==e.value}))):0!==e.value?N([].concat((0,t.Z)(w),[e.value])):N([])},children:e.name},e.value)}))})]})})},y=r(2284),b=r(2465),j=r(6123),N=function(e){var n,r=e.title,p=e.confirmText,h=e.isOpen,x=e.defaultValue,Z=e.onConfirm,N=e.onCancel,k=(0,d.Z)("modal-container"),I=(0,u.Z)().createOrUpdate,C=I.mutate,S=I.status,M=(0,l.Z)().fetch.data,Y=(0,i.useState)((0,a.Z)((0,a.Z)({drives:x.drivesGrants||[]},x),{},{drivesGrants:void 0})),O=(0,s.Z)(Y,2),D=O[0],Q=O[1];if(!h)return null;var F=(0,g.jsx)(j.Z,{title:r,onClose:N,size:"4xlarge",children:(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),C({circleDefinition:D},{onSuccess:function(){return Z()}}),!1},children:[(0,g.jsxs)("div",{className:"mb-5",children:[(0,g.jsx)("label",{htmlFor:"name",children:(0,o.t)("Name")}),(0,g.jsx)(v.Z,{id:"name",name:"circleName",defaultValue:D.name,onChange:function(e){Q((0,a.Z)((0,a.Z)({},D),{},{name:e.target.value}))},required:!0})]}),(0,g.jsxs)("div",{className:"mb-5",children:[(0,g.jsx)("label",{htmlFor:"name",children:(0,o.t)("Description")}),(0,g.jsx)(b.Z,{id:"description",name:"circleDescription",defaultValue:D.description,onChange:function(e){Q((0,a.Z)((0,a.Z)({},D),{},{description:e.target.value}))},required:!0})]}),(0,g.jsxs)("div",{className:"mb-5 flex flex-row",children:[(0,g.jsx)("label",{htmlFor:"name",className:"my-auto mr-2",children:(0,o.t)("Permissions")}),(0,g.jsx)(w,{className:"ml-auto",permissionLevels:f.W,defaultValue:null!==(n=D.permissions.keys)&&void 0!==n?n:[0],onChange:function(e){Q((0,a.Z)((0,a.Z)({},D),{},{permissions:{keys:e}}))}})]}),null!==M&&void 0!==M&&M.length?(0,g.jsxs)("div",{className:"my-7",children:[(0,g.jsx)("h2",{className:"mb-4 text-lg",children:"Drive Permissions:"}),M.map((function(e,n){var r,s,i;return(0,g.jsxs)("div",{className:"mb-2 flex flex-row",children:[(0,g.jsx)("label",{htmlFor:"".concat(e.targetDriveInfo.alias,"-").concat(e.targetDriveInfo.type),className:"my-auto mr-2",children:e.name}),(0,g.jsx)(y.Z,{className:"ml-auto",permissionLevels:f.A,defaultValue:null!==(r=null===(s=D.drives)||void 0===s||null===(i=s.find((function(n){return n.drive.alias===e.targetDriveInfo.alias&&n.drive.type===e.targetDriveInfo.type})))||void 0===i?void 0:i.permission)&&void 0!==r?r:0,onChange:function(n){Q(n>0?(0,a.Z)((0,a.Z)({},D),{},{drives:[].concat((0,t.Z)(D.drives.filter((function(n){return n.drive.alias!==e.targetDriveInfo.alias||n.drive.type!==e.targetDriveInfo.type}))),[{drive:e.targetDriveInfo,permission:n}])}):(0,a.Z)((0,a.Z)({},D),{},{drives:(0,t.Z)(D.drives.filter((function(n){return n.drive.alias!==e.targetDriveInfo.alias||n.drive.type!==e.targetDriveInfo.type})))}))}})]},n)}))]}):null,(0,g.jsxs)("div",{className:"-mx-2 py-3 sm:flex sm:flex-row-reverse",children:[(0,g.jsx)(m.Z,{className:"mx-2",state:S,icon:"send",children:p||(0,o.t)("Add Circle")}),(0,g.jsx)(m.Z,{className:"mx-2",type:"secondary",onClick:N,children:(0,o.t)("Cancel")})]})]})})});return(0,c.createPortal)(F,k)}},6916:function(e,n,r){var t=r(1413),a=r(184);n.Z=function(e){var n;return(0,a.jsx)("input",(0,t.Z)((0,t.Z)({},e),{},{type:null!==(n=e.type)&&void 0!==n?n:"input",className:"w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 ".concat(e.className)}))}},2284:function(e,n,r){var t=r(885),a=r(2791),s=r(1261),i=r(4648),c=r(245),o=r(184),u=function(e){var n=e.className,r=e.isChecked,t=e.children,a=e.onChange;return(0,o.jsxs)("li",{className:"flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ".concat(n),onClick:a,children:[(0,o.jsx)(i.Z,{className:"my-auto mr-3 h-4 w-4 ".concat(r?"text-slate-700 dark:text-slate-200":"text-transparent")})," ",(0,o.jsx)("span",{className:"mr-auto block h-full py-1",children:t})]})};n.Z=function(e){var n=e.className,r=e.permissionLevels,i=e.onChange,l=e.defaultValue,d=(0,a.useState)(!1),f=(0,t.Z)(d,2),m=f[0],v=f[1],p=(0,a.useState)(l),h=(0,t.Z)(p,2),x=h[0],g=h[1],Z=(0,a.useRef)(null);(0,s.Z)(Z,(function(){return v(!1)}));var w=r.reduce((function(e,n){return n.value>e.value&&n.value<=l?n:e}),r[0]),y=function(e){g(e),i(e)};return(0,o.jsx)("div",{className:null!==n&&void 0!==n?n:"",children:(0,o.jsxs)("div",{className:"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800",onClick:function(){return v(!m)},ref:Z,children:[(0,o.jsxs)("div",{className:"flex min-w-[6rem] flex-row py-1 px-2",children:[(0,o.jsx)("span",{className:"my-auto mr-2 select-none",children:w.name})," ",(0,o.jsx)(c.Z,{className:"my-auto ml-auto h-2 w-2 rotate-90"})]}),(0,o.jsx)("ul",{className:"absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ".concat(m?"z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700":"max-h-0"),children:r.map((function(e){return(0,o.jsx)(u,{isChecked:0===e.value?x===e.value:x>=e.value,onChange:function(){return x!==e.value?y(e.value):y(0)},children:e.name},e.value)}))})]})})}},2465:function(e,n,r){var t=r(1413),a=r(184);n.Z=function(e){return(0,a.jsx)("textarea",(0,t.Z)((0,t.Z)({},e),{},{className:"w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 ".concat(e.className)}))}},245:function(e,n,r){var t=r(184);n.Z=function(e){var n=e.className;return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",className:n,children:(0,t.jsx)("path",{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"})})}},1869:function(e,n,r){var t=r(3504),a=r(1512),s=r(2562),i=r(894),c=r(7266),o=r(184);n.Z=function(e){var n,r,u=e.driveGrant,l=e.permissionTree,d=e.className,f=(0,a.Z)({targetDrive:u.drive}).fetch.data;return(0,o.jsx)("div",{className:"flex flex-row ".concat(d),title:l,children:(0,o.jsxs)(t.rU,{to:"/owner/drives/".concat(null===f||void 0===f||null===(n=f.targetDriveInfo)||void 0===n?void 0:n.alias,"_").concat(null===f||void 0===f||null===(r=f.targetDriveInfo)||void 0===r?void 0:r.type),className:"contents",children:[(0,o.jsx)(i.Z,{className:"mt-1 mb-auto mr-3 h-6 w-6"}),(0,o.jsxs)("div",{className:"flex flex-col",children:[(0,o.jsxs)("p",{className:"leading-none ".concat(l?"":"my-auto"),children:[null===f||void 0===f?void 0:f.name,":"," ",(0,c.hz)(u.permission,s.A).name]}),l&&(0,o.jsx)("small",{className:"ml-1",children:l})]})]})},"".concat(u.drive.alias,"-").concat(u.drive.type))}},709:function(e,n,r){r.r(n),r.d(n,{default:function(){return Y}});var t=r(4165),a=r(5861),s=r(885),i=r(2791),c=r(6871),o=r(4990),u=r(7408),l=r(136),d=r(3766),f=r(6117),m=function(e){var n=e.circleId,r=(0,u.useQueryClient)(),s=(0,f.Z)().getSharedSecret,i=d.k.getInstance(s()),c=l.W.getInstance(s()),o=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.circleId,e.next=3,i.getCircle(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.circleId,e.next=3,c.fetchMembers(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.dotYouIds,e.next=3,Promise.all(s.map(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.add({circleId:n,dotYouId:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.dotYouIds,e.next=3,Promise.all(s.map(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.remove({circleId:n,dotYouId:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.dotYouId,e.next=3,c.add({circleId:n,dotYouId:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.dotYouId,e.next=3,c.remove({circleId:n,dotYouId:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetch:(0,u.useQuery)(["circle",n],(function(){return o({circleId:n})}),{refetchOnMount:!1,refetchOnWindowFocus:!1}),fetchMembers:(0,u.useQuery)(["cirleMembers",n],(function(){return m({circleId:n})}),{refetchOnMount:!1,refetchOnWindowFocus:!1}),provideGrants:(0,u.useMutation)(v,{onSuccess:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(s,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.invalidateQueries(["circles"]),r.invalidateQueries(["circle",n]),r.invalidateQueries(["cirleMembers",n]),e.next=5,Promise.all(i.dotYouIds.map(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.invalidateQueries(["connectionInfo",n]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),onError:function(e){console.error(e)}}),revokeGrants:(0,u.useMutation)(p,{onSuccess:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(s,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.invalidateQueries(["circles"]),r.invalidateQueries(["circle",n]),r.invalidateQueries(["cirleMembers",n]),e.next=5,Promise.all(i.dotYouIds.map(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.invalidateQueries(["connectionInfo",n]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),onError:function(e){console.error(e)}}),provideGrant:(0,u.useMutation)(h,{onSuccess:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(a,s){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.invalidateQueries(["circles"]),r.invalidateQueries(["circle",n]),r.invalidateQueries(["cirleMembers",n]),r.invalidateQueries(["connectionInfo",s.dotYouId]);case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),onError:function(e){console.error(e)}}),revokeGrant:(0,u.useMutation)(x,{onSuccess:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(a,s){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.invalidateQueries(["circles"]),r.invalidateQueries(["circle",n]),r.invalidateQueries(["cirleMembers",n]),r.invalidateQueries(["connectionInfo",s.dotYouId]);case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),onError:function(e){console.error(e)}})}},v=r(9072),p=r(9835),h=r(4523),x=r(2982),g=r(4164),Z=r(4257),w=r(3412),y=r(6419),b=r(6123),j=r(184),N=function(e){var n=e.title,r=e.confirmText,t=e.isOpen,a=e.defaultMembers,c=e.confirmationStatus,u=e.onConfirm,l=e.onCancel,d=(0,w.Z)("modal-container"),f=(0,Z.Z)().fetchActive,m=f.data,h=f.isLoading,N=(0,i.useState)([]),k=(0,s.Z)(N,2),I=k[0],C=k[1],S=(0,i.useState)([]),M=(0,s.Z)(S,2),Y=M[0],O=M[1];if(!t)return null;var D=function(e,n){e?(a.some((function(e){return e===n}))||C([].concat((0,x.Z)(I),[n])),O(Y.filter((function(e){return e!==n})))):(a.some((function(e){return e===n}))&&O([].concat((0,x.Z)(Y),[n])),C(I.filter((function(e){return e!==n}))))},Q=(0,j.jsx)(b.Z,{size:"4xlarge",onClose:l,title:n,children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{children:null!==m&&void 0!==m&&m.length&&!h?m.map((function(e){return(0,j.jsx)(p.Z,{name:e.givenName&&e.surName?"".concat(e.givenName," ").concat(e.surName):e.dotYouId,className:"relative w-1/2 p-1 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6",onClick:function(){var n=a.some((function(n){return n===e.dotYouId})),r=Y.some((function(n){return n===e.dotYouId})),t=I.some((function(n){return n===e.dotYouId}));D(!(n?!r:t),e.dotYouId)},children:(0,j.jsx)(y.Z,{className:"absolute top-4 left-4",onChange:function(n){D(n.target.checked,e.dotYouId)},defaultChecked:a.some((function(n){return n===e.dotYouId}))&&!Y.some((function(n){return n===e.dotYouId}))||I.some((function(n){return n===e.dotYouId}))})},e.dotYouId)})):(0,j.jsx)(j.Fragment,{})}),(0,j.jsxs)("div",{className:"-mx-2 py-3 sm:flex sm:flex-row-reverse",children:[(0,j.jsx)(v.Z,{className:"mx-2",icon:"send",state:c,onClick:function(){u(I,Y)},children:r||(0,o.t)("Update Circle")}),(0,j.jsx)(v.Z,{className:"mx-2",type:"secondary",onClick:l,children:(0,o.t)("Cancel")})]})]})});return(0,g.createPortal)(Q,d)},k=r(715),I=r(3004),C=r(1869),S=r(8491),M=function(e){var n,r=e.circleId,t=e.dotYouId,a=e.className,s=m({circleId:r}).revokeGrants,i=s.mutate,c=s.status;return(0,j.jsx)(p.Z,{className:a,name:t,href:null!==(n=t&&"/owner/connections/".concat(t))&&void 0!==n?n:void 0,children:(0,j.jsx)(v.Z,{type:"secondary",className:"w-full",onClick:function(e){e.preventDefault(),i({dotYouIds:[t]})},state:c,children:"Remove from circle"})})},Y=function(){var e,n,r=(0,c.UO)().circleKey,u=decodeURIComponent(r),l=m({circleId:u}),d=l.fetch,f=d.data,p=d.isLoading,x=l.fetchMembers,g=x.data,Z=x.isLoading,w=l.provideGrants,y=w.mutateAsync,b=w.status,Y=l.revokeGrants,O=Y.mutateAsync,D=Y.status,Q=(0,i.useState)(!1),F=(0,s.Z)(Q,2),q=F[0],G=F[1],A=(0,i.useState)(!1),P=(0,s.Z)(A,2),z=P[0],R=P[1];return p&&j.Fragment,f?(console.log(f),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(I.Z,{icon:k.Z,title:"".concat(f.name),actions:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(v.Z,{type:"primary",className:"my-auto ml-auto",onClick:function(){G(!0)},children:"Edit Members"}),(0,j.jsx)(v.Z,{type:"primary",className:"my-auto ml-2",onClick:function(){R(!0)},children:"Edit Circle"})]}),breadCrumbs:[{href:"/owner/circles",title:"My Circles"},{title:null!==(e=f.name)&&void 0!==e?e:""}]}),(0,j.jsx)("section",{children:f.description}),(0,j.jsx)(S.Z,{title:(0,o.t)("Access on the following drives"),isOpaqueBg:!0,children:null!==(n=f.drivesGrants)&&void 0!==n&&n.length?(0,j.jsx)(j.Fragment,{children:f.drivesGrants.map((function(e){return(0,j.jsx)(C.Z,{driveGrant:e,className:"mb-6"},"".concat(e.drive.alias,"-").concat(e.drive.type))}))}):(0,j.jsx)("div",{className:"flex flex-row",children:(0,j.jsx)("p",{className:"my-auto",children:(0,o.t)("This circle doesn't have any access")})})}),(0,j.jsx)(S.Z,{isOpaqueBg:!0,isBorderLess:!0,title:(0,o.t)("Members"),children:null!==g&&void 0!==g&&g.length&&!Z?(0,j.jsx)("div",{className:"-m-1 flex flex-row flex-wrap",children:g.map((function(e){return(0,j.jsx)(M,{circleId:u,dotYouId:e,className:"w-1/2 p-1 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6"},e)}))}):(0,j.jsxs)("div",{className:"flex flex-row",children:[(0,j.jsxs)("p",{className:"my-auto",children:[(0,o.t)("Mmh, this looks like an emtpy circle... Time to add some connections?")," "]}),(0,j.jsx)(v.Z,{onClick:function(e){return e.preventDefault(),G(!0),!1},type:"secondary",className:"ml-2",children:(0,o.t)("Add")})]})}),(0,j.jsx)(h.Z,{title:"".concat((0,o.t)("Edit"),": ").concat(f.name),isOpen:z,confirmText:(0,o.t)("Update Circle"),defaultValue:f,onCancel:function(){R(!1)},onConfirm:function(){R(!1)}}),(0,j.jsx)(N,{isOpen:q,title:"".concat((0,o.t)("Add Members to")," ").concat(f.name),defaultMembers:g,onCancel:function(){G(!1)},confirmationStatus:(0,v.s)(b,D),onConfirm:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({dotYouIds:n});case 2:return e.next=4,O({dotYouIds:r});case 4:setTimeout((function(){return G(!1)}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}()})]})):(0,j.jsx)(j.Fragment,{children:"No matching circle found"})}},7266:function(e,n,r){r.d(n,{RG:function(){return i},fP:function(){return s},hz:function(){return c},rS:function(){return t},vr:function(){return a}});var t=function(e){return e[Math.floor(Math.random()*e.length)]},a=function(){return t(["Ut bibendum, neque ac lacinia aliquam, justo ipsum aliquam urna, id vestibulum augue mauris sit amet lacus.","Proin ante sapien, interdum sit amet eros sit amet, eleifend pharetra metus.","Sed elit mi, euismod eget neque at, suscipit aliquam nisi.","Nunc diam arcu, tincidunt quis dignissim ac, volutpat non odio."])},s=function(){var e=["adorable","beautiful","clean","drab","elegant","fancy","glamorous","handsome","long","magnificent","old-fashioned","plain","quaint","sparkling","ugliest","unsightly","angry","bewildered","clumsy","defeated","embarrassed","fierce","grumpy","helpless","itchy","jealous","lazy","mysterious","nervous","obnoxious","panicky","repulsive","scary","thoughtless","uptight","worried"];return"".concat(t(e)," ").concat(t(e)," ").concat(t(["women","men","children","teeth","feet","people","leaves","mice","geese","halves","knives","wives","lives","elves","loaves","potatoes","tomatoes","cacti","foci","fungi","nuclei","syllabuses","analyses","diagnoses","oases","theses","crises","phenomena","criteria","data"]))},i=function(e){for(var n=window.atob(e),r=n.length,t=new Uint8Array(r),a=0;a<r;a++)t[a]=n.charCodeAt(a);return t.buffer},c=function(e,n){return n.reduce((function(n,r){return r.value>n.value&&r.value<=e?r:n}),n[0])}},1261:function(e,n,r){var t=r(2791);n.Z=function(e,n){(0,t.useEffect)((function(){function r(r){e.current&&!e.current.contains(r.target)&&n()}return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}),[e])}},4257:function(e,n,r){var t=r(4165),a=r(5861),s=r(7408),i=r(7186),c=r(5144),o=r(6117);n.Z=function(){var e=(0,o.Z)().getSharedSecret,n=c.e.getInstance(e()),r=i.I.getInstance(e()),u=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getPendingRequests({pageNumber:1,pageSize:10});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getSentRequests({pageNumber:1,pageSize:10});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getConnections({pageNumber:1,pageSize:10});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetchPending:(0,s.useQuery)(["pendingConnections"],(function(){return u()}),{refetchOnMount:!1,refetchOnWindowFocus:!1}),fetchSent:(0,s.useQuery)(["sentRequests"],(function(){return l()}),{refetchOnMount:!1,refetchOnWindowFocus:!1}),fetchActive:(0,s.useQuery)(["activeConnections"],(function(){return d()}),{refetchOnMount:!1,refetchOnWindowFocus:!1})}}},1512:function(e,n,r){var t=r(4165),a=r(5861),s=r(7408),i=r(1803),c=r(6117);n.Z=function(e){var n=e.targetDrive,r=(0,c.Z)().getSharedSecret,o=new i.AO({api:i.Ii.Owner,sharedSecret:r()}),u=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return r=e.sent,e.abrupt("return",r.find((function(e){return e.targetDriveInfo.alias===n.alias&&e.targetDriveInfo.type===n.type})));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["drive","".concat(n.alias,"_").concat(n.type)],(function(){return u(n)}),{refetchOnMount:!1,refetchOnWindowFocus:!1})}}},6770:function(e,n,r){var t=r(4165),a=r(5861),s=r(7408),i=r(1803),c=r(6117);n.Z=function(){var e=(0,c.Z)().getSharedSecret,n=new i.AO({api:i.Ii.Owner,sharedSecret:e()}),r=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetch:(0,s.useQuery)(["drives"],(function(){return r()}),{refetchOnMount:!1,refetchOnWindowFocus:!1})}}},2562:function(e,n,r){r.d(n,{A:function(){return a},W:function(){return s}});var t=r(4990),a=[{name:(0,t.t)("None"),value:0},{name:(0,t.t)("Reader"),value:1},{name:(0,t.t)("Editor"),value:3}],s=[{name:(0,t.t)("None"),value:0},{name:(0,t.t)("Read Connections"),value:10},{name:(0,t.t)("Read Connection Requests"),value:30},{name:(0,t.t)("Read Circle Members"),value:50}]}}]);
//# sourceMappingURL=826.70eaed69.chunk.js.map