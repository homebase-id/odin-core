"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[620],{6419:function(t,e,r){var n=r(1413),o=r(184);e.Z=function(t){return(0,o.jsx)("input",(0,n.Z)((0,n.Z)({},t),{},{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 bg-gray-100 text-blue-600 focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:ring-offset-gray-800 dark:focus:ring-blue-600 ".concat(t.className)}))}},8491:function(t,e,r){var n=r(184);e.Z=function(t){var e=t.title,r=t.className,o=t.children,i=t.isOpaqueBg,a=void 0!==i&&i,s=t.isBorderLess,c=void 0!==s&&s;return(0,n.jsxs)("section",{className:"my-5 rounded-md ".concat(a?c?"":"rounded-lg border-[1px] border-gray-200 border-opacity-80 px-5 dark:border-gray-700":"bg-slate-50 px-5 dark:bg-slate-800"," dark:text-slate-300 ").concat(null!==r&&void 0!==r?r:""),children:[e?(0,n.jsx)("div",{className:"relative border-b-[1px] border-gray-200 border-opacity-80 py-5 transition-all duration-300 dark:border-gray-700",children:(0,n.jsx)("h3",{className:"text-2xl dark:text-white",children:e})}):null,(0,n.jsx)("div",{className:"py-5 ",children:o})]})}},3990:function(t,e,r){r.d(e,{P:function(){return o},V:function(){return n}});var n=function(t){return t.split(" ").join("-").toLowerCase()},o=function(t){return Object.keys(t).map((function(e){return e+"="+t[e]})).join("&")}},4395:function(t,e,r){var n=r(4165),o=r(5861),i=r(7408),a=r(136),s=r(3766),c=r(6117);e.Z=function(){var t=(0,i.useQueryClient)(),e=(0,c.Z)().getSharedSecret,r=s.k.getInstance(e()),u=a.W.getInstance(e()),p=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getCircles();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(o=e.circleDefinition).id){t.next=7;break}return t.next=4,r.updateDefinition(o);case 4:case 9:return t.abrupt("return",t.sent);case 7:return t.next=9,r.createDefinition(o);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var r,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.circleId,o=e.dotYouId,t.next=3,u.add({circleId:r,dotYouId:o});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var r,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.circleId,o=e.dotYouId,t.next=3,u.remove({circleId:r,dotYouId:o});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{fetch:(0,i.useQuery)(["circles"],(function(){return p()}),{refetchOnWindowFocus:!1}),createOrUpdate:(0,i.useMutation)(h,{onSuccess:function(e,r){t.invalidateQueries(["circles"])},onError:function(t){console.error(t)}}),provideGrant:(0,i.useMutation)(l,{onSuccess:function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r,o){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.invalidateQueries(["circles"]),t.invalidateQueries(["connectionInfo",o.dotYouId]);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),onError:function(t){console.error(t)}}),revokeGrant:(0,i.useMutation)(f,{onSuccess:function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r,o){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.invalidateQueries(["circles"]),t.invalidateQueries(["connectionInfo",o.dotYouId]);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),onError:function(t){console.error(t)}})}}},136:function(t,e,r){r.d(e,{W:function(){return h}});var n=r(4165),o=r(5861),i=r(5671),a=r(3144),s=r(1752),c=r(1120),u=r(9340),p=r(1129),h=function(t){(0,u.Z)(r,t);var e=(0,p.Z)(r);function r(t){var n;if((0,i.Z)(this,r),!t)throw"Shared Secret is required";return(n=e.call(this,t)).root="/circles/connections/circles",n}return(0,a.Z)(r,[{key:"add",value:function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var o,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(0,s.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.root+"/add",t.abrupt("return",o.post(i,e).then((function(t){return t.data})).catch((0,s.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"remove",value:function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var o,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(0,s.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.root+"/revoke",t.abrupt("return",o.post(i,e).then((function(t){return t.data})).catch((0,s.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchMembers",value:function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var o,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(0,s.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.root+"/list",t.abrupt("return",o.post(i,{circleId:e}).then((function(t){return t.data})).catch((0,s.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}],[{key:"getInstance",value:function(t){return r.instance||(r.instance=new r(t)),r.instance}}]),r}(r(2008).$);h.instance=void 0},7186:function(t,e,r){r.d(e,{I:function(){return f}});var n=r(4165),o=r(5861),i=r(5671),a=r(3144),s=r(1752),c=r(1120),u=r(9340),p=r(1129),h=r(2008),l=r(3990),f=function(t){(0,u.Z)(r,t);var e=(0,p.Z)(r);function r(t){var n;if((0,i.Z)(this,r),!t)throw"Shared Secret is required";return(n=e.call(this,t)).root="/circles/connections",n}return(0,a.Z)(r,[{key:"blockDotYouId",value:function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var o,i,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(0,s.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.root+"/block",a={dotYouId:e},t.abrupt("return",o.post(i,a).then((function(t){return t.data})).catch((0,s.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"disconnectFromContact",value:function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var o,i,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(0,s.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.root+"/disconnect",a={dotYouId:e},t.abrupt("return",o.post(i,a).then((function(t){return t.data})).catch((0,s.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getConnections",value:function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var o,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(0,s.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.root+"/connected?"+(0,l.P)(e),t.abrupt("return",o.post(i,e).then((function(t){return t.data})));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getBlockedConnections",value:function(){var t=(0,o.Z)((0,n.Z)().mark((function t(e){var o,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(0,s.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.root+"/blocked?"+(0,l.P)(e),t.abrupt("return",o.get(i).then((function(t){return t.data})).catch((0,s.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getConnectionInfo",value:function(t){var e=(0,s.Z)((0,c.Z)(r.prototype),"createAxiosClient",this).call(this),n=this.root+"/status",o={dotYouId:t};return e.post(n,o).then((function(t){return t.data})).catch((0,s.Z)((0,c.Z)(r.prototype),"handleErrorResponse",this))}}],[{key:"getInstance",value:function(t){return r.instance||(r.instance=new r(t)),r.instance}}]),r}(h.$);f.instance=void 0},5144:function(t,e,r){r.d(e,{e:function(){return d}});var n=r(1413),o=r(4165),i=r(5861),a=r(5671),s=r(3144),c=r(1752),u=r(1120),p=r(9340),h=r(1129),l=r(2008),f=r(3990),d=function(t){(0,p.Z)(r,t);var e=(0,h.Z)(r);function r(t){var n;if((0,a.Z)(this,r),!t)throw"Shared Secret is required";return(n=e.call(this,t)).Root="/circles/requests",n.SentPathRoot=n.Root+"/sent",n.PendingPathRoot=n.Root+"/pending",n}return(0,s.Z)(r,[{key:"getPendingRequests",value:function(){var t=(0,i.Z)((0,o.Z)().mark((function t(e){var n,i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.PendingPathRoot+"/list?"+(0,f.P)(e),t.abrupt("return",n.get(i).then((function(t){return t.data})).catch((0,c.Z)((0,u.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getPendingRequest",value:function(){var t=(0,i.Z)((0,o.Z)().mark((function t(e){var i,a,s;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),a=this.PendingPathRoot+"/single",s={dotYouId:e},t.abrupt("return",i.post(a,s).then((function(t){return(0,n.Z)((0,n.Z)({},t.data),{},{status:"Pending"})})).catch((function(){})));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getSentRequests",value:function(){var t=(0,i.Z)((0,o.Z)().mark((function t(e){var n,i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.SentPathRoot+"/list?"+(0,f.P)(e),t.abrupt("return",n.get(i).then((function(t){return t.data})).catch((0,c.Z)((0,u.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getSentRequest",value:function(){var t=(0,i.Z)((0,o.Z)().mark((function t(e){var i,a,s,p=this;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),a=this.SentPathRoot+"/single",s={dotYouId:e},t.abrupt("return",i.post(a,s).then((function(t){return(0,n.Z)((0,n.Z)({},t.data),{},{status:"Sent"})})).catch((function(t){if(404===t.response.status)return null;(0,c.Z)((0,u.Z)(r.prototype),"handleErrorResponse",p).call(p,t)})));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"acceptConnectionRequest",value:function(){var t=(0,i.Z)((0,o.Z)().mark((function t(e){var n,i,a;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.PendingPathRoot+"/accept/",a={sender:e,drives:[],permissions:null},t.abrupt("return",n.post(i,a).then((function(t){return t.data})).catch((0,c.Z)((0,u.Z)(r.prototype),"handleErrorResponse",this)));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"deletePendingRequest",value:function(){var t=(0,i.Z)((0,o.Z)().mark((function t(e){var n,i,a;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.PendingPathRoot+"/delete",a={dotYouId:e},t.abrupt("return",n.post(i,a).then((function(t){return t.data})).catch((0,c.Z)((0,u.Z)(r.prototype),"handleErrorResponse",this)));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteSentRequest",value:function(){var t=(0,i.Z)((0,o.Z)().mark((function t(e){var n,i,a;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.SentPathRoot+"/delete",a={dotYouId:e},t.abrupt("return",n.post(i,a).then((function(t){return t.data})).catch((0,c.Z)((0,u.Z)(r.prototype),"handleErrorResponse",this)));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"sendRequest",value:function(){var t=(0,i.Z)((0,o.Z)().mark((function t(e,n,i,a){var s,p,h;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.Root+"/sendrequest",p={recipient:e,message:n,name:i,circleIds:a},h=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),t.abrupt("return",h.post(s,p).then((function(t){return t.data})).catch((0,c.Z)((0,u.Z)(r.prototype),"handleErrorResponse",this)));case 4:case"end":return t.stop()}}),t,this)})));return function(e,r,n,o){return t.apply(this,arguments)}}()}],[{key:"getInstance",value:function(t){return r.instance||(r.instance=new r(t)),r.instance}}]),r}(l.$);d.instance=void 0},3766:function(t,e,r){r.d(e,{k:function(){return l}});var n=r(4165),o=r(1413),i=r(5861),a=r(5671),s=r(3144),c=r(1752),u=r(1120),p=r(9340),h=r(1129),l=function(t){(0,p.Z)(r,t);var e=(0,h.Z)(r);function r(t){var n;if((0,a.Z)(this,r),!t)throw"Shared Secret is required";return(n=e.call(this,t)).root="/circles/definitions",n}return(0,s.Z)(r,[{key:"updateDefinition",value:function(){var t=(0,i.Z)((0,n.Z)().mark((function t(e){var i,a,s;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),a=this.root+"/update",(s=(0,o.Z)({},e)).drivesGrants=s.drivesGrants||s.drives,s.drives=void 0,console.log("actual update data:",s),t.abrupt("return",i.post(a,s).then((function(t){return t.data})).catch((0,c.Z)((0,u.Z)(r.prototype),"handleErrorResponse",this)));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"createDefinition",value:function(){var t=(0,i.Z)((0,n.Z)().mark((function t(e){var o,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.root+"/create",t.abrupt("return",o.post(i,e).then((function(t){return t.data})).catch((0,c.Z)((0,u.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getCircles",value:function(){var t=(0,i.Z)((0,n.Z)().mark((function t(){var e,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.root+"/list",t.abrupt("return",e.get(i).then((function(t){return t.data.map((function(t){var e;return t.drivesGrants=null===(e=t.drivesGrants)||void 0===e?void 0:e.map((function(t){return(0,o.Z)((0,o.Z)({},t),{},{permission:"Read"===t.permission?2:"Write"===t.permission?4:"ReadWrite"===t.permission?5:t.permission})})),t}))})).catch((0,c.Z)((0,u.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getCircle",value:function(){var t=(0,i.Z)((0,n.Z)().mark((function t(e){var i,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),a=this.root+"/circle",t.abrupt("return",i.post(a,e).then((function(t){return t.data})).then((function(t){var e;return t.drivesGrants=null===(e=t.drivesGrants)||void 0===e?void 0:e.map((function(t){return(0,o.Z)((0,o.Z)({},t),{},{permission:"Read"===t.permission?2:"Write"===t.permission?4:"ReadWrite"===t.permission?5:t.permission})})),t})).catch((0,c.Z)((0,u.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"removeCircle",value:function(){var t=(0,i.Z)((0,n.Z)().mark((function t(e){var o,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(0,c.Z)((0,u.Z)(r.prototype),"createAxiosClient",this).call(this),i=this.root+"/delete",t.abrupt("return",o.post(i,e).then((function(t){return t.data})).catch((0,c.Z)((0,u.Z)(r.prototype),"handleErrorResponse",this)));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}],[{key:"getInstance",value:function(t){return r.instance||(r.instance=new r(t)),r.instance}}]),r}(r(2008).$);l.instance=void 0},4942:function(t,e,r){function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,{Z:function(){return n}})},1413:function(t,e,r){r.d(e,{Z:function(){return i}});var n=r(4942);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){(0,n.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}}}]);
//# sourceMappingURL=620.511ec10b.chunk.js.map