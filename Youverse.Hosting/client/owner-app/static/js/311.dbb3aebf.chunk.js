"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[311],{363:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(3504),a=n(4165),i=n(1413),s=n(5861),o=n(7408),c=n(1803),u=function(e){var t=e.dotYouId,n=new c.pt({api:c.Ii.YouAuth,root:t}),r=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var r,s,o,u,l,d,h,p,f,v,m,x,Z;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.dotYouId){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.fileReadOnlyProvider.GetFile("public.json");case 5:return d=e.sent,h=null===(r=d.get("name"))||void 0===r?void 0:r[0],p=null===(s=d.get("photo"))||void 0===s?void 0:s[0],f=null===(o=d.get(null===p||void 0===p||null===(u=p.payload)||void 0===u||null===(l=u.data)||void 0===l?void 0:l.profileImageId))||void 0===o?void 0:o[0],v=f.additionalThumbnails.reduce((function(e,t){return e.pixelWidth<t.pixelWidth&&t.pixelWidth<=250?t:e}),(0,i.Z)((0,i.Z)({},f.header.fileMetadata.appData.previewThumbnail),{},{pixelWidth:20,pixelHeight:20})),m=c.j4.base64ToUint8Array(v.content),x=window.URL.createObjectURL(new Blob([m])),Z={name:(0,i.Z)({},h.payload.data),profileImage:{naturalSize:{width:v.pixelWidth,height:v.pixelHeight},contentType:v.contentType,url:x}},e.abrupt("return",Z);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,o.useQuery)(["connectionDetails",t],(function(){return r({dotYouId:t})}),{refetchOnWindowFocus:!1})}},l=n(184),d=function(e){var t=e.initials;return(0,l.jsx)("div",{className:"flex aspect-square h-full w-full bg-slate-200 text-4xl font-light text-white dark:bg-slate-700 dark:text-black sm:text-6xl",children:(0,l.jsx)("span",{className:"m-auto uppercase",children:t})})},h=n(1191),p=function(e){var t,n,a,i,s,o=e.name,c=e.dotYouId,p=e.href,f=e.checked,v=e.className,m=e.children,x=e.onClick,Z=function(e){var t=e.children;return p?(0,l.jsx)(r.rU,{to:p,children:t}):(0,l.jsx)(l.Fragment,{children:t})},g=u({dotYouId:c}).fetch,y=g.data;if(g.isLoading)return(0,l.jsx)(h.Z,{className:"aspect-square ".concat(v)});var w=null!==o&&void 0!==o?o:y?"".concat(null!==(t=null===(n=y.name)||void 0===n?void 0:n.givenName)&&void 0!==t?t:""," ").concat(null!==(a=null===(i=y.name)||void 0===i?void 0:i.surname)&&void 0!==a?a:""):void 0;return(0,l.jsx)("div",{className:v,children:(0,l.jsx)(Z,{children:(0,l.jsxs)("div",{className:"h-full rounded-md border border-gray-200 border-opacity-60 bg-white transition-colors dark:border-gray-800 dark:bg-gray-800 ".concat(f?"border-4 border-indigo-500 dark:border-indigo-700":!1===f?"border-4":""),onClick:x,children:[(0,l.jsx)("div",{className:"aspect-square",children:null!==y&&void 0!==y&&null!==(s=y.profileImage)&&void 0!==s&&s.url?(0,l.jsx)("figure",{className:"relative overflow-hidden",children:(0,l.jsx)("img",{src:y.profileImage.url,width:y.profileImage.naturalSize.width,height:y.profileImage.naturalSize.height,className:"aspect-square w-full"})}):(0,l.jsx)(d,{initials:function(){var e=null===w||void 0===w?void 0:w.split(" ");if((null===e||void 0===e?void 0:e.length)>=2&&e[0].length)return e[0][0]+e[1][0]+"";var t=null===c||void 0===c?void 0:c.split(".");return(null===t||void 0===t?void 0:t.length)>=2?t[0][0]+t[1][0]+"":"--"}()})}),(0,l.jsxs)("div",{className:"p-2",children:[(0,l.jsx)("h2",{className:"font-thiner mb-6 dark:text-white",children:null!==w&&void 0!==w?w:c}),m]})]})})})}},808:function(e,t,n){var r=n(2982),a=n(4165),i=n(5861),s=n(1413),o=n(885),c=n(2791),u=n(4164),l=n(4990),d=n(7480),h=n(6770),p=n(3412),f=n(2562),v=n(9072),m=n(6916),x=n(6990),Z=n(2284),g=n(2465),y=n(6123),w=n(184);t.Z=function(e){var t,n=e.title,b=e.confirmText,j=e.isOpen,k=e.defaultValue,N=e.onConfirm,C=e.onCancel,I=(0,p.Z)("modal-container"),R=(0,d.Z)({}).createOrUpdate,S=R.mutateAsync,D=R.status,P=(0,h.Z)().fetch.data,A=(0,c.useState)((0,s.Z)({driveGrants:k.driveGrants||[]},k)),q=(0,o.Z)(A,2),Y=q[0],O=q[1];if((0,c.useEffect)((function(){j&&O((0,s.Z)({driveGrants:k.driveGrants||[]},k))}),[j]),!j)return null;var F=(0,w.jsx)(y.Z,{title:n,onClose:C,size:"4xlarge",children:(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("form",{onSubmit:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,S(Y);case 3:return N(),e.abrupt("return",!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[(0,w.jsxs)("div",{className:"mb-5",children:[(0,w.jsx)("label",{htmlFor:"name",children:(0,l.t)("Name")}),(0,w.jsx)(m.Z,{id:"name",name:"circleName",defaultValue:Y.name,onChange:function(e){O((0,s.Z)((0,s.Z)({},Y),{},{name:e.target.value}))},required:!0})]}),(0,w.jsxs)("div",{className:"mb-5",children:[(0,w.jsx)("label",{htmlFor:"name",children:(0,l.t)("Description")}),(0,w.jsx)(g.Z,{id:"description",name:"circleDescription",defaultValue:Y.description,onChange:function(e){O((0,s.Z)((0,s.Z)({},Y),{},{description:e.target.value}))},required:!0})]}),(0,w.jsxs)("div",{className:"mb-5 flex flex-row",children:[(0,w.jsx)("label",{htmlFor:"name",className:"my-auto mr-2",children:(0,l.t)("Permissions")}),(0,w.jsx)(x.Z,{className:"ml-auto",permissionLevels:f.WW,defaultValue:null!==(t=Y.permissions.keys)&&void 0!==t?t:[0],onChange:function(e){O((0,s.Z)((0,s.Z)({},Y),{},{permissions:{keys:e}}))}})]}),null!==P&&void 0!==P&&P.length?(0,w.jsxs)("div",{className:"my-7",children:[(0,w.jsx)("h2",{className:"mb-4 text-lg",children:"Drive Permissions:"}),P.map((function(e,t){var n,a,i;return(0,w.jsxs)("div",{className:"mb-2 flex flex-row",children:[(0,w.jsx)("label",{htmlFor:"".concat(e.targetDriveInfo.alias,"-").concat(e.targetDriveInfo.type),className:"my-auto mr-2",children:e.name}),(0,w.jsx)(Z.Z,{className:"ml-auto",permissionLevels:f.Ac,defaultValue:null!==(n=null===(a=Y.driveGrants)||void 0===a||null===(i=a.find((function(t){return t.permissionedDrive.drive.alias===e.targetDriveInfo.alias&&t.permissionedDrive.drive.type===e.targetDriveInfo.type})))||void 0===i?void 0:i.permissionedDrive.permission)&&void 0!==n?n:0,onChange:function(t){var n;t>0?O((0,s.Z)((0,s.Z)({},Y),{},{driveGrants:[].concat((0,r.Z)((null===Y||void 0===Y||null===(n=Y.driveGrants)||void 0===n?void 0:n.filter((function(t){var n,r;return(null===(n=t.permissionedDrive)||void 0===n?void 0:n.drive.alias)!==e.targetDriveInfo.alias||(null===(r=t.permissionedDrive)||void 0===r?void 0:r.drive.type)!==e.targetDriveInfo.type})))||[]),[{permissionedDrive:{drive:e.targetDriveInfo,permission:t}}])})):O((0,s.Z)((0,s.Z)({},Y),{},{driveGrants:(0,r.Z)(Y.driveGrants.filter((function(t){return t.permissionedDrive.drive.alias!==e.targetDriveInfo.alias||t.permissionedDrive.drive.type!==e.targetDriveInfo.type})))}))}})]},t)}))]}):null,(0,w.jsxs)("div",{className:"-m-2 flex flex-row-reverse py-3",children:[(0,w.jsx)(v.Z,{className:"m-2",state:D,icon:"send",children:b||(0,l.t)("Add Circle")}),(0,w.jsx)(v.Z,{className:"m-2",type:"secondary",onClick:function(){return C()},children:(0,l.t)("Cancel")})]})]})})});return(0,u.createPortal)(F,I)}},6990:function(e,t,n){var r=n(2982),a=n(885),i=n(2791),s=n(1261),o=n(4648),c=n(245),u=n(184),l=function(e){var t=e.className,n=e.isChecked,r=e.children,a=e.onChange;return(0,u.jsxs)("li",{className:"flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ".concat(t),onClick:a,children:[(0,u.jsx)(o.Z,{className:"my-auto mr-3 h-4 w-4 flex-shrink-0 ".concat(n?"text-slate-700 dark:text-slate-200":"text-transparent")})," ",(0,u.jsx)("span",{className:"mr-auto block h-full py-1",children:r})]})};t.Z=function(e){var t,n,o=e.className,d=e.permissionLevels,h=e.onChange,p=e.defaultValue,f=(0,i.useState)(!1),v=(0,a.Z)(f,2),m=v[0],x=v[1],Z=(0,i.useState)(p),g=(0,a.Z)(Z,2),y=g[0],w=g[1],b=(0,i.useRef)(null);(0,s.Z)(b,(function(){return x(!1)}));var j=(null===p||void 0===p?void 0:p.length)>=2?"Multiple":null!==(t=null!==p&&void 0!==p&&p[0]?null===(n=d.find((function(e){return e.value===p[0]})))||void 0===n?void 0:n.name:d[0].name)&&void 0!==t?t:d[0].name,k=function(e){w(e),h&&h(e)};return(0,u.jsx)("div",{className:null!==o&&void 0!==o?o:"",children:(0,u.jsxs)("div",{className:"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800",onClick:function(){return x(!m)},ref:b,children:[(0,u.jsxs)("div",{className:"flex min-w-[6rem] flex-row py-1 px-2",children:[(0,u.jsx)("span",{className:"my-auto mr-2 select-none",children:j})," ",(0,u.jsx)(c.Z,{className:"my-auto ml-auto h-2 w-2 rotate-90"})]}),(0,u.jsx)("ul",{className:"absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ".concat(m?"z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700":"max-h-0"),children:d.map((function(e){return(0,u.jsx)(l,{isChecked:y.some((function(t){return t===e.value}))||0===y.length&&0===e.value,onChange:function(){return y.some((function(t){return t===e.value}))?k(y.filter((function(t){return t!==e.value}))):0!==e.value?k([].concat((0,r.Z)(y),[e.value])):k([])},children:e.name},e.value)}))})]})})}},2284:function(e,t,n){var r=n(885),a=n(2791),i=n(1261),s=n(4648),o=n(245),c=n(184),u=function(e){var t=e.className,n=e.isChecked,r=e.children,a=e.onChange;return(0,c.jsxs)("li",{className:"flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ".concat(t),onClick:a,children:[(0,c.jsx)(s.Z,{className:"my-auto mr-3 h-4 w-4 flex-shrink-0  ".concat(n?"text-slate-700 dark:text-slate-200":"text-transparent")})," ",(0,c.jsx)("span",{className:"mr-auto block h-full py-1",children:r})]})};t.Z=function(e){var t=e.className,n=e.permissionLevels,s=e.onChange,l=e.defaultValue,d=(0,a.useState)(!1),h=(0,r.Z)(d,2),p=h[0],f=h[1],v=(0,a.useState)(l),m=(0,r.Z)(v,2),x=m[0],Z=m[1],g=(0,a.useRef)(null);(0,i.Z)(g,(function(){return f(!1)}));var y=n.reduce((function(e,t){return t.value>e.value&&t.value<=l?t:e}),n[0]),w=function(e){Z(e),s(e)};return(0,c.jsx)("div",{className:null!==t&&void 0!==t?t:"",children:(0,c.jsxs)("div",{className:"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800",onClick:function(){return f(!p)},ref:g,children:[(0,c.jsxs)("div",{className:"flex min-w-[6rem] flex-row py-1 px-2",children:[(0,c.jsx)("span",{className:"my-auto mr-2 select-none",children:y.name})," ",(0,c.jsx)(o.Z,{className:"my-auto ml-auto h-2 w-2 rotate-90"})]}),(0,c.jsx)("ul",{className:"absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ".concat(p?"z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700":"max-h-0"),children:n.map((function(e){return(0,c.jsx)(u,{isChecked:0===e.value?x===e.value:x>=e.value,onChange:function(){return x!==e.value?w(e.value):w(0)},children:e.name},e.value)}))})]})})}},245:function(e,t,n){var r=n(184);t.Z=function(e){var t=e.className;return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor",className:t,children:(0,r.jsx)("path",{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"})})}},1869:function(e,t,n){var r=n(3504),a=n(4990),i=n(1512),s=n(2562),o=n(4665),c=n(894),u=n(1191),l=n(7266),d=n(184);t.Z=function(e){var t,n,h,p,f,v=e.driveGrant,m=e.permissionTree,x=e.className,Z=(0,i.Z)({targetDrive:v.permissionedDrive.drive}).fetch,g=Z.data;return Z.isLoading?(0,d.jsx)(u.Z,{className:"h-4 max-w-xs ".concat(x)}):(0,d.jsx)("div",{className:"flex flex-row ".concat(x),title:m,children:(0,d.jsxs)(r.rU,{to:"/owner/drives/".concat(null===g||void 0===g||null===(p=g.targetDriveInfo)||void 0===p?void 0:p.alias,"_").concat(null===g||void 0===g||null===(f=g.targetDriveInfo)||void 0===f?void 0:f.type),className:"flex flex-row hover:text-slate-700 hover:underline dark:hover:text-slate-400",children:[(0,d.jsx)(c.Z,{className:"mt-1 mb-auto mr-3 h-6 w-6"}),(0,d.jsxs)("div",{className:"mr-2 flex flex-col",children:[(0,d.jsxs)("p",{className:"leading-none ".concat(m?"":"my-auto"),children:[null===g||void 0===g?void 0:g.name,":"," ",(0,l.hz)(null===v||void 0===v?void 0:v.permissionedDrive.permission,s.Ac).name]}),m&&(0,d.jsxs)("small",{className:"",children:[(0,a.t)("Via")," ",m]})]}),(0,d.jsx)(o.Z,{className:"my-auto ml-auto h-5 w-5"})]})},"".concat(null===v||void 0===v||null===(t=v.permissionedDrive)||void 0===t||null===(n=t.drive)||void 0===n?void 0:n.alias,"-").concat(null===v||void 0===v||null===(h=v.permissionedDrive.drive)||void 0===h?void 0:h.type))}},8491:function(e,t,n){var r=n(184);t.Z=function(e){var t=e.title,n=e.className,a=e.children,i=e.isOpaqueBg,s=void 0!==i&&i,o=e.isBorderLess,c=void 0!==o&&o;return(0,r.jsxs)("section",{className:"my-5 rounded-md ".concat(s?c?"":"rounded-lg border-[1px] border-gray-200 border-opacity-80 px-5 dark:border-gray-700":"bg-slate-50 px-5 dark:bg-slate-800"," dark:text-slate-300 ").concat(null!==n&&void 0!==n?n:""),children:[t?(0,r.jsx)("div",{className:"relative border-b-[1px] border-gray-200 border-opacity-80 py-5 transition-all duration-300 dark:border-gray-700",children:(0,r.jsx)("h3",{className:"text-2xl dark:text-white",children:t})}):null,(0,r.jsx)("div",{className:"py-5 ",children:a})]})}},6992:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var r=n(4165),a=n(5861),i=n(885),s=n(2791),o=n(6871),c=n(4990),u=n(7480),l=n(9072),d=n(363),h=n(808),p=n(2982),f=n(4164),v=n(4257),m=n(3412),x=n(6123),Z=n(184),g=function(e){var t=e.title,n=e.confirmText,r=e.isOpen,a=e.defaultMembers,o=e.confirmationStatus,u=e.onConfirm,h=e.onCancel,g=(0,m.Z)("modal-container"),y=(0,v.Z)().fetchActive,w=y.data,b=y.isLoading,j=(0,s.useState)([]),k=(0,i.Z)(j,2),N=k[0],C=k[1],I=(0,s.useState)([]),R=(0,i.Z)(I,2),S=R[0],D=R[1];if(!r)return null;var P=(0,Z.jsx)(x.Z,{size:"4xlarge",onClose:h,title:t,children:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{className:"-mx-1",children:null!==w&&void 0!==w&&w.length&&!b?w.map((function(e){var t=a.some((function(t){return t===e.dotYouId}))&&!S.some((function(t){return t===e.dotYouId}))||N.some((function(t){return t===e.dotYouId}));return(0,Z.jsx)(d.Z,{dotYouId:e.dotYouId,className:"relative w-1/2 cursor-pointer p-1 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6",checked:t,onClick:function(){var t=a.some((function(t){return t===e.dotYouId})),n=S.some((function(t){return t===e.dotYouId})),r=N.some((function(t){return t===e.dotYouId}));!function(e,t){e?(a.some((function(e){return e===t}))||C([].concat((0,p.Z)(N),[t])),D(S.filter((function(e){return e!==t})))):(a.some((function(e){return e===t}))&&D([].concat((0,p.Z)(S),[t])),C(N.filter((function(e){return e!==t}))))}(!(t?!n:r),e.dotYouId)}},e.dotYouId)})):(0,Z.jsx)(Z.Fragment,{})}),(0,Z.jsxs)("div",{className:"-m-2 flex flex-row-reverse py-3",children:[(0,Z.jsx)(l.Z,{className:"m-2",icon:"send",state:o,onClick:function(){u(N,S)},children:n||(0,c.t)("Update Circle")}),(0,Z.jsx)(l.Z,{className:"m-2",type:"secondary",onClick:h,children:(0,c.t)("Cancel")}),null!==N&&void 0!==N&&N.length||null!==S&&void 0!==S&&S.length?(0,Z.jsxs)("div",{className:"m-2 my-auto",children:[null!==N&&void 0!==N&&N.length?"".concat(N.length>=2?"".concat(N.length," ").concat((0,c.t)("people")):"".concat((0,c.t)("One person"))," ").concat((0,c.t)("will gain access")):"",null!==S&&void 0!==S&&S.length?"".concat(N.length>=2?"".concat(N.length," ").concat((0,c.t)("people")):"".concat((0,c.t)("One person"))," ").concat((0,c.t)("will loose access")):""]}):null]})]})});return(0,f.createPortal)(P,g)},y=n(715),w=n(3004),b=n(8739),j=n(1869),k=n(8491),N=function(e){var t,n=e.circleId,r=e.dotYouId,a=e.className,i=(0,u.Z)({circleId:n}).revokeGrants,s=i.mutate,o=i.status;return(0,Z.jsx)(d.Z,{className:a,dotYouId:r,href:null!==(t=r&&"/owner/connections/".concat(r))&&void 0!==t?t:void 0,children:(0,Z.jsx)(l.Z,{type:"secondary",className:"w-full",onClick:function(e){e.preventDefault(),s({circleId:n,dotYouIds:[r]})},state:o,children:"Remove from circle"})})},C=function(){var e,t,n=(0,o.UO)().circleKey,d=decodeURIComponent(n),p=(0,u.Z)({circleId:d}),f=p.fetch,v=f.data,m=f.isLoading,x=p.fetchMembers,C=x.data,I=x.isLoading,R=p.provideGrants,S=R.mutateAsync,D=R.status,P=p.revokeGrants,A=P.mutateAsync,q=P.status,Y=p.enableCircle,O=Y.mutate,F=Y.status,G=p.disableCircle,E=G.mutate,z=G.status,L=p.removeCircle,M=L.mutateAsync,W=L.status,T=(0,s.useState)(!1),U=(0,i.Z)(T,2),V=U[0],B=U[1],Q=(0,s.useState)(!1),_=(0,i.Z)(Q,2),$=_[0],H=_[1];return m?(0,Z.jsx)(b.Z,{}):v?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(w.Z,{icon:y.Z,title:"".concat(v.name),actions:(0,Z.jsxs)(Z.Fragment,{children:[" ",(0,Z.jsx)(l.Z,{type:"remove",icon:"trash",className:"m-2",state:W,onClick:function(){M({circleId:v.id})},confirmOptions:{title:"".concat((0,c.t)("Remove Circle")," ").concat(v.name),buttonText:(0,c.t)("Remove"),body:(0,c.t)("Are you sure you want to remove this circle, all members will lose their access provided by the permissions of this circle?")},children:(0,c.t)("Delete")}),(0,Z.jsx)(l.Z,{type:"remove",className:"m-2",onClick:function(){E({circleId:v.id})},state:z,children:(0,c.t)("Disable Circle")}),(0,Z.jsx)(l.Z,{type:"primary",className:"m-2",onClick:function(){O({circleId:v.id})},state:F,children:(0,c.t)("Enable Circle")}),(0,Z.jsx)(l.Z,{type:"primary",className:"m-2",onClick:function(){B(!0)},children:(0,c.t)("Edit Members")}),(0,Z.jsx)(l.Z,{type:"primary",icon:"edit",className:"m-2",onClick:function(){H(!0)},children:(0,c.t)("Edit Circle")})]}),breadCrumbs:[{href:"/owner/circles",title:"My Circles"},{title:null!==(e=v.name)&&void 0!==e?e:""}]}),(0,Z.jsx)("section",{children:v.description}),(0,Z.jsx)(k.Z,{title:(0,Z.jsxs)(Z.Fragment,{children:[(0,c.t)("Access on the following drives"),(0,Z.jsx)("small",{className:"block text-sm text-slate-500",children:(0,c.t)("all contact added will have this access")})]}),isOpaqueBg:!0,children:null!==(t=v.driveGrants)&&void 0!==t&&t.length?(0,Z.jsx)(Z.Fragment,{children:v.driveGrants.map((function(e){return(0,Z.jsx)(j.Z,{driveGrant:e,className:"mb-6"},"".concat(e.permissionedDrive.drive.alias,"-").concat(e.permissionedDrive.drive.type))}))}):(0,Z.jsx)("div",{className:"flex flex-row",children:(0,Z.jsx)("p",{className:"my-auto",children:(0,c.t)("This circle doesn't have any access")})})}),(0,Z.jsx)(k.Z,{isOpaqueBg:!0,isBorderLess:!0,title:(0,c.t)("Members"),children:null!==C&&void 0!==C&&C.length&&!I?(0,Z.jsx)("div",{className:"-m-1 flex flex-row flex-wrap",children:C.map((function(e){return(0,Z.jsx)(N,{circleId:d,dotYouId:e,className:"w-1/2 p-1 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6"},e)}))}):(0,Z.jsxs)("div",{className:"flex flex-row",children:[(0,Z.jsxs)("p",{className:"my-auto",children:[(0,c.t)("Mmh, this looks like an emtpy circle... Time to add some connections?")," "]}),(0,Z.jsx)(l.Z,{onClick:function(e){return e.preventDefault(),B(!0),!1},type:"secondary",className:"ml-2",children:(0,c.t)("Add")})]})}),(0,Z.jsx)(h.Z,{title:"".concat((0,c.t)("Edit"),": ").concat(v.name),isOpen:$,confirmText:(0,c.t)("Update Circle"),defaultValue:v,onCancel:function(){H(!1)},onConfirm:function(){H(!1)}}),(0,Z.jsx)(g,{isOpen:V,title:"".concat((0,c.t)("Add Members to")," ").concat(v.name),defaultMembers:C,onCancel:function(){B(!1)},confirmationStatus:(0,l.s)(D,q),onConfirm:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({circleId:d,dotYouIds:t});case 2:return e.next=4,A({circleId:d,dotYouIds:n});case 4:B(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})]}):(0,Z.jsx)(Z.Fragment,{children:"No matching circle found"})}},7266:function(e,t,n){n.d(t,{RG:function(){return s},fP:function(){return i},hz:function(){return o},m3:function(){return c},rS:function(){return r},vr:function(){return a}});var r=function(e){return e[Math.floor(Math.random()*e.length)]},a=function(){return r(["Ut bibendum, neque ac lacinia aliquam, justo ipsum aliquam urna, id vestibulum augue mauris sit amet lacus.","Proin ante sapien, interdum sit amet eros sit amet, eleifend pharetra metus.","Sed elit mi, euismod eget neque at, suscipit aliquam nisi.","Nunc diam arcu, tincidunt quis dignissim ac, volutpat non odio."])},i=function(){var e=["adorable","beautiful","clean","drab","elegant","fancy","glamorous","handsome","long","magnificent","old-fashioned","plain","quaint","sparkling","ugliest","unsightly","angry","bewildered","clumsy","defeated","embarrassed","fierce","grumpy","helpless","itchy","jealous","lazy","mysterious","nervous","obnoxious","panicky","repulsive","scary","thoughtless","uptight","worried"];return"".concat(r(e)," ").concat(r(e)," ").concat(r(["women","men","children","teeth","feet","people","leaves","mice","geese","halves","knives","wives","lives","elves","loaves","potatoes","tomatoes","cacti","foci","fungi","nuclei","syllabuses","analyses","diagnoses","oases","theses","crises","phenomena","criteria","data"]))},s=function(e){for(var t=window.atob(e),n=t.length,r=new Uint8Array(n),a=0;a<n;a++)r[a]=t.charCodeAt(a);return r.buffer},o=function(e,t){return t.reduce((function(t,n){return n.value>t.value&&n.value<=e?n:t}),t[0])},c=function(e,t,n){var r=e[t];return e.splice(t,1),e.splice(n,0,r),e}},3990:function(e,t,n){n.d(t,{P:function(){return a},V:function(){return r}});var r=function(e){return e.split(" ").join("-").toLowerCase()},a=function(e){return Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")}},4257:function(e,t,n){var r=n(4165),a=n(5861),i=n(7408),s=n(7186),o=n(5144),c=n(6117);t.Z=function(){var e=(0,c.Z)().getSharedSecret,t=o.e.getInstance(e()),n=s.I.getInstance(e()),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getPendingRequests({pageNumber:1,pageSize:10});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSentRequests({pageNumber:1,pageSize:10});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getConnections({pageNumber:1,pageSize:10});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetchPending:(0,i.useQuery)(["pendingConnections"],(function(){return u()}),{refetchOnWindowFocus:!1}),fetchSent:(0,i.useQuery)(["sentRequests"],(function(){return l()}),{refetchOnWindowFocus:!1}),fetchActive:(0,i.useQuery)(["activeConnections"],(function(){return d()}),{refetchOnWindowFocus:!1})}}},1512:function(e,t,n){var r=n(4165),a=n(5861),i=n(7408),s=n(1803),o=n(6117);t.Z=function(e){var t=e.targetDrive,n=(0,o.Z)().getSharedSecret,c=new s.AO({api:s.Ii.Owner,sharedSecret:n()}),u=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return n=e.sent,e.abrupt("return",n.find((function(e){return e.targetDriveInfo.alias===t.alias&&e.targetDriveInfo.type===t.type})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,i.useQuery)(["drive","".concat(t.alias,"_").concat(t.type)],(function(){return u(t)}),{refetchOnWindowFocus:!1})}}},6770:function(e,t,n){var r=n(4165),a=n(5861),i=n(7408),s=n(1803),o=n(6117);t.Z=function(){var e=(0,o.Z)().getSharedSecret,t=new s.AO({api:s.Ii.Owner,sharedSecret:e()}),n=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetch:(0,i.useQuery)(["drives"],(function(){return n()}),{refetchOnWindowFocus:!1})}}},7186:function(e,t,n){n.d(t,{I:function(){return p}});var r=n(4165),a=n(5861),i=n(5671),s=n(3144),o=n(1752),c=n(1120),u=n(9340),l=n(1129),d=n(2008),h=n(3990),p=function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e){var r;if((0,i.Z)(this,n),!e)throw"Shared Secret is required";return(r=t.call(this,e)).root="/circles/connections",r}return(0,s.Z)(n,[{key:"blockDotYouId",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,o.Z)((0,c.Z)(n.prototype),"createAxiosClient",this).call(this),i=this.root+"/block",s={dotYouId:t},e.abrupt("return",a.post(i,s).then((function(e){return e.data})).catch((0,o.Z)((0,c.Z)(n.prototype),"handleErrorResponse",this)));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disconnectFromContact",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,o.Z)((0,c.Z)(n.prototype),"createAxiosClient",this).call(this),i=this.root+"/disconnect",s={dotYouId:t},e.abrupt("return",a.post(i,s).then((function(e){return e.data})).catch((0,o.Z)((0,c.Z)(n.prototype),"handleErrorResponse",this)));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConnections",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,o.Z)((0,c.Z)(n.prototype),"createAxiosClient",this).call(this),i=this.root+"/connected?"+(0,h.P)(t),e.abrupt("return",a.post(i,t).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBlockedConnections",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var a,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,o.Z)((0,c.Z)(n.prototype),"createAxiosClient",this).call(this),i=this.root+"/blocked?"+(0,h.P)(t),e.abrupt("return",a.get(i).then((function(e){return e.data})).catch((0,o.Z)((0,c.Z)(n.prototype),"handleErrorResponse",this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConnectionInfo",value:function(e){var t=(0,o.Z)((0,c.Z)(n.prototype),"createAxiosClient",this).call(this),r=this.root+"/status",a={dotYouId:e};return t.post(r,a).then((function(e){return e.data})).catch((0,o.Z)((0,c.Z)(n.prototype),"handleErrorResponse",this))}}],[{key:"getInstance",value:function(e){return n.instance||(n.instance=new n(e)),n.instance}}]),n}(d.$);p.instance=void 0},5144:function(e,t,n){n.d(t,{e:function(){return f}});var r=n(1413),a=n(4165),i=n(5861),s=n(5671),o=n(3144),c=n(1752),u=n(1120),l=n(9340),d=n(1129),h=n(2008),p=n(3990),f=function(e){(0,l.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;if((0,s.Z)(this,n),!e)throw"Shared Secret is required";return(r=t.call(this,e)).Root="/circles/requests",r.SentPathRoot=r.Root+"/sent",r.PendingPathRoot=r.Root+"/pending",r}return(0,o.Z)(n,[{key:"getPendingRequests",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,c.Z)((0,u.Z)(n.prototype),"createAxiosClient",this).call(this),i=this.PendingPathRoot+"/list?"+(0,p.P)(t),e.abrupt("return",r.get(i).then((function(e){return e.data})).catch((0,c.Z)((0,u.Z)(n.prototype),"handleErrorResponse",this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPendingRequest",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var i,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,c.Z)((0,u.Z)(n.prototype),"createAxiosClient",this).call(this),s=this.PendingPathRoot+"/single",o={dotYouId:t},e.abrupt("return",i.post(s,o).then((function(e){return(0,r.Z)((0,r.Z)({},e.data),{},{status:"Pending"})})).catch((function(){})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSentRequests",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,c.Z)((0,u.Z)(n.prototype),"createAxiosClient",this).call(this),i=this.SentPathRoot+"/list?"+(0,p.P)(t),e.abrupt("return",r.get(i).then((function(e){return e.data})).catch((0,c.Z)((0,u.Z)(n.prototype),"handleErrorResponse",this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSentRequest",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var i,s,o,l=this;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,c.Z)((0,u.Z)(n.prototype),"createAxiosClient",this).call(this),s=this.SentPathRoot+"/single",o={dotYouId:t},e.abrupt("return",i.post(s,o).then((function(e){return(0,r.Z)((0,r.Z)({},e.data),{},{status:"Sent"})})).catch((function(e){if(404===e.response.status)return null;(0,c.Z)((0,u.Z)(n.prototype),"handleErrorResponse",l).call(l,e)})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"acceptConnectionRequest",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,r){var i,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,c.Z)((0,u.Z)(n.prototype),"createAxiosClient",this).call(this),s=this.PendingPathRoot+"/accept/",o={sender:t,circleIds:r,permissions:null},e.abrupt("return",i.post(s,o).then((function(e){return e.data})).catch((0,c.Z)((0,u.Z)(n.prototype),"handleErrorResponse",this)));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deletePendingRequest",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,i,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,c.Z)((0,u.Z)(n.prototype),"createAxiosClient",this).call(this),i=this.PendingPathRoot+"/delete",s={dotYouId:t},e.abrupt("return",r.post(i,s).then((function(e){return e.data})).catch((0,c.Z)((0,u.Z)(n.prototype),"handleErrorResponse",this)));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteSentRequest",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,i,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,c.Z)((0,u.Z)(n.prototype),"createAxiosClient",this).call(this),i=this.SentPathRoot+"/delete",s={dotYouId:t},e.abrupt("return",r.post(i,s).then((function(e){return e.data})).catch((0,c.Z)((0,u.Z)(n.prototype),"handleErrorResponse",this)));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,r,i,s){var o,l,d;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.Root+"/sendrequest",l={recipient:t,message:r,name:i,circleIds:s},d=(0,c.Z)((0,u.Z)(n.prototype),"createAxiosClient",this).call(this),e.abrupt("return",d.post(o,l).then((function(e){return e.data})).catch((0,c.Z)((0,u.Z)(n.prototype),"handleErrorResponse",this)));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(e){return n.instance||(n.instance=new n(e)),n.instance}}]),n}(h.$);f.instance=void 0},2562:function(e,t,n){n.d(t,{Ac:function(){return a},WW:function(){return i},c$:function(){return s}});var r=n(4990),a=[{name:(0,r.t)("None"),value:0},{name:(0,r.t)("Reader"),value:1},{name:(0,r.t)("Editor"),value:3}],i=[{name:(0,r.t)("None"),value:0},{name:(0,r.t)("Read Connections"),value:10},{name:(0,r.t)("Read Circle Members"),value:50}],s=[{name:(0,r.t)("None"),value:0},{name:(0,r.t)("Read Connections"),value:10},{name:(0,r.t)("Manage Connection Requests"),value:30},{name:(0,r.t)("Read Circle Members"),value:50}]}}]);
//# sourceMappingURL=311.dbb3aebf.chunk.js.map