{"version":3,"file":"static/js/311.6c18d251.chunk.js","mappings":"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","sources":["components/Alerts/Alert/Alert.tsx","hooks/contact/useContact.ts","components/FallbackImg/FallbackImg.tsx","components/Connection/PersonCard/PersonCard.tsx","components/Dialog/CircleDialog/CircleDialog.tsx","components/Form/Input.tsx","components/Form/PermissionFlagsEditor.tsx","components/Form/PermissionLevelEditor.tsx","components/Form/Textarea.tsx","components/Icons/Triangle/Triangle.tsx","components/PermissionViews/DrivePermissionView/DrivePermissionView.tsx","components/Sections/Section.tsx","components/Dialog/MemberLookupDialog/MemberLookupDialog.tsx","components/Templates/CircleDetails/CircleDetails.tsx","components/Templates/DemoData/helpers.ts","helpers/common.ts","hooks/connections/useConnections.ts","hooks/drive/useDrive.ts","hooks/drives/useDrives.ts","provider/connections/CircleNetworkProvider.ts","provider/connections/CircleNetworkRequestProvider.ts","provider/permission/permissionLevels.ts"],"sourcesContent":["import { ReactNode } from 'react';\nimport Exclamation from '../../Icons/Exclamation/Exclamation';\n\ninterface AlertProps {\n  type: 'success' | 'warning' | 'critical';\n  title?: ReactNode;\n  children?: ReactNode;\n  className?: string;\n}\n\nconst Alert = ({ type, title, children, className }: AlertProps) => {\n  const bgClass =\n    type === 'critical'\n      ? 'bg-red-50 dark:bg-red-900 border-red-100 dark:border-red-800 dark:text-white'\n      : type === 'warning'\n      ? 'bg-orange-50 border-orange-100'\n      : '';\n\n  return (\n    <section className={`bg-red rounded-lg border-[1px] p-5 ${bgClass} ${className ?? ''}`}>\n      <div className=\"flex flex-row flex-wrap sm:flex-nowrap\">\n        {type === 'critical' ? (\n          <div className=\"flex h-8 w-8 flex-shrink-0 text-red-400 dark:text-red-300 sm:my-auto sm:mx-0 sm:h-10 sm:w-10\">\n            <Exclamation />\n          </div>\n        ) : type === 'warning' ? (\n          <div className=\"flex h-8 w-8 flex-shrink-0 text-red-400 sm:my-auto sm:mx-0 sm:h-10 sm:w-10\">\n            <Exclamation />\n          </div>\n        ) : (\n          <div className=\"flex h-8 w-8 flex-shrink-0 text-red-400 sm:my-auto sm:mx-0 sm:h-10 sm:w-10\">\n            <Exclamation />\n          </div>\n        )}\n        <div className=\"ml-5 contents sm:block\">\n          <p className=\"ml-3 mb-2 text-2xl sm:ml-0\">{title}</p>\n          {children}\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Alert;\n","import { useQuery } from '@tanstack/react-query';\nimport { ApiType, DataUtil, EmbeddedThumb, PublicClient } from '@youfoundation/transit-lib';\nimport { ContactData } from '../../provider/connections/CircleDataTypes';\nimport { ContactProvider } from '../../provider/contact/ContactProvider';\nimport { Contact } from '../../provider/contact/ContactTypes';\nimport useAuth from '../auth/useAuth';\n\ninterface ContactImageVm extends Omit<EmbeddedThumb, 'content'> {\n  url: string;\n}\n\ninterface ContactVm extends Omit<Contact, 'image'> {\n  image?: ContactImageVm;\n}\n\nconst useContact = ({\n  dotYouId,\n  originalContactData,\n}: {\n  dotYouId?: string;\n  originalContactData?: ContactData;\n}) => {\n  const { getSharedSecret } = useAuth();\n  const contactProvider = ContactProvider.getInstance(getSharedSecret());\n\n  const fetchSingle = async ({\n    dotYouId,\n    originalContactData,\n  }: {\n    dotYouId: string;\n    originalContactData: ContactData;\n  }): Promise<ContactVm | undefined> => {\n    if (!dotYouId) {\n      return;\n    }\n\n    const contactBookContact = await contactProvider.getContactByDotYouId(dotYouId);\n    if (contactBookContact) {\n      console.log('contact book', contactBookContact);\n      return parseContact(contactBookContact);\n    }\n\n    let fallbackContact: Contact;\n\n    // If no contact in the contact book:\n    // Use passed ContactData\n    if (originalContactData) {\n      fallbackContact = {\n        name: { givenName: originalContactData.givenName, surname: originalContactData.surname },\n        image: originalContactData.image,\n      };\n    } else {\n      // If nothing passed\n      // Search contact info within {dotYouId}/public.json\n      const publicContact = await fetchDataFromPublic(dotYouId);\n      if (publicContact) {\n        fallbackContact = publicContact;\n      }\n    }\n\n    // => And automatically push into the Contact\n    // TODO Parse Image URL\n    if (fallbackContact) {\n      fallbackContact = await contactProvider.saveContact({\n        ...fallbackContact,\n        dotYouId: dotYouId,\n      });\n\n      return parseContact(fallbackContact);\n    }\n\n    return undefined;\n  };\n\n  const fetchDataFromPublic = async (dotYouId: string) => {\n    const client = new PublicClient({ api: ApiType.YouAuth, root: dotYouId });\n    const rawData = await client.fileReadOnlyProvider.GetFile('public.json');\n\n    const nameAttr = rawData.get('name')?.[0];\n    const photoRefAttr = rawData.get('photo')?.[0];\n    const photoAttr = rawData.get(photoRefAttr?.payload?.data?.profileImageId)?.[0] ?? undefined;\n\n    if (!photoAttr) {\n      return {\n        name:\n          nameAttr.payload.data.givenName || nameAttr.payload.data.surname\n            ? {\n                givenName: nameAttr.payload.data.givenName,\n                surname: nameAttr.payload.data.surname,\n              }\n            : undefined,\n      };\n    }\n\n    const previewThumbnail = photoAttr.additionalThumbnails.reduce(\n      (prevVal, curValue) => {\n        if (prevVal.pixelWidth < curValue.pixelWidth && curValue.pixelWidth <= 250) {\n          return curValue;\n        }\n        return prevVal;\n      },\n      { ...photoAttr.header.fileMetadata.appData.previewThumbnail, pixelWidth: 20, pixelHeight: 20 }\n    );\n\n    const returnVal = {\n      name:\n        nameAttr.payload.data.givenName || nameAttr.payload.data.surname\n          ? {\n              givenName: nameAttr.payload.data.givenName,\n              surname: nameAttr.payload.data.surname,\n            }\n          : undefined,\n      profileImage: {\n        pixelWidth: previewThumbnail.pixelWidth,\n        pixelHeight: previewThumbnail.pixelHeight,\n        contentType: previewThumbnail.contentType,\n        content: previewThumbnail.content,\n      },\n    };\n\n    return returnVal;\n  };\n\n  const parseContact = (contact: Contact): ContactVm => {\n    if (!contact.image) {\n      return { ...contact, image: undefined };\n    }\n    const buffer = DataUtil.base64ToUint8Array(contact.image.content);\n    const url = window.URL.createObjectURL(new Blob([buffer]));\n\n    return {\n      ...contact,\n      image: {\n        ...contact.image,\n        url: url,\n      },\n    };\n  };\n\n  return {\n    fetch: useQuery(\n      ['contact', dotYouId, !!originalContactData],\n      () => fetchSingle({ dotYouId, originalContactData }),\n      {\n        refetchOnWindowFocus: false,\n        onError: (err) => console.error(err),\n      }\n    ),\n  };\n};\n\nexport default useContact;\n","const FallbackImg = ({ initials }: { initials: string }) => {\n  return (\n    <div className=\"flex aspect-square h-full w-full bg-slate-200 text-4xl font-light text-white dark:bg-slate-700 dark:text-black sm:text-6xl\">\n      <span className=\"m-auto uppercase\">{initials}</span>\n    </div>\n  );\n};\n\nexport default FallbackImg;\n","import { ReactNode } from 'react';\nimport { Link } from 'react-router-dom';\nimport useContact from '../../../hooks/contact/useContact';\nimport { ContactData } from '../../../provider/connections/CircleDataTypes';\nimport FallbackImg from '../../FallbackImg/FallbackImg';\nimport LoadingParagraph from '../../Loaders/LoadingParagraph/LoadingParagraph';\n\nconst PersonCard = ({\n  contactData,\n  dotYouId,\n  href,\n  checked,\n  className,\n  children,\n  onClick,\n}: {\n  contactData?: ContactData;\n  dotYouId: string;\n  href?: string;\n  checked?: boolean;\n  className: string;\n  children?: ReactNode;\n  onClick?: React.MouseEventHandler<HTMLDivElement>;\n}) => {\n  const Wrapper = ({ children }) => (href ? <Link to={href}>{children}</Link> : <>{children}</>);\n  const { data: connectionDetails, isLoading } = useContact({\n    dotYouId: dotYouId,\n    originalContactData: contactData,\n  }).fetch;\n\n  if (isLoading) {\n    return <LoadingParagraph className={`aspect-[3/5] ${className}`} />;\n  }\n\n  const nameData = connectionDetails?.name;\n  const fullName = nameData ? `${nameData.givenName ?? ''} ${nameData.surname ?? ''}` : dotYouId;\n  const getInitials = () => {\n    if (nameData) {\n      return nameData.givenName?.[0] + nameData.surname?.[0] + '';\n    }\n\n    const splittedDomain = dotYouId?.split('.');\n    if (splittedDomain?.length >= 2) {\n      return splittedDomain[0][0] + splittedDomain[1][0] + '';\n    }\n\n    return '--';\n  };\n\n  const photoData = connectionDetails?.image;\n\n  return (\n    <div className={className}>\n      <Wrapper>\n        <div\n          className={`h-full rounded-md border border-gray-200 border-opacity-60 bg-white transition-colors dark:border-gray-800 dark:bg-gray-800 ${\n            checked\n              ? 'border-4 border-indigo-500 dark:border-indigo-700'\n              : checked === false\n              ? 'border-4'\n              : ''\n          }`}\n          onClick={onClick}\n        >\n          <div className=\"aspect-square\">\n            {photoData ? (\n              <figure className={'relative overflow-hidden'}>\n                <img\n                  src={photoData.url}\n                  width={photoData.pixelWidth}\n                  height={photoData.pixelHeight}\n                  className=\"aspect-square w-full\"\n                />\n              </figure>\n            ) : (\n              <FallbackImg initials={getInitials()} />\n            )}\n          </div>\n          <div className=\"p-2\">\n            <h2 className=\"font-thiner mb-6 dark:text-white\">{fullName ?? dotYouId}</h2>\n            {children}\n          </div>\n        </div>\n      </Wrapper>\n    </div>\n  );\n};\n\nexport default PersonCard;\n","import { useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { t } from '../../../helpers/i18n/dictionary';\nimport useCircle from '../../../hooks/circle/useCircle';\nimport useCircles from '../../../hooks/circles/useCircles';\nimport useDrives from '../../../hooks/drives/useDrives';\nimport usePortal from '../../../hooks/portal/usePortal';\nimport { CircleDefinition } from '../../../provider/connections/CircleDataTypes';\nimport {\n  circlePermissionLevels,\n  drivePermissionLevels,\n} from '../../../provider/permission/permissionLevels';\nimport ActionButton from '../../Buttons/ActionButton';\nimport Input from '../../Form/Input';\nimport PermissionFlagsEditor from '../../Form/PermissionFlagsEditor';\nimport PermissionLevelEditor from '../../Form/PermissionLevelEditor';\nimport Textarea from '../../Form/Textarea';\nimport DialogWrapper from '../Common/DialogWrapper';\n\nconst CircleDialog = ({\n  title,\n  confirmText,\n  isOpen,\n  defaultValue,\n  onConfirm,\n  onCancel,\n}: {\n  title: string;\n  confirmText?: string;\n\n  isOpen: boolean;\n  defaultValue?: CircleDefinition;\n\n  onConfirm: () => void;\n  onCancel: () => void;\n}) => {\n  const target = usePortal('modal-container');\n  const { mutateAsync: createOrUpdate, status: createOrUpdateStatus } = useCircle(\n    {}\n  ).createOrUpdate;\n  const { data: drives } = useDrives().fetch;\n\n  const [newCircleDefinition, setNewCircleDefinition] = useState<CircleDefinition>({\n    driveGrants: defaultValue.driveGrants || [],\n    ...defaultValue,\n  });\n\n  useEffect(() => {\n    if (isOpen) {\n      setNewCircleDefinition({\n        driveGrants: defaultValue.driveGrants || [],\n        ...defaultValue,\n      });\n    }\n  }, [isOpen]);\n\n  if (!isOpen) {\n    return null;\n  }\n\n  const reset = () => {\n    setNewCircleDefinition({\n      driveGrants: defaultValue.driveGrants || [],\n      ...defaultValue,\n    });\n  };\n\n  const dialog = (\n    <DialogWrapper title={title} onClose={onCancel} size=\"4xlarge\">\n      <>\n        <form\n          onSubmit={async (e) => {\n            e.preventDefault();\n\n            await createOrUpdate(newCircleDefinition);\n            onConfirm();\n\n            return false;\n          }}\n        >\n          <div className=\"mb-5\">\n            <label htmlFor=\"name\">{t('Name')}</label>\n            <Input\n              id=\"name\"\n              name=\"circleName\"\n              defaultValue={newCircleDefinition.name}\n              onChange={(e) => {\n                setNewCircleDefinition({ ...newCircleDefinition, name: e.target.value });\n              }}\n              required\n            />\n          </div>\n          <div className=\"mb-5\">\n            <label htmlFor=\"name\">{t('Description')}</label>\n            <Textarea\n              id=\"description\"\n              name=\"circleDescription\"\n              defaultValue={newCircleDefinition.description}\n              onChange={(e) => {\n                setNewCircleDefinition({\n                  ...newCircleDefinition,\n                  description: e.target.value,\n                });\n              }}\n              required\n            />\n          </div>\n\n          <div className=\"mb-5 flex flex-row\">\n            <label htmlFor=\"name\" className=\"my-auto mr-2\">\n              {t('Permissions')}\n            </label>\n            <PermissionFlagsEditor\n              className=\"ml-auto\"\n              permissionLevels={circlePermissionLevels}\n              defaultValue={newCircleDefinition.permissions.keys ?? [0]}\n              onChange={(newValue) => {\n                setNewCircleDefinition({\n                  ...newCircleDefinition,\n                  permissions: { keys: newValue },\n                });\n              }}\n            />\n          </div>\n\n          {drives?.length ? (\n            <div className=\"my-7\">\n              <h2 className=\"mb-4 text-lg\">Drive Permissions:</h2>\n\n              {drives.map((drive, index) => {\n                return (\n                  <div key={index} className=\"mb-2 flex flex-row\">\n                    <label\n                      htmlFor={`${drive.targetDriveInfo.alias}-${drive.targetDriveInfo.type}`}\n                      className=\"my-auto mr-2\"\n                    >\n                      {drive.name}\n                    </label>\n                    <PermissionLevelEditor\n                      className=\"ml-auto\"\n                      permissionLevels={drivePermissionLevels}\n                      defaultValue={\n                        newCircleDefinition.driveGrants?.find(\n                          (driveGrant) =>\n                            driveGrant.permissionedDrive.drive.alias ===\n                              drive.targetDriveInfo.alias &&\n                            driveGrant.permissionedDrive.drive.type === drive.targetDriveInfo.type\n                        )?.permissionedDrive.permission ?? 0\n                      }\n                      onChange={(value) => {\n                        if (value > 0) {\n                          setNewCircleDefinition({\n                            ...newCircleDefinition,\n                            driveGrants: [\n                              ...(newCircleDefinition?.driveGrants?.filter(\n                                (driveGrant) =>\n                                  driveGrant.permissionedDrive?.drive.alias !==\n                                    drive.targetDriveInfo.alias ||\n                                  driveGrant.permissionedDrive?.drive.type !==\n                                    drive.targetDriveInfo.type\n                              ) || []),\n                              {\n                                permissionedDrive: {\n                                  drive: drive.targetDriveInfo,\n                                  permission: value,\n                                },\n                              },\n                            ],\n                          });\n                        } else {\n                          setNewCircleDefinition({\n                            ...newCircleDefinition,\n                            driveGrants: [\n                              ...newCircleDefinition.driveGrants.filter(\n                                (driveGrant) =>\n                                  driveGrant.permissionedDrive.drive.alias !==\n                                    drive.targetDriveInfo.alias ||\n                                  driveGrant.permissionedDrive.drive.type !==\n                                    drive.targetDriveInfo.type\n                              ),\n                            ],\n                          });\n                        }\n                      }}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          ) : null}\n\n          <div className=\"-m-2 flex flex-row-reverse py-3\">\n            <ActionButton className=\"m-2\" state={createOrUpdateStatus} icon={'send'}>\n              {confirmText || t('Add Circle')}\n            </ActionButton>\n            <ActionButton className=\"m-2\" type=\"secondary\" onClick={() => onCancel()}>\n              {t('Cancel')}\n            </ActionButton>\n          </div>\n        </form>\n      </>\n    </DialogWrapper>\n  );\n\n  return createPortal(dialog, target);\n};\n\nexport default CircleDialog;\n","const Input = (\n  props: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\n) => {\n  return (\n    <input\n      {...props}\n      type={props.type ?? 'input'}\n      className={`w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 ${props.className}`}\n    />\n  );\n};\n\nexport default Input;\n","import { ReactNode, useRef, useState } from 'react';\nimport useOutsideTrigger from '../../hooks/clickedOutsideTrigger/useClickedOutsideTrigger';\nimport Check from '../Icons/Check/Check';\nimport Triangle from '../Icons/Triangle/Triangle';\n\nconst PermissionFlagsEditor = ({\n  className,\n  permissionLevels,\n  onChange,\n  defaultValue,\n}: {\n  className: string;\n  permissionLevels: { name: string; value: number }[];\n  onChange?: (value: number[]) => void;\n  defaultValue: number[];\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [value, setInnerValue] = useState(defaultValue);\n  const wrapperRef = useRef(null);\n  useOutsideTrigger(wrapperRef, () => setIsOpen(false));\n\n  const currentValue =\n    defaultValue?.length >= 2\n      ? 'Multiple'\n      : (defaultValue?.[0]\n          ? permissionLevels.find((level) => level.value === defaultValue[0])?.name\n          : permissionLevels[0].name) ?? permissionLevels[0].name;\n\n  const setValue = (value: number[]) => {\n    setInnerValue(value);\n    onChange && onChange(value);\n  };\n\n  return (\n    <div className={className ?? ''}>\n      <div\n        className=\"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800\"\n        onClick={() => setIsOpen(!isOpen)}\n        ref={wrapperRef}\n      >\n        <div className=\"flex min-w-[6rem] flex-row py-1 px-2\">\n          <span className=\"my-auto mr-2 select-none\">{currentValue}</span>{' '}\n          <Triangle className=\"my-auto ml-auto h-2 w-2 rotate-90\" />\n        </div>\n        <ul\n          className={`absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ${\n            isOpen\n              ? 'z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700'\n              : 'max-h-0'\n          }`}\n        >\n          {permissionLevels.map((level) => (\n            <Option\n              key={level.value}\n              isChecked={\n                value.some((val) => val === level.value) ||\n                (value.length === 0 && level.value === 0)\n              }\n              onChange={() =>\n                value.some((val) => val === level.value)\n                  ? setValue(value.filter((val) => val !== level.value))\n                  : level.value !== 0\n                  ? setValue([...value, level.value])\n                  : setValue([])\n              }\n            >\n              {level.name}\n            </Option>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nconst Option = ({\n  className,\n  isChecked,\n  children,\n  onChange,\n}: {\n  className?: string;\n  isChecked: boolean;\n  children: ReactNode;\n  onChange: () => void;\n}) => {\n  return (\n    <li\n      className={`flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ${className}`}\n      onClick={onChange}\n    >\n      <Check\n        className={`my-auto mr-3 h-4 w-4 flex-shrink-0 ${\n          isChecked ? 'text-slate-700 dark:text-slate-200' : 'text-transparent'\n        }`}\n      />{' '}\n      <span className={`mr-auto block h-full py-1`}>{children}</span>\n    </li>\n  );\n};\n\nexport default PermissionFlagsEditor;\n","import { ReactNode, useRef, useState } from 'react';\nimport useOutsideTrigger from '../../hooks/clickedOutsideTrigger/useClickedOutsideTrigger';\nimport Check from '../Icons/Check/Check';\nimport Triangle from '../Icons/Triangle/Triangle';\n\nconst PermissionLevelEditor = ({\n  className,\n  permissionLevels,\n  onChange,\n  defaultValue,\n}: {\n  className: string;\n  permissionLevels: { name: string; value: number }[];\n  onChange?: (value: number) => void;\n  defaultValue: number;\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [value, setInnerValue] = useState(defaultValue);\n  const wrapperRef = useRef(null);\n  useOutsideTrigger(wrapperRef, () => setIsOpen(false));\n\n  const currentValue = permissionLevels.reduce((prevValue, currValue) => {\n    if (currValue.value > prevValue.value && currValue.value <= defaultValue) {\n      return currValue;\n    }\n\n    return prevValue;\n  }, permissionLevels[0]);\n\n  const setValue = (value: number) => {\n    setInnerValue(value);\n    onChange(value);\n  };\n\n  return (\n    <div className={className ?? ''}>\n      <div\n        className=\"relative cursor-pointer rounded-md bg-slate-100 dark:bg-slate-800\"\n        onClick={() => setIsOpen(!isOpen)}\n        ref={wrapperRef}\n      >\n        <div className=\"flex min-w-[6rem] flex-row py-1 px-2\">\n          <span className=\"my-auto mr-2 select-none\">{currentValue.name}</span>{' '}\n          <Triangle className=\"my-auto ml-auto h-2 w-2 rotate-90\" />\n        </div>\n        <ul\n          className={`absolute top-[100%] right-0 overflow-hidden bg-white dark:bg-slate-800 ${\n            isOpen\n              ? 'z-10 max-h-[30rem] border border-slate-100 py-3 shadow-2xl dark:border-slate-700'\n              : 'max-h-0'\n          }`}\n        >\n          {permissionLevels.map((level) => (\n            <Option\n              key={level.value}\n              isChecked={level.value === 0 ? value === level.value : value >= level.value}\n              onChange={() => (value !== level.value ? setValue(level.value) : setValue(0))}\n            >\n              {level.name}\n            </Option>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nconst Option = ({\n  className,\n  isChecked,\n  children,\n  onChange,\n}: {\n  className?: string;\n  isChecked: boolean;\n  children: ReactNode;\n  onChange: () => void;\n}) => {\n  return (\n    <li\n      className={`flex min-w-[6rem] cursor-pointer select-none flex-row py-1 px-4 hover:bg-slate-100 dark:hover:bg-slate-700 ${className}`}\n      onClick={onChange}\n    >\n      <Check\n        className={`my-auto mr-3 h-4 w-4 flex-shrink-0  ${\n          isChecked ? 'text-slate-700 dark:text-slate-200' : 'text-transparent'\n        }`}\n      />{' '}\n      <span className={`mr-auto block h-full py-1`}>{children}</span>\n    </li>\n  );\n};\n\nexport default PermissionLevelEditor;\n","const Textarea = (\n  props: React.DetailedHTMLProps<\n    React.TextareaHTMLAttributes<HTMLTextAreaElement>,\n    HTMLTextAreaElement\n  >\n) => {\n  return (\n    <textarea\n      {...props}\n      className={`w-full rounded border border-gray-300 bg-white py-1 px-3 text-base leading-8 text-gray-700 outline-none transition-colors duration-200 ease-in-out focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 ${props.className}`}\n    />\n  );\n};\n\nexport default Textarea;\n","import { FC } from 'react';\n\nconst Triangle: FC<IconProps> = ({ className }) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 384 512\"\n      fill=\"currentColor\"\n      className={className}\n    >\n      <path d=\"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z\" />\n    </svg>\n  );\n};\n\nexport default Triangle;\n","import { DriveDefinition } from '@youfoundation/transit-lib';\nimport { Link } from 'react-router-dom';\nimport { t } from '../../../helpers/i18n/dictionary';\nimport useDrive from '../../../hooks/drive/useDrive';\nimport { DriveGrant } from '../../../provider/connections/CircleDataTypes';\nimport { drivePermissionLevels } from '../../../provider/permission/permissionLevels';\nimport Arrow from '../../Icons/Arrow/Arrow';\nimport HardDrive from '../../Icons/HardDrive/HardDrive';\nimport LoadingParagraph from '../../Loaders/LoadingParagraph/LoadingParagraph';\nimport { getAccessFromPermissionNumber } from '../../Templates/DemoData/helpers';\n\nconst DrivePermissionView = ({\n  driveGrant,\n  permissionTree,\n  className,\n}: {\n  driveGrant: DriveGrant;\n  permissionTree?: string;\n  className?: string;\n}) => {\n  const { data: drive, isLoading } = useDrive({\n    targetDrive: driveGrant.permissionedDrive.drive,\n  }).fetch;\n\n  if (isLoading) {\n    return <LoadingParagraph className={`h-4 max-w-xs ${className}`} />;\n  }\n\n  return (\n    <div\n      key={`${driveGrant?.permissionedDrive?.drive?.alias}-${driveGrant?.permissionedDrive.drive?.type}`}\n      className={`flex flex-row ${className}`}\n      title={permissionTree}\n    >\n      <Link\n        to={`/owner/drives/${drive?.targetDriveInfo?.alias}_${drive?.targetDriveInfo?.type}`}\n        className=\"flex flex-row hover:text-slate-700 hover:underline dark:hover:text-slate-400\"\n      >\n        <HardDrive className=\"mt-1 mb-auto mr-3 h-6 w-6\" />\n        <div className=\"mr-2 flex flex-col\">\n          <p className={`leading-none ${!permissionTree ? 'my-auto' : ''}`}>\n            {drive?.name}:{' '}\n            {\n              getAccessFromPermissionNumber(\n                driveGrant?.permissionedDrive.permission,\n                drivePermissionLevels\n              ).name\n            }\n          </p>\n          {permissionTree && (\n            <small className=\"\">\n              {t('Via')} {permissionTree}\n            </small>\n          )}\n        </div>\n        <Arrow className=\"my-auto ml-auto h-5 w-5\" />\n      </Link>\n    </div>\n  );\n};\n\nexport const DriveView = ({ drive, className }: { drive: DriveDefinition; className?: string }) => {\n  return (\n    <div\n      key={`${drive.targetDriveInfo?.alias}-${drive.targetDriveInfo?.type}`}\n      className={`flex flex-row ${className}`}\n    >\n      <Link\n        to={`/owner/drives/${drive?.targetDriveInfo?.alias}_${drive?.targetDriveInfo?.type}`}\n        className=\"flex flex-row hover:text-slate-700 hover:underline dark:hover:text-slate-400\"\n      >\n        <HardDrive className=\"mt-1 mb-auto mr-3 h-6 w-6\" />\n        <div className=\"mr-2 flex flex-col\">\n          <p className={`my-auto leading-none`}>{drive?.name}</p>\n        </div>\n        <Arrow className=\"my-auto ml-auto h-5 w-5\" />\n      </Link>\n    </div>\n  );\n};\n\nexport default DrivePermissionView;\n","import { ReactNode } from 'react';\n\nconst Section = ({\n  title,\n  className,\n  children,\n  isOpaqueBg = false,\n  isBorderLess = false,\n}: {\n  title?: ReactNode;\n  className?: string;\n  children: ReactNode;\n  isOpaqueBg?: boolean;\n  isBorderLess?: boolean;\n}) => {\n  return (\n    <section\n      className={`my-5 rounded-md ${\n        isOpaqueBg\n          ? isBorderLess\n            ? ''\n            : 'rounded-lg border-[1px] border-gray-200 border-opacity-80 px-5 dark:border-gray-700'\n          : 'bg-slate-50 px-5 dark:bg-slate-800'\n      } dark:text-slate-300 ${className ?? ''}`}\n    >\n      {title ? (\n        <div\n          className={`relative border-b-[1px] border-gray-200 border-opacity-80 py-5 transition-all duration-300 dark:border-gray-700`}\n        >\n          <h3 className=\"text-2xl dark:text-white\">{title}</h3>\n        </div>\n      ) : null}\n      <div className=\"py-5 \">{children}</div>\n    </section>\n  );\n};\n\nexport default Section;\n","import { useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { t } from '../../../helpers/i18n/dictionary';\nimport useConnections from '../../../hooks/connections/useConnections';\nimport usePortal from '../../../hooks/portal/usePortal';\nimport ActionButton, { ActionButtonState } from '../../Buttons/ActionButton';\nimport PersonCard from '../../Connection/PersonCard/PersonCard';\nimport DialogWrapper from '../Common/DialogWrapper';\n\nconst MemberLookupDialog = ({\n  title,\n  confirmText,\n\n  isOpen,\n  defaultMembers,\n  confirmationStatus,\n\n  onConfirm,\n  onCancel,\n}: {\n  title: string;\n  confirmText?: string;\n\n  isOpen: boolean;\n  defaultMembers: string[];\n  confirmationStatus: ActionButtonState;\n\n  onConfirm: (toProvide: string[], toRevoke: string[]) => void;\n  onCancel: () => void;\n}) => {\n  const target = usePortal('modal-container');\n  const { data: members, isLoading: membersLoading } = useConnections().fetchActive;\n\n  const [toProvideMembers, setToProviderMembers] = useState<string[]>([]);\n  const [toRevokeMembers, setToRevokeMembers] = useState<string[]>([]);\n\n  if (!isOpen) {\n    return null;\n  }\n\n  const toggleMember = (checked: boolean, dotYouId: string) => {\n    if (checked) {\n      // If member wasn't there, add to provide\n      if (!defaultMembers.some((defaultMember) => defaultMember === dotYouId)) {\n        setToProviderMembers([...toProvideMembers, dotYouId]);\n      }\n      setToRevokeMembers(toRevokeMembers.filter((defaultMember) => defaultMember !== dotYouId));\n    } else {\n      // If member was there, add to revoke\n      if (defaultMembers.some((defaultMember) => defaultMember === dotYouId)) {\n        setToRevokeMembers([...toRevokeMembers, dotYouId]);\n      }\n      setToProviderMembers(toProvideMembers.filter((defaultMember) => defaultMember !== dotYouId));\n    }\n  };\n\n  const dialog = (\n    <DialogWrapper size=\"4xlarge\" onClose={onCancel} title={title}>\n      <>\n        <div className=\"-mx-1\">\n          {members?.length && !membersLoading ? (\n            members.map((member) => {\n              const checked =\n                (defaultMembers.some((selectedMember) => selectedMember === member.dotYouId) &&\n                  !toRevokeMembers.some((revokedMember) => revokedMember === member.dotYouId)) ||\n                toProvideMembers.some((providedMember) => providedMember === member.dotYouId);\n\n              return (\n                <PersonCard\n                  key={member.dotYouId}\n                  dotYouId={member.dotYouId}\n                  className={`relative w-1/2 cursor-pointer p-1 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6`}\n                  checked={checked}\n                  onClick={() => {\n                    const isInDefault = defaultMembers.some(\n                      (defaultMember) => defaultMember === member.dotYouId\n                    );\n                    const isRevoked = toRevokeMembers.some(\n                      (defaultMember) => defaultMember === member.dotYouId\n                    );\n                    const isProvided = toProvideMembers.some(\n                      (defaultMember) => defaultMember === member.dotYouId\n                    );\n\n                    const currentState = isInDefault ? !isRevoked : isProvided;\n                    toggleMember(!currentState, member.dotYouId);\n                  }}\n                />\n              );\n            })\n          ) : (\n            <></>\n          )}\n        </div>\n        <div className=\"-m-2 flex flex-row-reverse py-3\">\n          <ActionButton\n            className=\"m-2\"\n            icon={'send'}\n            state={confirmationStatus}\n            onClick={() => {\n              onConfirm(toProvideMembers, toRevokeMembers);\n            }}\n          >\n            {confirmText || t('Update Circle')}\n          </ActionButton>\n          <ActionButton className=\"m-2\" type=\"secondary\" onClick={onCancel}>\n            {t('Cancel')}\n          </ActionButton>\n          {toProvideMembers?.length || toRevokeMembers?.length ? (\n            <div className=\"m-2 my-auto\">\n              {toProvideMembers?.length\n                ? `${\n                    toProvideMembers.length >= 2\n                      ? `${toProvideMembers.length} ${t('people')}`\n                      : `${t('One person')}`\n                  } ${t('will gain access')}`\n                : ''}\n              {toRevokeMembers?.length\n                ? `${\n                    toProvideMembers.length >= 2\n                      ? `${toProvideMembers.length} ${t('people')}`\n                      : `${t('One person')}`\n                  } ${t('will loose access')}`\n                : ''}\n            </div>\n          ) : null}\n        </div>\n      </>\n    </DialogWrapper>\n  );\n\n  return createPortal(dialog, target);\n};\n\nexport default MemberLookupDialog;\n","import { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { t } from '../../../helpers/i18n/dictionary';\nimport useCircle from '../../../hooks/circle/useCircle';\nimport Alert from '../../Alerts/Alert/Alert';\nimport ActionButton, { mergeStates } from '../../Buttons/ActionButton';\nimport PersonCard from '../../Connection/PersonCard/PersonCard';\nimport CircleDialog from '../../Dialog/CircleDialog/CircleDialog';\nimport MemberLookupDialog from '../../Dialog/MemberLookupDialog/MemberLookupDialog';\nimport Circles from '../../Icons/Circles/Circles';\nimport PageMeta from '../../Layout/PageMeta/PageMeta';\nimport LoadingDetailPage from '../../Loaders/LoadingDetailPage/LoadingDetailPage';\nimport DrivePermissionView from '../../PermissionViews/DrivePermissionView/DrivePermissionView';\nimport Section from '../../Sections/Section';\n\nconst CircleDetails = () => {\n  const { circleKey } = useParams();\n  const decodedCircleKey = decodeURIComponent(circleKey);\n  const {\n    fetch: { data: circle, isLoading: circleLoading },\n    fetchMembers: { data: members, isLoading: membersLoading },\n    provideGrants: { mutateAsync: addMembers, status: addMemberStatus },\n    revokeGrants: { mutateAsync: removeMembers, status: removeMemberStatus },\n    enableCircle: { mutate: enableCircle, status: enableCircleStatus },\n    disableCircle: { mutate: disableCircle, status: disableCircleStatus },\n    removeCircle: { mutateAsync: removeCircle, status: removeCircleStatus },\n  } = useCircle({ circleId: decodedCircleKey });\n  const [isOpenMemberLookup, setIsOpenMemberLookup] = useState(false);\n\n  const [isOpenEdit, setIsOpenEdit] = useState(false);\n\n  if (circleLoading) {\n    return <LoadingDetailPage />;\n  }\n\n  if (!circle) {\n    return <>No matching circle found</>;\n  }\n\n  return (\n    <>\n      <PageMeta\n        icon={Circles}\n        title={`${circle.name}`}\n        actions={\n          <>\n            {circle.disabled ? (\n              <>\n                <ActionButton\n                  type=\"remove\"\n                  icon=\"trash\"\n                  className=\"m-2\"\n                  state={removeCircleStatus}\n                  onClick={() => {\n                    removeCircle({ circleId: circle.id });\n                  }}\n                  confirmOptions={{\n                    title: `${t('Remove Circle')} ${circle.name}`,\n                    buttonText: t('Remove'),\n                    body: t(\n                      'Are you sure you want to remove this circle, all members will lose their access provided by the permissions of this circle?'\n                    ),\n                  }}\n                >\n                  {t('Delete')}\n                </ActionButton>\n                <ActionButton\n                  type=\"primary\"\n                  className=\"m-2\"\n                  onClick={() => {\n                    enableCircle({ circleId: circle.id });\n                  }}\n                  state={enableCircleStatus}\n                >\n                  {t('Enable Circle')}\n                </ActionButton>\n              </>\n            ) : (\n              <ActionButton\n                type=\"remove\"\n                className=\"m-2\"\n                onClick={() => {\n                  disableCircle({ circleId: circle.id });\n                }}\n                state={disableCircleStatus}\n                confirmOptions={{\n                  title: t('Disable Circle'),\n                  buttonText: t('Disable'),\n                  body: `${t('Are you sure you want to disable the circle')} ${circle.name}`,\n                }}\n              >\n                {t('Disable Circle')}\n              </ActionButton>\n            )}\n            <ActionButton\n              type=\"primary\"\n              className=\"m-2\"\n              onClick={() => {\n                setIsOpenMemberLookup(true);\n              }}\n            >\n              {t('Edit Members')}\n            </ActionButton>\n            <ActionButton\n              type=\"primary\"\n              icon=\"edit\"\n              className=\"m-2\"\n              onClick={() => {\n                setIsOpenEdit(true);\n              }}\n            >\n              {t('Edit Circle')}\n            </ActionButton>\n          </>\n        }\n        breadCrumbs={[\n          { href: '/owner/circles', title: 'My Circles' },\n          { title: circle.name ?? '' },\n        ]}\n      />\n      {circle.disabled && (\n        <Alert type=\"critical\" title={t('Circle is disabled')} className=\"mb-5\">\n          {t(\n            'This circle is disabled, all members no longer have the access provided by this cirlce'\n          )}\n        </Alert>\n      )}\n\n      <section>{circle.description}</section>\n\n      <Section\n        title={\n          <>\n            {t('Access on the following drives')}\n            <small className=\"block text-sm text-slate-500\">\n              {t('all contact added will have this access')}\n            </small>\n          </>\n        }\n        isOpaqueBg={true}\n      >\n        {circle.driveGrants?.length ? (\n          <div className=\"-my-6\">\n            {circle.driveGrants.map((grant) => {\n              return (\n                <DrivePermissionView\n                  key={`${grant.permissionedDrive.drive.alias}-${grant.permissionedDrive.drive.type}`}\n                  driveGrant={grant}\n                  className=\"my-6\"\n                />\n              );\n            })}\n          </div>\n        ) : (\n          <div className=\"flex flex-row\">\n            <p className=\"my-auto\">{t(\"This circle doesn't have any access\")}</p>\n          </div>\n        )}\n      </Section>\n\n      <Section isOpaqueBg={true} isBorderLess={true} title={t('Members')}>\n        {members?.length && !membersLoading ? (\n          <div className=\"-m-1 flex flex-row flex-wrap\">\n            {members.map((member) => (\n              <CircleMemberCard\n                key={member}\n                circleId={decodedCircleKey}\n                dotYouId={member}\n                className=\"w-1/2 p-1 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6\"\n              />\n            ))}\n          </div>\n        ) : (\n          <div className=\"flex flex-row\">\n            <p className=\"my-auto\">\n              {t('Mmh, this looks like an emtpy circle... Time to add some connections?')}{' '}\n            </p>\n            <ActionButton\n              onClick={(e) => {\n                e.preventDefault();\n                setIsOpenMemberLookup(true);\n\n                return false;\n              }}\n              type=\"secondary\"\n              className=\"ml-2\"\n            >\n              {t('Add')}\n            </ActionButton>\n          </div>\n        )}\n      </Section>\n\n      <CircleDialog\n        title={`${t('Edit')}: ${circle.name}`}\n        isOpen={isOpenEdit}\n        confirmText={t('Update Circle')}\n        defaultValue={circle}\n        onCancel={() => {\n          setIsOpenEdit(false);\n        }}\n        onConfirm={() => {\n          setIsOpenEdit(false);\n        }}\n      />\n      <MemberLookupDialog\n        isOpen={isOpenMemberLookup}\n        title={`${t('Add Members to')} ${circle.name}`}\n        defaultMembers={members}\n        onCancel={() => {\n          setIsOpenMemberLookup(false);\n        }}\n        confirmationStatus={mergeStates(addMemberStatus, removeMemberStatus)}\n        onConfirm={async (toProvideMembers, toRevokeMembers) => {\n          await addMembers({ circleId: decodedCircleKey, dotYouIds: toProvideMembers });\n          await removeMembers({ circleId: decodedCircleKey, dotYouIds: toRevokeMembers });\n\n          setIsOpenMemberLookup(false);\n        }}\n      />\n    </>\n  );\n};\n\nconst CircleMemberCard = ({\n  circleId,\n  dotYouId,\n  className,\n}: {\n  circleId;\n  dotYouId: string;\n  className: string;\n}) => {\n  const { mutate: revokeGrants, status: revokeGrantsStatus } = useCircle({\n    circleId: circleId,\n  }).revokeGrants;\n\n  return (\n    <PersonCard\n      className={className}\n      dotYouId={dotYouId}\n      href={(dotYouId && `/owner/connections/${dotYouId}`) ?? undefined}\n    >\n      <ActionButton\n        type=\"secondary\"\n        className=\"w-full\"\n        onClick={(e) => {\n          e.preventDefault();\n          revokeGrants({ circleId, dotYouIds: [dotYouId] });\n        }}\n        state={revokeGrantsStatus}\n      >\n        Remove from circle\n      </ActionButton>\n    </PersonCard>\n  );\n};\n\nexport default CircleDetails;\n","export const rando = (arr: string[]) => {\n  return arr[Math.floor(Math.random() * arr.length)];\n};\n\nexport const getRandomAbstract = () => {\n  const sentences = [\n    'Ut bibendum, neque ac lacinia aliquam, justo ipsum aliquam urna, id vestibulum augue mauris sit amet lacus.',\n    'Proin ante sapien, interdum sit amet eros sit amet, eleifend pharetra metus.',\n    'Sed elit mi, euismod eget neque at, suscipit aliquam nisi.',\n    'Nunc diam arcu, tincidunt quis dignissim ac, volutpat non odio.',\n  ];\n\n  return rando(sentences);\n};\n\nexport const getFunName = () => {\n  const adjectives = [\n    'adorable',\n    'beautiful',\n    'clean',\n    'drab',\n    'elegant',\n    'fancy',\n    'glamorous',\n    'handsome',\n    'long',\n    'magnificent',\n    'old-fashioned',\n    'plain',\n    'quaint',\n    'sparkling',\n    'ugliest',\n    'unsightly',\n    'angry',\n    'bewildered',\n    'clumsy',\n    'defeated',\n    'embarrassed',\n    'fierce',\n    'grumpy',\n    'helpless',\n    'itchy',\n    'jealous',\n    'lazy',\n    'mysterious',\n    'nervous',\n    'obnoxious',\n    'panicky',\n    'repulsive',\n    'scary',\n    'thoughtless',\n    'uptight',\n    'worried',\n  ];\n\n  const nouns = [\n    'women',\n    'men',\n    'children',\n    'teeth',\n    'feet',\n    'people',\n    'leaves',\n    'mice',\n    'geese',\n    'halves',\n    'knives',\n    'wives',\n    'lives',\n    'elves',\n    'loaves',\n    'potatoes',\n    'tomatoes',\n    'cacti',\n    'foci',\n    'fungi',\n    'nuclei',\n    'syllabuses',\n    'analyses',\n    'diagnoses',\n    'oases',\n    'theses',\n    'crises',\n    'phenomena',\n    'criteria',\n    'data',\n  ];\n\n  return `${rando(adjectives)} ${rando(adjectives)} ${rando(nouns)}`;\n};\n\nexport const base64ToArrayBuffer = (base64: string) => {\n  const binary_string = window.atob(base64);\n  const len = binary_string.length;\n  const bytes = new Uint8Array(len);\n  for (let i = 0; i < len; i++) {\n    bytes[i] = binary_string.charCodeAt(i);\n  }\n  return bytes.buffer;\n};\n\nexport const arrayBufferToBase64 = (buffer: Iterable<number>) => {\n  let binary = '';\n  const bytes = new Uint8Array(buffer);\n  const len = bytes.byteLength;\n  for (let i = 0; i < len; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return window.btoa(binary);\n};\n\nexport const getAccessFromPermissionNumber = (\n  value: number,\n  permissionLevels: { name: string; value: number }[]\n) => {\n  return permissionLevels.reduce((prevValue, currValue) => {\n    if (currValue.value > prevValue.value && currValue.value <= value) {\n      return currValue;\n    }\n\n    return prevValue;\n  }, permissionLevels[0]);\n};\n\nexport const moveElementInArray = (arr: Array<unknown>, fromIndex: number, toIndex: number) => {\n  const element = arr[fromIndex];\n  arr.splice(fromIndex, 1);\n  arr.splice(toIndex, 0, element);\n\n  return arr;\n};\n","export const convertTextToSlug = (text: string) => {\n  return text.split(' ').join('-').toLowerCase();\n};\n\nexport const stringify = (obj: unknown) => {\n  return Object.keys(obj)\n    .map((key) => key + '=' + obj[key])\n    .join('&');\n};\n","import { useQuery } from '@tanstack/react-query';\nimport { CircleNetworkProvider } from '../../provider/connections/CircleNetworkProvider';\nimport { CircleNetworkRequestProvider } from '../../provider/connections/CircleNetworkRequestProvider';\nimport useAuth from '../auth/useAuth';\n\nconst useConnections = () => {\n  const { getSharedSecret } = useAuth();\n  const circleNetworkRequestProvider = CircleNetworkRequestProvider.getInstance(getSharedSecret());\n  const circleNetworkProvider = CircleNetworkProvider.getInstance(getSharedSecret());\n\n  const fetchPendingConnections = async () => {\n    return await (\n      await circleNetworkRequestProvider.getPendingRequests({ pageNumber: 1, pageSize: 10 })\n    ).results;\n  };\n\n  const fetchSentRequests = async () => {\n    return await (\n      await circleNetworkRequestProvider.getSentRequests({ pageNumber: 1, pageSize: 10 })\n    ).results;\n  };\n\n  const fetchConnections = async () => {\n    return await (\n      await circleNetworkProvider.getConnections({ pageNumber: 1, pageSize: 10 })\n    ).results;\n  };\n\n  return {\n    fetchPending: useQuery(['pendingConnections'], () => fetchPendingConnections(), {\n      refetchOnWindowFocus: false,\n    }),\n    fetchSent: useQuery(['sentRequests'], () => fetchSentRequests(), {\n      refetchOnWindowFocus: false,\n    }),\n    fetchActive: useQuery(['activeConnections'], () => fetchConnections(), {\n      refetchOnWindowFocus: false,\n    }),\n  };\n};\n\nexport default useConnections;\n","import { useQuery } from '@tanstack/react-query';\nimport { ApiType, CoreClient, TargetDrive } from '@youfoundation/transit-lib';\nimport useAuth from '../auth/useAuth';\n\nconst useDrive = ({ targetDrive }: { targetDrive: TargetDrive }) => {\n  const { getSharedSecret } = useAuth();\n  const client = new CoreClient({ api: ApiType.Owner, sharedSecret: getSharedSecret() });\n\n  const fetch = async (targetDrive: TargetDrive) => {\n    const allDrives = await (\n      await client.driveProvider.GetDrives({ pageNumber: 1, pageSize: 100 })\n    ).results;\n\n    return allDrives.find(\n      (drive) =>\n        drive.targetDriveInfo.alias === targetDrive.alias &&\n        drive.targetDriveInfo.type === targetDrive.type\n    );\n  };\n\n  return {\n    fetch: useQuery(\n      ['drive', `${targetDrive.alias}_${targetDrive.type}`],\n      () => fetch(targetDrive),\n      {\n        refetchOnWindowFocus: false,\n      }\n    ),\n  };\n};\n\nexport default useDrive;\n","import { useQuery } from '@tanstack/react-query';\nimport { ApiType, CoreClient } from '@youfoundation/transit-lib';\nimport useAuth from '../auth/useAuth';\n\nconst useDrives = () => {\n  const { getSharedSecret } = useAuth();\n  const client = new CoreClient({ api: ApiType.Owner, sharedSecret: getSharedSecret() });\n\n  const fetchAll = async () => {\n    return await (\n      await client.driveProvider.GetDrives({ pageNumber: 1, pageSize: 100 })\n    ).results;\n  };\n\n  return {\n    fetch: useQuery(['drives'], () => fetchAll(), {\n      refetchOnWindowFocus: false,\n    }),\n  };\n};\n\nexport default useDrives;\n","import { ConnectionInfo, DotYouIdRequest, DotYouProfile } from './CircleDataTypes';\nimport { DataUtil, PagedResult, PagingOptions } from '@youfoundation/transit-lib';\nimport { OwnerProviderBase } from '../OwnerProviderBase';\nimport { stringify } from '../../helpers/common';\n\n//Handles management of established connections\nexport class CircleNetworkProvider extends OwnerProviderBase {\n  private static instance: CircleNetworkProvider;\n  private root = '/circles/connections';\n\n  constructor(sharedSecret: Uint8Array | undefined) {\n    if (!sharedSecret) {\n      throw 'Shared Secret is required';\n    }\n    super(sharedSecret);\n  }\n\n  async blockDotYouId(dotYouId: string): Promise<boolean> {\n    const client = super.createAxiosClient();\n    const url = this.root + '/block';\n\n    const data: DotYouIdRequest = { dotYouId: dotYouId };\n    return client\n      .post(url, data)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  async disconnectFromContact(dotYouId: string): Promise<boolean> {\n    const client = super.createAxiosClient();\n    const url = this.root + '/disconnect';\n    const data: DotYouIdRequest = { dotYouId: dotYouId };\n    return client\n      .post(url, data)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  async getConnections(data: PagingOptions): Promise<PagedResult<DotYouProfile>> {\n    const client = super.createAxiosClient();\n    const url = this.root + '/connected?' + stringify(data);\n    return client.post<PagedResult<DotYouProfile>>(url, data).then((response) => {\n      return response.data;\n\n      // const results = response.data.results.map((connection) => {\n      //   return {\n      //     ...connection,\n      //     originalContactData: {\n      //       ...connection.originalContactData,\n      //       image: connection.originalContactData.image\n      //         ? {\n      //             ...connection.originalContactData.image,\n      //             // content: connection.originalContactData.image.content\n      //             content:\n      //               typeof connection.originalContactData.image.content === 'string'\n      //                 ? DataUtil.base64ToUint8Array(connection.originalContactData.image.content)\n      //                 : connection.originalContactData.image.content,\n      //           }\n      //         : undefined,\n      //     },\n      //   };\n      // });\n\n      // return { ...response.data, results: results };\n    });\n  }\n\n  async getBlockedConnections(params: PagingOptions): Promise<PagedResult<DotYouProfile>> {\n    const client = super.createAxiosClient();\n    const url = this.root + '/blocked?' + stringify(params);\n    return client\n      .get(url)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  getConnectionInfo(dotYouId: string): Promise<ConnectionInfo> {\n    const client = super.createAxiosClient();\n    const url = this.root + '/status';\n\n    const data: DotYouIdRequest = { dotYouId: dotYouId };\n    return client\n      .post(url, data)\n      .then((response) => {\n        return { ...response.data, status: response.data?.status?.toLowerCase() };\n      })\n      .catch(super.handleErrorResponse);\n  }\n  public static getInstance(sharedSecret): CircleNetworkProvider {\n    if (!CircleNetworkProvider.instance) {\n      CircleNetworkProvider.instance = new CircleNetworkProvider(sharedSecret);\n    }\n\n    return CircleNetworkProvider.instance;\n  }\n}\n","import {\n  AcceptRequestHeader,\n  ConnectionRequest,\n  ConnectionRequestHeader,\n  DotYouIdRequest,\n} from './CircleDataTypes';\nimport {\n  ApiType,\n  BuiltInProfiles,\n  CoreClient,\n  DataUtil,\n  getTargetDriveFromProfileId,\n  PagedResult,\n  PagingOptions,\n} from '@youfoundation/transit-lib';\nimport { OwnerProviderBase } from '../OwnerProviderBase';\nimport { stringify } from '../../helpers/common';\n\n//Handles making and reading requests to connect with others\nexport class CircleNetworkRequestProvider extends OwnerProviderBase {\n  private static instance: CircleNetworkRequestProvider;\n\n  private Root = '/circles/requests';\n  private SentPathRoot: string = this.Root + '/sent';\n  private PendingPathRoot: string = this.Root + '/pending';\n\n  constructor(sharedSecret: Uint8Array | undefined) {\n    if (!sharedSecret) {\n      throw 'Shared Secret is required';\n    }\n    super(sharedSecret);\n  }\n\n  async getPendingRequests(params: PagingOptions): Promise<PagedResult<ConnectionRequest>> {\n    const client = super.createAxiosClient();\n    const url = this.PendingPathRoot + '/list?' + stringify(params);\n\n    return client\n      .get<PagedResult<ConnectionRequest>>(url)\n      .then((response) => {\n        return response.data;\n\n        // const results = response.data.results.map((request) => {\n        //   return {\n        //     ...request,\n        //     contactData: {\n        //       ...request.contactData,\n        //       image: request.contactData.image\n        //         ? {\n        //             ...request.contactData.image,\n        //             content:\n        //               typeof request.contactData.image.content === 'string'\n        //                 ? DataUtil.base64ToUint8Array(request.contactData.image.content)\n        //                 : request.contactData.image.content,\n        //           }\n        //         : undefined,\n        //     },\n        //   };\n        // });\n\n        // return { ...response.data, results: results };\n      })\n      .catch(() => {\n        super.handleErrorResponse;\n        return undefined;\n      });\n  }\n\n  async getPendingRequest(dotYouId: string): Promise<ConnectionRequest> {\n    const client = super.createAxiosClient();\n    const url = this.PendingPathRoot + '/single';\n\n    //TODO: encrypt payload with shared secret when server requires it\n    const data: DotYouIdRequest = { dotYouId: dotYouId };\n    return client\n      .post(url, data)\n      .then((response) => {\n        return { ...response.data, status: 'pending' };\n      })\n      .catch(() => {\n        return undefined;\n      });\n  }\n\n  async getSentRequests(params: PagingOptions): Promise<PagedResult<ConnectionRequest>> {\n    const client = super.createAxiosClient();\n    const url = this.SentPathRoot + '/list?' + stringify(params);\n\n    return client\n      .get(url)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  async getSentRequest(dotYouId: string): Promise<ConnectionRequest> {\n    const client = super.createAxiosClient();\n    const url = this.SentPathRoot + '/single';\n\n    //TODO: encrypt payload with shared secret when server requires it\n    const data: DotYouIdRequest = { dotYouId: dotYouId };\n\n    return client\n      .post(url, data)\n      .then((response) => {\n        return { ...response.data, status: 'sent' };\n      })\n      .catch((err) => {\n        if (err.response.status === 404) {\n          return null;\n        }\n        super.handleErrorResponse(err);\n      });\n  }\n\n  async acceptConnectionRequest(\n    dotYouId: string,\n    name: { givenName: string; surname: string },\n    photoFileId?: string | undefined,\n    circleIds?: string[]\n  ): Promise<boolean> {\n    const client = super.createAxiosClient();\n    const url = this.PendingPathRoot + '/accept/';\n\n    const header: AcceptRequestHeader = {\n      sender: dotYouId,\n      circleIds: circleIds,\n      permissions: null,\n      contactData: { ...name },\n    };\n\n    if (photoFileId) {\n      const coreClient = new CoreClient({\n        api: ApiType.Owner,\n        sharedSecret: this.getSharedSecret(),\n      });\n\n      const photoData = await coreClient.mediaProvider.getDecryptedImageData(\n        getTargetDriveFromProfileId(BuiltInProfiles.StandardProfileId.toString()),\n        photoFileId\n      );\n\n      if (photoData) {\n        header.contactData.image = {\n          ...photoData,\n          content: DataUtil.uint8ArrayToBase64(new Uint8Array(photoData.content)) as any,\n        };\n      }\n    }\n\n    return client\n      .post(url, header)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  async deletePendingRequest(dotYouId: string): Promise<boolean> {\n    const client = super.createAxiosClient();\n    const url = this.PendingPathRoot + '/delete';\n\n    //TODO: encrypt payload with shared secret when server requires it\n    const data: DotYouIdRequest = { dotYouId: dotYouId };\n\n    return client\n      .post(url, data)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  async deleteSentRequest(dotYouId: string): Promise<boolean> {\n    const client = super.createAxiosClient();\n    const url = this.SentPathRoot + '/delete';\n    //TODO: encrypt payload with shared secret when server requires it\n    const data: DotYouIdRequest = { dotYouId: dotYouId };\n\n    return client\n      .post(url, data)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  async sendRequest(\n    dotYouId: string,\n    message: string,\n    name: { givenName: string; surname: string },\n    photoFileId: string | undefined,\n    circleIds: string[]\n  ): Promise<boolean> {\n    const url = this.Root + '/sendrequest';\n    const data: ConnectionRequestHeader = {\n      recipient: dotYouId,\n      message: message,\n      contactData: { ...name },\n      circleIds: circleIds,\n    };\n\n    if (photoFileId) {\n      const coreClient = new CoreClient({\n        api: ApiType.Owner,\n        sharedSecret: this.getSharedSecret(),\n      });\n\n      const photoData = await coreClient.mediaProvider.getDecryptedImageData(\n        getTargetDriveFromProfileId(BuiltInProfiles.StandardProfileId.toString()),\n        photoFileId\n      );\n\n      if (photoData) {\n        data.contactData.image = {\n          ...photoData,\n          content: DataUtil.uint8ArrayToBase64(new Uint8Array(photoData.content)) as any,\n        };\n      }\n    }\n\n    const client = super.createAxiosClient();\n    return client\n      .post(url, data)\n      .then((response) => {\n        return response.data;\n      })\n      .catch(super.handleErrorResponse);\n  }\n\n  public static getInstance(sharedSecret): CircleNetworkRequestProvider {\n    if (!CircleNetworkRequestProvider.instance) {\n      CircleNetworkRequestProvider.instance = new CircleNetworkRequestProvider(sharedSecret);\n    }\n\n    return CircleNetworkRequestProvider.instance;\n  }\n}\n","import { t } from '../../helpers/i18n/dictionary';\n\nexport const drivePermissionLevels = [\n  { name: t('None'), value: 0 },\n  { name: t('Reader'), value: 1 },\n  { name: t('Editor'), value: 3 },\n];\n\nexport const circlePermissionLevels = [\n  { name: t('None'), value: 0 },\n  { name: t('Read Connections'), value: 10 },\n  { name: t('Read Circle Members'), value: 50 },\n];\n\nexport const appPermissionLevels = [\n  { name: t('None'), value: 0 },\n  { name: t('Read Connections'), value: 10 },\n  { name: t('Manage Connection Requests'), value: 30 },\n  { name: t('Read Circle Members'), value: 50 },\n];\n"],"names":["type","title","children","className","bgClass","dotYouId","originalContactData","getSharedSecret","useAuth","contactProvider","ContactProvider","fetchSingle","getContactByDotYouId","contactBookContact","console","log","parseContact","fallbackContact","name","givenName","surname","image","fetchDataFromPublic","publicContact","saveContact","undefined","client","PublicClient","api","ApiType","root","fileReadOnlyProvider","GetFile","rawData","nameAttr","get","photoRefAttr","photoAttr","payload","data","profileImageId","previewThumbnail","additionalThumbnails","reduce","prevVal","curValue","pixelWidth","header","fileMetadata","appData","pixelHeight","returnVal","profileImage","contentType","content","contact","buffer","DataUtil","url","window","URL","createObjectURL","Blob","fetch","useQuery","refetchOnWindowFocus","onError","err","error","initials","contactData","href","checked","onClick","Wrapper","to","useContact","connectionDetails","isLoading","LoadingParagraph","nameData","fullName","photoData","src","width","height","splittedDomain","split","length","getInitials","confirmText","isOpen","defaultValue","onConfirm","onCancel","target","usePortal","useCircle","createOrUpdate","mutateAsync","createOrUpdateStatus","status","drives","useDrives","useState","driveGrants","newCircleDefinition","setNewCircleDefinition","useEffect","dialog","onClose","size","onSubmit","e","preventDefault","htmlFor","t","id","onChange","value","required","description","permissionLevels","circlePermissionLevels","permissions","keys","newValue","map","drive","index","targetDriveInfo","alias","drivePermissionLevels","find","driveGrant","permissionedDrive","permission","filter","state","icon","createPortal","props","Option","isChecked","setIsOpen","setInnerValue","wrapperRef","useRef","useOutsideTrigger","currentValue","level","setValue","ref","some","val","prevValue","currValue","xmlns","viewBox","fill","d","DriveView","permissionTree","useDrive","targetDrive","getAccessFromPermissionNumber","isOpaqueBg","isBorderLess","defaultMembers","confirmationStatus","useConnections","fetchActive","members","membersLoading","toProvideMembers","setToProviderMembers","toRevokeMembers","setToRevokeMembers","DialogWrapper","member","selectedMember","revokedMember","providedMember","PersonCard","isInDefault","defaultMember","isRevoked","isProvided","toggleMember","ActionButton","CircleMemberCard","circleId","revokeGrants","mutate","revokeGrantsStatus","dotYouIds","circleKey","useParams","decodedCircleKey","decodeURIComponent","circle","circleLoading","fetchMembers","provideGrants","addMembers","addMemberStatus","removeMembers","removeMemberStatus","enableCircle","enableCircleStatus","disableCircle","disableCircleStatus","removeCircle","removeCircleStatus","isOpenMemberLookup","setIsOpenMemberLookup","isOpenEdit","setIsOpenEdit","LoadingDetailPage","PageMeta","Circles","actions","disabled","confirmOptions","buttonText","body","breadCrumbs","Alert","Section","grant","DrivePermissionView","CircleDialog","mergeStates","rando","arr","Math","floor","random","getRandomAbstract","getFunName","adjectives","base64ToArrayBuffer","base64","binary_string","atob","len","bytes","Uint8Array","i","charCodeAt","moveElementInArray","fromIndex","toIndex","element","splice","convertTextToSlug","text","join","toLowerCase","stringify","obj","Object","key","circleNetworkRequestProvider","CircleNetworkRequestProvider","circleNetworkProvider","CircleNetworkProvider","fetchPendingConnections","getPendingRequests","pageNumber","pageSize","results","fetchSentRequests","getSentRequests","fetchConnections","getConnections","fetchPending","fetchSent","CoreClient","sharedSecret","driveProvider","GetDrives","allDrives","fetchAll","this","post","then","response","catch","params","instance","OwnerProviderBase","Root","SentPathRoot","PendingPathRoot","photoFileId","circleIds","sender","coreClient","mediaProvider","getDecryptedImageData","getTargetDriveFromProfileId","BuiltInProfiles","message","recipient","appPermissionLevels"],"sourceRoot":""}