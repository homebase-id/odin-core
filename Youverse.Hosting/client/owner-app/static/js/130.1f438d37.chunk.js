"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[130],{5660:function(e,t,r){var n=r(9439),a=r(2791),s=r(184);t.Z=function(e){var t=e.className,r=e.state,c=(0,a.useState)(null),i=(0,n.Z)(c,2),l=i[0],o=i[1],u=(0,a.useState)(new Date),m=(0,n.Z)(u,2),d=m[0],f=m[1];if((0,a.useEffect)((function(){"success"===r&&o(new Date)}),[r]),(0,a.useEffect)((function(){var e=setTimeout((function(){f(new Date)}),3e4);return function(){clearTimeout(e)}}),[d]),"loading"===r)return(0,s.jsx)("p",{className:"".concat(t," text-sm"),children:"Saving..."});if("error"===r)return(0,s.jsx)("p",{className:"".concat(t," text-sm"),children:"Something went wrong"});if(!l)return null;var x=d.getTime()-l.getTime(),h=l?x<=6e4?"a few seconds ago":x<=6e5?"a few minutes ago":l.toLocaleString():"";return h?(0,s.jsxs)("p",{className:"".concat(t," text-sm"),children:["Last saved ",h]}):null}},3004:function(e,t,r){var n=r(3504),a=r(5660),s=r(184);t.Z=function(e){var t=e.title,r=e.actions,c=e.saveStatus,i=e.breadCrumbs,l=e.icon;return(0,s.jsx)("section",{className:"-mx-5 -mt-4 mb-10 border-b-2 border-gray-100 bg-slate-50 py-4 pr-5 pl-10 dark:border-gray-700 dark:bg-slate-800 sm:-mx-10 sm:-mt-8 sm:py-8 sm:px-10",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,s.jsxs)("div",{className:"flex-col",children:[i&&(0,s.jsx)("ul",{className:"mb-2 hidden flex-row sm:flex",children:i.map((function(e,t){return(0,s.jsx)("li",{className:"mr-2",children:e.href?(0,s.jsxs)(n.rU,{to:e.href,className:"",children:[e.title,(0,s.jsx)("span",{className:"ml-2",children:">"})]}):(0,s.jsx)("span",{className:"text-slate-500",children:e.title})},t)}))}),t&&(0,s.jsxs)("h1",{className:"mb-5 flex flex-row text-4xl dark:text-white",children:[l&&l({className:"h-8 w-8 my-auto mr-4"})," ",t]})]}),(0,s.jsxs)("div",{className:"ml-auto",children:[(0,s.jsx)("div",{className:"-m-2 flex flex-col flex-wrap justify-end sm:flex-row sm:items-center",children:r}),c&&(0,s.jsx)(a.Z,{className:"mt-1",state:c})]})]})})}},2291:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var n=r(3504),a=r(4165),s=r(5861),c=r(7408),i=r(8534),l=r(6117),o=r(6703),u=function(){var e=(0,l.Z)().getSharedSecret,t=i.m.getInstance(e()),r=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getContacts();case 2:return e.next=4,e.sent.map((function(e){return(0,o.i)(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetch:(0,c.useQuery)(["contacts"],r,{refetchOnWindowFocus:!1})}},m=r(9779),d=r(9006),f=r(5300),x=r(1215),h=r(3004),p=r(184),g=function(){var e=u().fetch,t=e.data,r=e.isLoading;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(h.Z,{icon:x.Z,title:"Contacts"}),r?(0,p.jsx)(p.Fragment,{}):null!==t&&void 0!==t&&t.length?(0,p.jsx)("div",{className:"-m-1 flex flex-row flex-wrap",children:t.map((function(e){return(0,p.jsx)(j,{contact:e,className:"w-1/2 p-1 sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6"},e.id)}))}):null]})},j=function(e){var t=e.contact,r=e.className,a=(0,m.Z)((null===t||void 0===t?void 0:t.imageFileId)||void 0,d.F.ContactTargetDrive).fetch.data;return(0,p.jsx)("div",{className:r,children:(0,p.jsx)(n.rU,{to:"/owner/contacts/".concat(t.id),children:(0,p.jsxs)("div",{className:"h-full rounded-md border border-gray-200 border-opacity-60 bg-white transition-colors dark:border-gray-800 dark:bg-gray-800",children:[(0,p.jsx)("div",{className:"aspect-square",children:"image"in t&&t.image?(0,p.jsx)("figure",{className:"relative overflow-hidden",children:(0,p.jsx)("img",{src:t.image.url,width:t.image.pixelWidth,height:t.image.pixelHeight,className:"aspect-square w-full object-cover"})}):t.imageFileId?(0,p.jsx)("figure",{className:"relative overflow-hidden",children:(0,p.jsx)("img",{src:a,className:"aspect-square object-cover "})}):(0,p.jsx)(f.Z,{initials:t.name?"".concat(t.name.givenName[0]).concat(t.name.surname[0]):""})}),(0,p.jsx)("div",{className:"p-2",children:(0,p.jsx)("h2",{className:"font-thiner mb-6 dark:text-white",children:t.name?"".concat(t.name.givenName," ").concat(t.name.surname):""})})]})})})}},4942:function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return n}})},1413:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(4942);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}}}]);
//# sourceMappingURL=130.1f438d37.chunk.js.map