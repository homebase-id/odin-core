"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[633],{5660:function(e,t,n){var r=n(885),a=n(2791),i=n(184);t.Z=function(e){var t=e.className,n=e.state,u=(0,a.useState)(null),s=(0,r.Z)(u,2),o=s[0],c=s[1],l=(0,a.useState)(new Date),f=(0,r.Z)(l,2),p=f[0],d=f[1];if((0,a.useEffect)((function(){"success"===n&&c(new Date)}),[n]),(0,a.useEffect)((function(){var e=setTimeout((function(){d(new Date)}),3e4);return function(){clearTimeout(e)}}),[p]),!o)return null;var h=p.getTime()-o.getTime(),m=o?h<=6e4?"a few seconds ago":h<=6e5?"a few minutes ago":o.toLocaleString():"";return m?(0,i.jsxs)("p",{className:"".concat(t," text-sm"),children:["Last saved ",m]}):null}},3004:function(e,t,n){var r=n(3504),a=n(5660),i=n(184);t.Z=function(e){var t=e.title,n=e.actions,u=e.saveStatus,s=e.breadCrumbs,o=e.icon;return(0,i.jsx)("section",{className:"-my-8 -mx-10 mb-10 border-b-2 border-gray-100 bg-slate-50 py-8 px-10 dark:border-gray-700 dark:bg-slate-800",children:(0,i.jsxs)("div",{className:"flex flex-row",children:[(0,i.jsxs)("div",{className:"flex-col",children:[s&&(0,i.jsx)("ul",{className:"mb-2 hidden flex-row sm:flex",children:s.map((function(e,t){return(0,i.jsx)("li",{className:"mr-2",children:e.href?(0,i.jsxs)(r.rU,{to:e.href,className:"",children:[e.title,(0,i.jsx)("span",{className:"ml-2",children:">"})]}):(0,i.jsx)("span",{className:"text-slate-500",children:e.title})},t)}))}),t&&(0,i.jsxs)("h1",{className:"mb-5 flex flex-row text-4xl dark:text-white",children:[o&&o({className:"h-8 w-8 my-auto mr-4"})," ",t]})]}),(0,i.jsxs)("div",{className:"ml-auto ",children:[(0,i.jsx)("div",{className:"flex flex-row",children:n}),u&&(0,i.jsx)(a.Z,{className:"mt-1",state:u})]})]})})}},3990:function(e,t,n){n.d(t,{P:function(){return a},V:function(){return r}});var r=function(e){return e.split(" ").join("-").toLowerCase()},a=function(e){return Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")}},9088:function(e,t,n){var r=n(4165),a=n(5861),i=n(7408),u=n(1803),s=n(6117),o=n(1695);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.channelId,n=(0,s.Z)(),c=n.getSharedSecret,l=new u.KU({api:u.Ii.Owner,sharedSecret:c()}),f=(0,i.useQueryClient)(),p=(0,o.Z)().publish.mutate,d=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l.blogDefinitionProvider.getChannelDefinition(t);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.blogDefinitionProvider.saveChannelDefinition(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{fetch:(0,i.useQuery)(["channel",t],(function(){return d(t)}),{refetchOnMount:!1,refetchOnWindowFocus:!1}),save:(0,i.useMutation)(h,{onSuccess:function(e,t){t.channelId?f.removeQueries(["channel",t.channelId]):f.removeQueries(["channel"]),f.removeQueries(["channels"]),p()}})}}},7221:function(e,t,n){var r=n(4165),a=n(1413),i=n(5861),u=n(7408),s=n(1803),o=n(6117);t.Z=function(e){var t=e.profileId,n=e.sectionId,c=(0,o.Z)().getSharedSecret,l=new s.KU({api:s.Ii.Owner,sharedSecret:c()}),f=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.profileDataProvider.getProfileAttributes(t,n,100);case 2:return i=e.sent,e.abrupt("return",i.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{typeDefinition:Object.values(s.H1).find((function(t){return t.type.toString()===e.type}))})})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return[(0,u.useQuery)(["attributes",t,n],(function(){return f(t,n)}),{refetchOnMount:!1,refetchOnWindowFocus:!1})]}},2516:function(e,t,n){var r=n(4165),a=n(1413),i=n(5861),u=n(7408),s=n(1803),o=n(6117);t.Z=function(){var e=(0,o.Z)().getSharedSecret,t=new s.KU({api:s.Ii.Owner,sharedSecret:e()}),n=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.homePageProvider.getAttributes(s.Dg.HomePage.toString());case 2:return n=e.sent.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{typeDefinition:{type:s.Dg.HomePage.toString(),name:"Home Page",description:""}})})),e.next=5,t.homePageProvider.getAttributes(s.Dg.Theme.toString());case 5:return i=e.sent.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{typeDefinition:{type:s.Dg.Theme.toString(),name:"Theme",description:""}})})),e.abrupt("return",{home:n,theme:i});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetch:(0,u.useQuery)(["homeAtrributes"],(function(){return n()}),{refetchOnMount:!1,refetchOnWindowFocus:!1})}}},1695:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(2982),a=n(4165),i=n(5861),u=n(885),s=n(7408),o=n(1803),c=n(1413),l=n(5671),f=n(3144),p=n(9340),d=n(1129),h=function(e){(0,p.Z)(n,e);var t=(0,d.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,{api:o.Ii.Owner,sharedSecret:e})).publishFile=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t,n){var i,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.createAxiosClient(),u={filename:t,config:{crossOriginalBehavior:"AllowAllOrigins",contentType:"string"},sections:n.map((function(e){return(0,c.Z)((0,c.Z)({},e),{},{queryParams:m(e.queryParams)})}))},e.next=4,i.post("/optimization/cdn/publish",u);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r}return(0,f.Z)(n,null,[{key:"getInstance",value:function(e){return n.instance||(n.instance=new n(e)),n.instance}}]),n}(o.BX);h.instance=void 0;var m=function(e){return e.tagsMatchAtLeastOne&&(e.tagsMatchAtLeastOne=e.tagsMatchAtLeastOne.map((function(e){return o.j4.uint8ArrayToBase64(o.j4.stringToUint8Array(e))}))),e.tagsMatchAll&&(e.tagsMatchAll=e.tagsMatchAll.map((function(e){return o.j4.uint8ArrayToBase64(o.j4.stringToUint8Array(e))}))),e.sender&&(e.sender=e.sender.map((function(e){return o.j4.uint8ArrayToBase64(o.j4.stringToUint8Array(e))}))),e},g=n(6117),v=n(7221),y=n(2516),b=function(){var e=(0,g.Z)().getSharedSecret,t=(0,y.Z)().fetch.data,n=(0,v.Z)({profileId:o.P.StandardProfileId.toString(),sectionId:o.P.PersonalInfoSectionId.toString()}),c=(0,u.Z)(n,1)[0].data,l=new o.KU({api:o.Ii.Owner,sharedSecret:e()}),f=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(){var u,s,f,p;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=h.getInstance(e()),s=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n,r,i,s,l,f,p,d,h,m,g,v,y,b,P,Z,w,x,O,S;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={alias:o.Ib.DefaultDriveId.toString(),type:o._U.ProfileDriveType.toString()},l={alias:o.P.StandardProfileId.toString(),type:o._U.ProfileDriveType.toString()},f={targetDrive:l,fileType:[o.Uz.AttributeFileType],tagsMatchAll:[o.P.PersonalInfoSectionId.toString(),o.H1.Name.type.toString()]},p={targetDrive:l,fileType:[o.Uz.AttributeFileType],tagsMatchAll:[o.P.PersonalInfoSectionId.toString(),o.H1.Photo.type.toString()]},d={targetDrive:l,fileType:[o.Uz.AttributeFileType],tagsMatchAtLeastOne:[o.P.SocialIdentitySectionId.toString()]},h={targetDrive:s,fileType:[o.Uz.AttributeFileType],tagsMatchAtLeastOne:[o.Dg.Theme.toString()]},m={targetDrive:l,fileType:[o.Uz.AttributeFileType],tagsMatchAtLeastOne:[o.H1.FullBio.type.toString()]},g={targetDrive:l,fileType:[o.Uz.AttributeFileType],tagsMatchAtLeastOne:[o.H1.Link.type.toString()]},v={targetDrive:s,fileType:[o.Uz.AttributeFileType],tagsMatchAtLeastOne:[o.Dg.HomePage.toString()]},b=[{name:"socials",queryParams:d,resultOptions:y={includeAdditionalThumbnails:!1,includeJsonContent:!0,includePayload:!1,excludePreviewThumbnail:!1}},{name:"name",queryParams:f,resultOptions:y},{name:"photo",queryParams:p,resultOptions:y},{name:"bio",queryParams:m,resultOptions:y},{name:"link",queryParams:g,resultOptions:y},{name:"theme",queryParams:h,resultOptions:y},{name:"home",queryParams:v,resultOptions:y}],P=null===(n=t.home[0])||void 0===n?void 0:n.data.headerImageUrl,Z=(0,o.H3)(o.Ib.DefaultDriveId.toString()),w={targetDrive:Z,fileType:[0],tagsMatchAtLeastOne:[P]},P&&b.push({name:P,queryParams:w,resultOptions:y}),x=null===c||void 0===c||null===(r=c.find((function(e){return e.acl.requiredSecurityGroup===o.hh.Anonymous&&e.type===o.H1.Photo.type.toString()})))||void 0===r||null===(i=r.data)||void 0===i?void 0:i.profileImageId,O=(0,o.H3)(o.P.StandardProfileId.toString()),S={targetDrive:O,fileType:[0],tagsMatchAtLeastOne:[x]},x&&b.push({name:x,queryParams:S,resultOptions:y}),e.next=21,u.publishFile("profile.json",b);case 21:return e.abrupt("return",e.sent);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,o.T4)(),n={targetDrive:t,fileType:[o.Hm.BlogChannelDefinitionFileType]},r=[{name:"channels",queryParams:n,resultOptions:{includeAdditionalThumbnails:!1,includeJsonContent:!0,includePayload:!1,excludePreviewThumbnail:!1}}],e.next=6,u.publishFile("channels.json",r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t,n,i,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={includeAdditionalThumbnails:!1,includeJsonContent:!0,includePayload:!1,excludePreviewThumbnail:!1},e.next=3,l.blogDefinitionProvider.getChannelDefinitions();case 3:return n=e.sent,i=n.map((function(e){var n={targetDrive:{alias:e.channelId,type:o.Hm.ChannelDriveType.toString()},fileType:[o.Hm.BlogPostFileType]};return{name:e.channelId,queryParams:n,resultOptions:t}})),e.next=7,l.blogPostReadonlyProvider.getRecentPosts("Article",6*n.length);case 7:return s=e.sent.map((function(e){var n={targetDrive:l.blogDefinitionProvider.getPublishChannelDrive(e.channelId),fileType:[0],tagsMatchAtLeastOne:[e.primaryImageFileId]};return{name:e.primaryImageFileId,queryParams:n,resultOptions:t}})),e.next=10,u.publishFile("blogs.json",[].concat((0,r.Z)(i),(0,r.Z)(s)));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.next=6,s();case 6:return n.next=8,f();case 8:return n.next=10,p();case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{publish:(0,s.useMutation)(f,{onError:function(e){console.error(e)}})}}},4942:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=633.0a8144fc.chunk.js.map