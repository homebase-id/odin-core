"use strict";(self.webpackChunkowner_app=self.webpackChunkowner_app||[]).push([[914],{5660:function(e,s,a){var r=a(9439),t=a(2791),n=a(184);s.Z=function(e){var s=e.className,a=e.state,c=(0,t.useState)(null),l=(0,r.Z)(c,2),i=l[0],o=l[1],m=(0,t.useState)(new Date),d=(0,r.Z)(m,2),u=d[0],x=d[1];if((0,t.useEffect)((function(){"success"===a&&o(new Date)}),[a]),(0,t.useEffect)((function(){var e=setTimeout((function(){x(new Date)}),3e4);return function(){clearTimeout(e)}}),[u]),"loading"===a)return(0,n.jsx)("p",{className:"".concat(s," text-sm"),children:"Saving..."});if("error"===a)return(0,n.jsx)("p",{className:"".concat(s," text-sm"),children:"Something went wrong"});if(!i)return null;var f=u.getTime()-i.getTime(),h=i?f<=6e4?"a few seconds ago":f<=6e5?"a few minutes ago":i.toLocaleString():"";return h?(0,n.jsxs)("p",{className:"".concat(s," text-sm"),children:["Last saved ",h]}):null}},3004:function(e,s,a){var r=a(3504),t=a(5660),n=a(184);s.Z=function(e){var s=e.title,a=e.actions,c=e.saveStatus,l=e.breadCrumbs,i=e.icon;return(0,n.jsx)("section",{className:"-mx-5 -mt-4 mb-10 border-b-2 border-gray-100 bg-slate-50 py-4 pr-5 pl-10 dark:border-gray-700 dark:bg-slate-800 sm:-mx-10 sm:-mt-8 sm:py-8 sm:px-10",children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,n.jsxs)("div",{className:"flex-col",children:[l&&(0,n.jsx)("ul",{className:"mb-2 hidden flex-row sm:flex",children:l.map((function(e,s){return(0,n.jsx)("li",{className:"mr-2",children:e.href?(0,n.jsxs)(r.rU,{to:e.href,className:"",children:[e.title,(0,n.jsx)("span",{className:"ml-2",children:">"})]}):(0,n.jsx)("span",{className:"text-slate-500",children:e.title})},s)}))}),s&&(0,n.jsxs)("h1",{className:"mb-5 flex flex-row text-4xl dark:text-white",children:[i&&i({className:"h-8 w-8 my-auto mr-4"})," ",s]})]}),(0,n.jsxs)("div",{className:"ml-auto",children:[(0,n.jsx)("div",{className:"-m-2 flex flex-col flex-wrap justify-end sm:flex-row sm:items-center",children:a}),c&&(0,n.jsx)(t.Z,{className:"mt-1",state:c})]})]})})}},5914:function(e,s,a){a.r(s);var r=a(3504),t=a(4990),n=a(6770),c=a(894),l=a(3004),i=a(1191),o=a(184),m=function(e){var s=e.driveDefinition,a=e.className;return(0,o.jsx)("div",{className:"".concat(a),children:(0,o.jsx)(r.rU,{to:"".concat(s.targetDriveInfo.alias,"_").concat(s.targetDriveInfo.type),className:"contents",children:(0,o.jsxs)("div",{className:"h-full rounded-md border-[1px] border-gray-200 border-opacity-60 bg-white transition-colors hover:bg-slate-100 dark:border-gray-800 dark:bg-gray-800 dark:hover:bg-slate-700",children:[(0,o.jsx)("h2",{className:"bg-slate-100 p-4 text-xl dark:bg-slate-700 dark:text-slate-200",children:s.name}),(0,o.jsxs)("div",{className:"p-4",children:[(0,o.jsx)("h3",{className:"text-lg",children:"Metadata"}),(0,o.jsx)("p",{children:s.metadata}),(0,o.jsxs)("ul",{children:[s.allowAnonymousReads?(0,o.jsx)("li",{children:"Allow Anonymous Reads"}):null,s.isReadonly?(0,o.jsx)("li",{children:"Read Only"}):null]})]})]})})})};s.default=function(){var e=(0,n.Z)().fetch,s=e.data,a=e.isLoading;return a&&o.Fragment,(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Z,{icon:c.Z,title:(0,t.t)("My Drives")}),(0,o.jsx)("section",{className:"-my-4",children:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Z,{className:"m-4 h-10"}),(0,o.jsx)(i.Z,{className:"m-4 h-10"}),(0,o.jsx)(i.Z,{className:"m-4 h-10"})]}):(0,o.jsx)(o.Fragment,{children:s?s.map((function(e){return(0,o.jsx)(m,{driveDefinition:e,className:"py-4"},"".concat(e.targetDriveInfo.alias,"-").concat(e.targetDriveInfo.type))})):null})})]})}},6770:function(e,s,a){var r=a(4165),t=a(5861),n=a(7408),c=a(6752),l=a(6117);s.Z=function(){var e=(0,l.Z)().getSharedSecret,s=new c.AO({api:c.Ii.Owner,sharedSecret:e()}),a=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.driveProvider.GetDrives({pageNumber:1,pageSize:100});case 2:return e.next=4,e.sent.results;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{fetch:(0,n.useQuery)(["drives"],(function(){return a()}),{refetchOnWindowFocus:!1})}}}}]);
//# sourceMappingURL=914.fa7c9fb3.chunk.js.map